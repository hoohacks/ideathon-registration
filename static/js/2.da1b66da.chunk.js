(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O}),n.d(t,"b",function(){return V}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return ne}),n.d(t,"e",function(){return M}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return de}),n.d(t,"m",function(){return H}),n.d(t,"n",function(){return x}),n.d(t,"o",function(){return re}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return X}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return oe}),n.d(t,"t",function(){return te}),n.d(t,"u",function(){return pe}),n.d(t,"v",function(){return j}),n.d(t,"w",function(){return W}),n.d(t,"x",function(){return S}),n.d(t,"y",function(){return I}),n.d(t,"z",function(){return C}),n.d(t,"A",function(){return $}),n.d(t,"B",function(){return N}),n.d(t,"C",function(){return D}),n.d(t,"D",function(){return E}),n.d(t,"E",function(){return R}),n.d(t,"F",function(){return T}),n.d(t,"G",function(){return P}),n.d(t,"H",function(){return A}),n.d(t,"I",function(){return K}),n.d(t,"J",function(){return B}),n.d(t,"K",function(){return Y}),n.d(t,"L",function(){return Z}),n.d(t,"M",function(){return ee}),n.d(t,"N",function(){return Q}),n.d(t,"O",function(){return se}),n.d(t,"P",function(){return ue}),n.d(t,"Q",function(){return q}),n.d(t,"R",function(){return L});var r=n(11),i=n(8),a=n(6),o=n(7),u=n(22),s=n(74),c=n(0),l=n(2);function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},p=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},y=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var t=y(e);return m.encodeByteArray(t,!0)},b=function(e){return g(e).replace(/\./g,"")},k=function(e){try{return m.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function w(e){return _(void 0,e)}function _(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_(e[n],t[n]));return e}var O=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function x(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b(JSON.stringify({alg:"none",type:"JWT"})),b(JSON.stringify(a)),""].join(".")}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function S(){return"object"===typeof self&&self.self===self}function I(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){return j().indexOf("Electron/")>=0}function N(){var e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return j().indexOf("MSAppHost/")>=0}function R(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function P(){return!function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"object"===typeof indexedDB}function L(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}function M(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var F="FirebaseError",U=function(e){function t(e,n,r){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,n))).code=e,o.customData=r,o.name=F,Object.setPrototypeOf(Object(u.a)(Object(u.a)(o)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(u.a)(Object(u.a)(o)),V.prototype.create),o}return Object(o.a)(t,e),t}(Object(s.a)(Error)),V=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(z,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new U(n,a,t)}}]),e}();var z=/\{\$([^}]+)}/g;function B(e){return JSON.parse(e)}function q(e){return JSON.stringify(e)}var G=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=B(k(a[0])||""),n=B(k(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},K=function(e){var t=G(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},W=function(e){var t=G(e).claims;return"object"===typeof t&&!0===t.admin};function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function X(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(J(u)&&J(s)){if(!X(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function J(e){return null!==e&&"object"===typeof e}function Z(e){for(var t=[],n=function(){var e=Object(r.a)(a[i],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},i=0,a=Object.entries(e);i<a.length;i++)n();return t.length?"&"+t.join("&"):""}function ee(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),i=Object(r.a)(n,2),a=i[0],o=i[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function te(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ne=function(){function e(){Object(c.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(l.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function re(e,t){var n=new ie(e,t);return n.subscribe.bind(n)}var ie=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ae),void 0===r.error&&(r.error=ae),void 0===r.complete&&(r.complete=ae);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function ae(){}function oe(e,t){return"".concat(e," failed: ").concat(t," argument ")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;p(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=1e3,le=2,fe=144e5,he=.5;function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le,r=t*Math.pow(n,e),i=Math.round(he*r*(Math.random()-.5)*2);return Math.min(fe,r+i)}function pe(e){return e&&e._delegate?e._delegate:e}}).call(this,n(48))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(83)},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(41);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a=n(22);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return df}),n.d(t,"b",function(){return ul}),n.d(t,"c",function(){return Wc}),n.d(t,"d",function(){return Dc}),n.d(t,"e",function(){return Vl}),n.d(t,"f",function(){return ol}),n.d(t,"g",function(){return L}),n.d(t,"h",function(){return cl}),n.d(t,"i",function(){return zl}),n.d(t,"j",function(){return Bl}),n.d(t,"k",function(){return X}),n.d(t,"l",function(){return yf}),n.d(t,"m",function(){return $e}),n.d(t,"n",function(){return re}),n.d(t,"o",function(){return ne}),n.d(t,"p",function(){return Cc}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return Ve}),n.d(t,"s",function(){return T}),n.d(t,"t",function(){return Ec}),n.d(t,"u",function(){return If}),n.d(t,"v",function(){return Ff}),n.d(t,"w",function(){return Mf}),n.d(t,"x",function(){return Zc}),n.d(t,"y",function(){return Fc}),n.d(t,"z",function(){return Uc}),n.d(t,"A",function(){return Pc}),n.d(t,"B",function(){return Sf}),n.d(t,"C",function(){return Df}),n.d(t,"D",function(){return nl}),n.d(t,"E",function(){return Vc}),n.d(t,"F",function(){return Yc}),n.d(t,"G",function(){return Xc}),n.d(t,"H",function(){return tl}),n.d(t,"I",function(){return uf}),n.d(t,"J",function(){return of}),n.d(t,"K",function(){return Qc}),n.d(t,"L",function(){return Nf}),n.d(t,"M",function(){return gf}),n.d(t,"N",function(){return kf}),n.d(t,"O",function(){return wf}),n.d(t,"P",function(){return _f}),n.d(t,"Q",function(){return Of}),n.d(t,"R",function(){return xf}),n.d(t,"S",function(){return Uf}),n.d(t,"T",function(){return Zl}),n.d(t,"U",function(){return ef}),n.d(t,"V",function(){return rl}),n.d(t,"W",function(){return il}),n.d(t,"X",function(){return Tf}),n.d(t,"Y",function(){return Cf}),n.d(t,"Z",function(){return Xl}),n.d(t,"ab",function(){return Hl}),n.d(t,"bb",function(){return Bc}),n.d(t,"cb",function(){return zc}),n.d(t,"db",function(){return Pf}),n.d(t,"eb",function(){return Lf}),n.d(t,"fb",function(){return jf}),n.d(t,"gb",function(){return E}),n.d(t,"hb",function(){return Gl}),n.d(t,"ib",function(){return rf}),n.d(t,"jb",function(){return nf}),n.d(t,"kb",function(){return Ef}),n.d(t,"lb",function(){return el}),n.d(t,"mb",function(){return $l});var r=n(42),i=n(26),a=n(11),o=n(3),u=n(8),s=n(6),c=n(7),l=n(14),f=n(0),h=n(2),d=n(13),p=n(18),v=n(20),y=n(1),m=n(28);function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var w="@firebase/firestore",_=function(){function e(t){Object(f.a)(this,e),this.uid=t}return Object(h.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");var O="9.9.2",x=new v.b("@firebase/firestore");function j(){return x.logLevel}function E(e){x.setLogLevel(e)}function S(e){if(x.logLevel<=v.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.debug.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function I(e){if(x.logLevel<=v.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.error.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function T(e){if(x.logLevel<=v.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.warn.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw I(t),new Error(t)}function A(e,t){e||N()}function R(e,t){e||N()}function P(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(c.a)(t,e),t}(y.c),M=function e(){var t=this;Object(f.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},F=function e(t,n){Object(f.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},U=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(f.a)(this,e),this.token=t,this.changeListener=null}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),z=function(){function e(t){Object(f.a)(this,e),this.t=t,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(h.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable(function(){return i(n.currentUser)})};var u=function(){var t=a;e.enqueueRetryable(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){S("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}},0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(A("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return A(null===e||"string"==typeof e),new _(e)}}]),e}(),B=function e(t,n,r){Object(f.a)(this,e),this.type="FirstParty",this.user=_.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},q=function(){function e(t,n,r){Object(f.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new B(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),G=function e(t){Object(f.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},K=function(){function e(t){Object(f.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Object(h.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&S("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,S("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var i=function(e){S("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return i(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(A("string"==typeof t.token),e.p=t.token,new G(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function W(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var H=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=W(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Y(e){return e+"\0"}var X=function(){function e(t,n){if(Object(f.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(h.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),J=function(){function e(t){Object(f.a)(this,e),this.timestamp=t}return Object(h.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new X(0,0))}},{key:"max",value:function(){return new e(new X(253402300799,999999999))}}]),e}(),Z=function(){function e(t,n,r){Object(f.a)(this,e),void 0===n?n=0:n>t.length&&N(),void 0===r?r=t.length-n:r>t.length-n&&N(),this.segments=t,this.offset=n,this.len=r}return Object(h.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ee=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(l.a)(u.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(Z),te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ne=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return te.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(Z),re=function(){function e(t){Object(f.a)(this,e),this.path=t}return Object(h.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ee.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(ee.fromString(t))}},{key:"fromName",value:function(t){return new e(ee.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ee.emptyPath())}},{key:"comparator",value:function(e,t){return ee.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ee(t.slice()))}}]),e}(),ie=function e(t,n,r,i){Object(f.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};function ae(e){return e.fields.find(function(e){return 2===e.kind})}function oe(e){return e.fields.filter(function(e){return 2!==e.kind})}ie.UNKNOWN_ID=-1;var ue=function e(t,n){Object(f.a)(this,e),this.fieldPath=t,this.kind=n};var se=function(){function e(t,n){Object(f.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(h.a)(e,null,[{key:"empty",value:function(){return new e(0,fe.min())}}]),e}();function ce(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=J.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new fe(i,re.empty(),t)}function le(e){return new fe(e.readTime,e.key,-1)}var fe=function(){function e(t,n,r){Object(f.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(h.a)(e,null,[{key:"min",value:function(){return new e(J.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(J.max(),re.empty(),-1)}}]),e}();function he(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Q(e.largestBatchId,t.largestBatchId)}var de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pe=function(){function e(){Object(f.a)(this,e),this.onCommittedListeners=[]}return Object(h.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}();function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===D.FAILED_PRECONDITION&&t.message===de){e.next=2;break}throw t;case 2:S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var me=function(){function e(t){var n=this;Object(f.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(h.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=g(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next(function(t){a[s]=t,++o===i&&e(a)},function(e){return r(e)})},s=0;s<i;s++)u(s)})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){!function i(){!0===t()?n().next(function(){i()},r):e()}()})}}]),e}(),ge=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new M,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new we(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Ee(e.target.error);r.T.reject(new we(t,n))}}return Object(h.a)(e,[{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oe(t)}},{key:"A",get:function(){return this.T.promise}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new we(n,t)}}}]),e}(),be=function(){function t(e,n,r){Object(f.a)(this,t),this.name=e,this.version=n,this.P=r,12.2===t.v(Object(y.v)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(h.a)(t,[{key:"k",value:function(){var e=Object(o.a)(k().mark(function e(t){var n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return S("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new we(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new L(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new we(t,n))},i.onupgradeneeded=function(e){S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next(function(){S("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s,c,l=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(k().mark(function e(){var n,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=ge.open(l.db,t,a?"readonly":"readwrite",r),(o=i(n).next(function(e){return n.R(),e}).catch(function(e){return n.abort(e),me.reject(e)}).toPromise()).catch(function(){}),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}},e)})(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,S("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return S("SimpleDb","Removing database:",e),xe(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Object(y.C)())return!1;if(t.S())return!0;var e=Object(y.v)(),n=t.v(e),r=0<n&&n<10,i=t.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/ideathon-registration",REACT_APP_API_KEY:"AIzaSyAFHTfN6KuOwzDsLdWtmZeFAVpVcI-Npfw",REACT_APP_APP_ID:"1:1094596378197:web:81887879503a76e09c5edc",REACT_APP_AUTHDOMAIN:"ideathon-registration-form.firebaseapp.com",REACT_APP_BASEURL:"https://ideathon-registration-form-default-rtdb.firebaseio.com",REACT_APP_MEASUREMENT_ID:"G-JSB5Q51DBG",REACT_APP_MESSAGING_SENDER_ID:"1094596378197",REACT_APP_PROJECT_ID:"ideathon-registration-form",REACT_APP_STORAGEBUCKET:"ideathon-registration-form.appspot.com"}))||void 0===t?void 0:t.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),ke=function(){function e(t){Object(f.a)(this,e),this.$=t,this.B=!1,this.L=null}return Object(h.a)(e,[{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return xe(this.$.delete())}},{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}}]),e}(),we=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,D.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)))).name="IndexedDbTransactionError",r}return Object(c.a)(t,e),t}(L);function _e(e){return"IndexedDbTransactionError"===e.name}var Oe=function(){function e(t){Object(f.a)(this,e),this.store=t}return Object(h.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xe(n)}},{key:"add",value:function(e){return S("SimpleDb","ADD",this.store.name,e,e),xe(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),S("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return S("SimpleDb","DELETE",this.store.name,e),xe(this.store.delete(e))}},{key:"count",value:function(){return S("SimpleDb","COUNT",this.store.name),xe(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,function(e,t){i.push(t)}).next(function(){return i})}var a=this.store.getAll(n.range);return new me(function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}})}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new me(function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}})}},{key:"W",value:function(e,t){S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,function(e,t,n){return n.delete()})}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new me(function(n,r){t.onerror=function(e){var t=Ee(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"G",value:function(e,t){var n=[];return new me(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ke(i),o=t(i.primaryKey,i.value,a);if(o instanceof me){var u=o.catch(function(e){return a.done(),me.reject(e)});n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}}).next(function(){return me.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xe(e){return new me(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ee(e.target.error);n(t)}})}var je=!1;function Ee(e){var t=be.v(Object(y.v)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return je||(je=!0,setTimeout(function(){throw r},0)),r}}return e}var Se=function(){function e(t,n){Object(f.a)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Object(h.a)(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"Z",value:function(e){var t=this;S("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=S,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!_e(e.t4)){e.next=17;break}S("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ve(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}},e,null,[[1,11]])})))}},{key:"started",get:function(){return null!==this.task}}]),e}(),Ie=function(){function e(t,n){Object(f.a)(this,e),this.localStore=t,this.persistence=n}return Object(h.a)(e,[{key:"tt",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n=this,r=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",function(e){return n.et(e,t)}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return me.doWhile(function(){return!0===a&&i>0},function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(function(t){if(null!==t&&!r.has(t))return S("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next(function(e){i-=e,r.add(t)});a=!1})}).next(function(){return t-i})}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next(function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next(function(){return r.st(i,n)}).next(function(n){return S("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(function(){return a.size})})})}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach(function(e,t){var r=le(t);he(r,n)>0&&(n=r)}),new fe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Te=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Object(h.a)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ce(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ne(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ae(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Te.ot=-1;var Re=function(){function e(t,n){Object(f.a)(this,e),this.comparator=t,this.root=n||De.EMPTY}return Object(h.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pe(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pe(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pe(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pe(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),Pe=function(){function e(t,n,r,i){Object(f.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(h.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),De=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(h.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}]),e}();De.EMPTY=null,De.RED=!0,De.BLACK=!1,De.EMPTY=new(function(){function e(){Object(f.a)(this,e),this.size=0}return Object(h.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new De(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}}]),e}());var Le=function(){function e(t){Object(f.a)(this,e),this.comparator=t,this.data=new Re(this.comparator)}return Object(h.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Me(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Me(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),Me=function(){function e(t){Object(f.a)(this,e),this.iter=t}return Object(h.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fe(e){return e.hasNext()?e.getNext():void 0}var Ue=function(){function e(t){Object(f.a)(this,e),this.fields=t,t.sort(ne.comparator)}return Object(h.a)(e,[{key:"unionWith",value:function(t){var n,r=new Le(ne.comparator),i=g(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=g(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=g(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}]),e}();function Ve(){return"undefined"!=typeof atob}var ze=function(){function e(t){Object(f.a)(this,e),this.binaryString=t}return Object(h.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();ze.EMPTY_BYTE_STRING=new ze("");var Be=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qe(e){if(A(!!e),"string"==typeof e){var t=0,n=Be.exec(e);if(A(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ge(e.seconds),nanos:Ge(e.nanos)}}function Ge(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ke(e){return"string"==typeof e?ze.fromBase64String(e):ze.fromUint8Array(e)}function We(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function He(e){var t=qe(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}var Qe=function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},$e=function(){function e(t,n){Object(f.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(h.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ye(e){return null==e}function Xe(e){return 0===e&&1/e==-1/0}function Je(e){return"number"==typeof e&&Number.isInteger(e)&&!Xe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ze={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},et={nullValue:"NULL_VALUE"};function tt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?We(e)?4:pt(e)?9007199254740991:10:N()}function nt(e,t){if(e===t)return!0;var n=tt(e);if(n!==tt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return He(e).isEqual(He(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qe(e.timestampValue),r=qe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ke(e.bytesValue).isEqual(Ke(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ge(e.geoPointValue.latitude)===Ge(t.geoPointValue.latitude)&&Ge(e.geoPointValue.longitude)===Ge(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ge(e.integerValue)===Ge(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ge(e.doubleValue),r=Ge(t.doubleValue);return n===r?Xe(n)===Xe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],nt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ce(n)!==Ce(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nt(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function rt(e,t){return void 0!==(e.values||[]).find(function(e){return nt(e,t)})}function it(e,t){if(e===t)return 0;var n=tt(e),r=tt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ge(e.integerValue||e.doubleValue),r=Ge(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return at(e.timestampValue,t.timestampValue);case 4:return at(He(e),He(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ke(e),r=Ke(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Q(n[i],r[i]);if(0!==a)return a}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(Ge(e.latitude),Ge(t.latitude));return 0!==n?n:Q(Ge(e.longitude),Ge(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=it(n[i],r[i]);if(a)return a}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ze.mapValue&&t===Ze.mapValue)return 0;if(e===Ze.mapValue)return 1;if(t===Ze.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Q(r[o],a[o]);if(0!==u)return u;var s=it(n[r[o]],i[a[o]]);if(0!==s)return s}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N()}}function at(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=qe(e),r=qe(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ot(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=qe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ke(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,re.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=g(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(u){a.e(u)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=g(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;a?a=!1:i+=",",i+="".concat(u,":").concat(e(t.fields[u]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):N();var n,r}(e)}function ut(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function st(e){return!!e&&"integerValue"in e}function ct(e){return!!e&&"arrayValue"in e}function lt(e){return!!e&&"nullValue"in e}function ft(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ht(e){return!!e&&"mapValue"in e}function dt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ne(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=dt(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function pt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vt(e){return"nullValue"in e?et:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ut($e.empty(),re.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:N()}function yt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ut($e.empty(),re.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ze:N()}function mt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bt=function(){function e(t){Object(f.a)(this,e),this.value=t}return Object(h.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ht(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dt(t)}},{key:"setAll",value:function(e){var t=this,n=ne.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dt(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ht(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ht(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ne(t,function(t,n){return e[t]=n});var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function kt(e){var t=[];return Ne(e.fields,function(e,n){var r=new ne([e]);if(ht(n)){var i=kt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=g(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)}),new Ue(t)}var wt=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(h.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=J.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,J.min(),J.min(),bt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,J.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,J.min(),bt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,J.min(),bt.empty(),2)}}]),e}(),_t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(f.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null};function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _t(e,t,n,r,i,a,o)}function xt(e){var t=P(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return(t=e).field.canonicalString()+t.op.toString()+ot(t.value);var t}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ye(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return ot(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return ot(e)}).join(",")),t.ut=n}return t.ut}function jt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nt(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qt(e.startAt,t.startAt)&&qt(e.endAt,t.endAt)}function Et(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function St(e,t){return e.filters.filter(function(e){return e instanceof Ct&&e.field.isEqual(t)})}function It(e,t,n){var r,i=et,a=!0,o=g(St(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=et,c=!0;switch(u.op){case"<":case"<=":s=vt(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=et}mt({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mt({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Tt(e,t,n){var r,i=Ze,a=!0,o=g(St(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ze,c=!0;switch(u.op){case">=":case">":s=yt(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ze}gt({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gt({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ct=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).field=e,i.op=n,i.value=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(it(t,this.value)):null!==t&&tt(this.value)===tt(t)&&this.at(it(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new Nt(e,n,r):"array-contains"===n?new Dt(e,r):"in"===n?new Lt(e,r):"not-in"===n?new Mt(e,r):"array-contains-any"===n?new Ft(e,r):new t(e,n,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new At(e,n):new Rt(e,n)}}]),t}(function(){return function e(){Object(f.a)(this,e)}}()),Nt=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r))).key=re.fromName(r.referenceValue),i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=re.comparator(e.key,this.key);return this.at(t)}}]),t}(Ct),At=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,"in",n))).keys=Pt("in",n),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct),Rt=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,"not-in",n))).keys=Pt("not-in",n),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct);function Pt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return re.fromName(e.referenceValue)})}var Dt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"array-contains",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ct(t)&&rt(t.arrayValue,this.value)}}]),t}(Ct),Lt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"in",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rt(this.value.arrayValue,t)}}]),t}(Ct),Mt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"not-in",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){if(rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rt(this.value.arrayValue,t)}}]),t}(Ct),Ft=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"array-contains-any",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return rt(t.value.arrayValue,e)})}}]),t}(Ct),Ut=function e(t,n){Object(f.a)(this,e),this.position=t,this.inclusive=n},Vt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(f.a)(this,e),this.field=t,this.dir=n};function zt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Bt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(o.referenceValue),n.key):it(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nt(e.position[n],t.position[n]))return!1;return!0}var Gt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(f.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt};function Kt(e,t,n,r,i,a,o,u){return new Gt(e,t,n,r,i,a,o,u)}function Wt(e){return new Gt(e)}function Ht(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $t(e){var t,n=g(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Yt(e){return null!==e.collectionGroup}function Xt(e){var t=P(e);if(null===t.lt){t.lt=[];var n=$t(t),r=Qt(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Vt(n)),t.lt.push(new Vt(ne.keyField(),"asc"));else{var i,a=!1,o=g(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Vt(ne.keyField(),s))}}}return t.lt}function Jt(e){var t=P(e);if(!t.ft)if("F"===t.limitType)t.ft=Ot(t.path,t.collectionGroup,Xt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=g(Xt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vt(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ut(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ut(t.startAt.position,t.startAt.inclusive):null;t.ft=Ot(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Zt(e,t,n){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function en(e,t){return jt(Jt(e),Jt(t))&&e.limitType===t.limitType}function tn(e){return"".concat(xt(Jt(e)),"|lt:").concat(e.limitType)}function nn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ot(t.value));var t}).join(", "),"]")),Ye(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return ot(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return ot(e)}).join(",")),"Target(".concat(t,")")}(Jt(e)),"; limitType=").concat(e.limitType,")")}function rn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):re.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=g(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=g(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xt(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xt(e),t))}(e,t)}function an(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function on(e){return function(t,n){var r,i=!1,a=g(Xt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=un(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function un(e,t,n){var r=e.field.isKeyField()?re.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?it(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}function sn(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xe(t)?"-0":t}}function cn(e){return{integerValue:""+e}}function ln(e,t){return Je(t)?cn(t):sn(e,t)}var fn=function e(){Object(f.a)(this,e),this._=void 0};function hn(e,t,n){return e instanceof vn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yn?mn(e,t):e instanceof gn?bn(e,t):function(e,t){var n=pn(e,t),r=wn(n)+wn(e._t);return st(n)&&st(e._t)?cn(r):sn(e.wt,r)}(e,t)}function dn(e,t,n){return e instanceof yn?mn(e,t):e instanceof gn?bn(e,t):n}function pn(e,t){return e instanceof kn?st(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var vn=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(fn),yn=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).elements=e,n}return Object(c.a)(t,e),t}(fn);function mn(e,t){var n,r=_n(t),i=g(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return nt(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gn=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).elements=e,n}return Object(c.a)(t,e),t}(fn);function bn(e,t){var n,r=_n(t),i=g(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!nt(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kn=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).wt=e,r._t=n,r}return Object(c.a)(t,e),t}(fn);function wn(e){return Ge(e.integerValue||e.doubleValue)}function _n(e){return ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var On=function e(t,n){Object(f.a)(this,e),this.field=t,this.transform=n};var xn=function e(t,n){Object(f.a)(this,e),this.version=t,this.transformResults=n},jn=function(){function e(t,n){Object(f.a)(this,e),this.updateTime=t,this.exists=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}},{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function En(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sn=function e(){Object(f.a)(this,e)};function In(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vn(e.key,jn.none()):new Rn(e.key,e.data,jn.none());var n,r=e.data,i=bt.empty(),a=new Le(ne.comparator),o=g(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Pn(e.key,i,new Ue(a.toArray()),jn.none())}function Tn(e,t,n){e instanceof Rn?function(e,t,n){var r=e.value.clone(),i=Ln(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pn?function(e,t,n){if(En(e.precondition,t)){var r=Ln(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cn(e,t,n,r){return e instanceof Rn?function(e,t,n,r){if(!En(e.precondition,t))return n;var i=e.value.clone(),a=Mn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pn?function(e,t,n,r){if(!En(e.precondition,t))return n;var i=Mn(e.fieldTransforms,r,t),a=t.data;return a.setAll(Dn(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return En(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nn(e,t){var n,r=null,i=g(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=pn(a.transform,o||null);null!=u&&(null===r&&(r=bt.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function An(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yn&&t instanceof yn||e instanceof gn&&t instanceof gn?$(e.elements,t.elements,nt):e instanceof kn&&t instanceof kn?nt(e._t,t._t):e instanceof vn&&t instanceof vn}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rn=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),Pn=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(f.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),t}(Sn);function Dn(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ln(e,t,n){var r=new Map;A(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,dn(o,u,n[i]))}return r}function Mn(e,t,n){var r,i=new Map,a=g(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,hn(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Fn,Un,Vn=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),zn=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sn),Bn=function e(t){Object(f.a)(this,e),this.count=t};function qn(e){switch(e){default:return N();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Gn(e){if(void 0===e)return I("GRPC error has no .code"),D.UNKNOWN;switch(e){case Fn.OK:return D.OK;case Fn.CANCELLED:return D.CANCELLED;case Fn.UNKNOWN:return D.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return D.INTERNAL;case Fn.UNAVAILABLE:return D.UNAVAILABLE;case Fn.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Fn.NOT_FOUND:return D.NOT_FOUND;case Fn.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Fn.ABORTED:return D.ABORTED;case Fn.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Fn.DATA_LOSS:return D.DATA_LOSS;default:return N()}}(Un=Fn||(Fn={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";var Kn=function(){function e(t,n){Object(f.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(h.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ne(this.inner,function(t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}})}},{key:"isEmpty",value:function(){return Ae(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wn=new Re(re.comparator);function Hn(){return Wn}var Qn=new Re(re.comparator);function $n(){for(var e=Qn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Yn(e){var t=Qn;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function Xn(){return Zn()}function Jn(){return Zn()}function Zn(){return new Kn(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var er=new Re(re.comparator),tr=new Le(re.comparator);function nr(){for(var e=tr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rr=new Le(Q);function ir(){return rr}var ar=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(h.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,or.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(J.min(),r,ir(),Hn(),nr())}}]),e}(),or=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(h.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ze.EMPTY_BYTE_STRING,n,nr(),nr(),nr())}}]),e}(),ur=function e(t,n,r,i){Object(f.a)(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i},sr=function e(t,n){Object(f.a)(this,e),this.targetId=t,this.It=n},cr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(f.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},lr=function(){function e(){Object(f.a)(this,e),this.Tt=0,this.Et=dr(),this.At=ze.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Object(h.a)(e,[{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=nr(),t=nr(),n=nr();return this.Et.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}}),new or(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=dr()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}},{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}}]),e}(),fr=function(){function e(t){Object(f.a)(this,e),this.Ot=t,this.Ft=new Map,this.$t=Hn(),this.Bt=hr(),this.Lt=new Le(Q)}return Object(h.a)(e,[{key:"Ut",value:function(e){var t,n=g(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=g(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:N()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(function(e,r){n.jt(r)&&t(r)})}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Et(i))if(0===n){var a=new re(i.path);this.Kt(t,a,wt.newNoDocument(a,J.min()))}else A(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach(function(r,i){var a=t.Ht(i);if(a){if(r.current&&Et(a.target)){var o=new re(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,wt.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}});var r=nr();this.Bt.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.$t.forEach(function(t,n){return n.setReadTime(e)});var i=new ar(e,n,this.Lt,this.$t,r);return this.$t=Hn(),this.Bt=hr(),this.Lt=new Le(Q),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new lr,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Le(Q),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new lr),this.Ot.getRemoteKeysForTarget(e).forEach(function(n){t.Kt(e,n,null)})}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function hr(){return new Re(re.comparator)}function dr(){return new Re(re.comparator)}var pr={asc:"ASCENDING",desc:"DESCENDING"},vr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yr=function e(t,n){Object(f.a)(this,e),this.databaseId=t,this.dt=n};function mr(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gr(e,t){return e.dt?t.toBase64():t.toUint8Array()}function br(e,t){return mr(e,t.toTimestamp())}function kr(e){return A(!!e),J.fromTimestamp(function(e){var t=qe(e);return new X(t.seconds,t.nanos)}(e))}function wr(e,t){return function(e){return new ee(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function _r(e){var t=ee.fromString(e);return A(Gr(t)),t}function Or(e,t){return wr(e.databaseId,t.path)}function xr(e,t){var n=_r(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Ir(n))}function jr(e,t){return wr(e.databaseId,t)}function Er(e){var t=_r(e);return 4===t.length?ee.emptyPath():Ir(t)}function Sr(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ir(e){return A(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tr(e,t,n){return{name:Or(e,t),fields:n.value.mapValue.fields}}function Cr(e,t,n){var r=xr(e,t.name),i=kr(t.updateTime),a=new bt({mapValue:{fields:t.fields}}),o=wt.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nr(e,t){return"found"in t?function(e,t){A(!!t.found),t.found.name,t.found.updateTime;var n=xr(e,t.found.name),r=kr(t.found.updateTime),i=new bt({mapValue:{fields:t.found.fields}});return wt.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){A(!!t.missing),A(!!t.readTime);var n=xr(e,t.missing),r=kr(t.readTime);return wt.newNoDocument(n,r)}(e,t):N()}function Ar(e,t){var n;if(t instanceof Rn)n={update:Tr(e,t.key,t.value)};else if(t instanceof Vn)n={delete:Or(e,t.key)};else if(t instanceof Pn)n={update:Tr(e,t.key,t.data),updateMask:qr(t.fieldMask)};else{if(!(t instanceof zn))return N();n={verify:Or(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof vn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kn)return{fieldPath:t.field.canonicalString(),increment:n._t};throw N()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:br(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Rr(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jn.updateTime(kr(e.updateTime)):void 0!==e.exists?jn.exists(e.exists):jn.none()}(t.currentDocument):jn.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)A("REQUEST_TIME"===t.setToServerValue),n=new vn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new gn(i)}else"increment"in t?n=new kn(e,t.increment):N();var a=ne.fromServerFormat(t.fieldPath);return new On(a,n)}(e,t)}):[];if(t.update){t.update.name;var i=xr(e,t.update.name),a=new bt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ue(t.map(function(e){return ne.fromServerFormat(e)}))}(t.updateMask);return new Pn(i,a,o,n,r)}return new Rn(i,a,n,r)}if(t.delete){var u=xr(e,t.delete);return new Vn(u,n)}if(t.verify){var s=xr(e,t.verify);return new zn(s,n)}return N()}function Pr(e,t){return{documents:[jr(e,t.path)]}}function Dr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jr(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jr(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(ft(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NAN"}};if(lt(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ft(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NOT_NAN"}};if(lt(e.value))return{unaryFilter:{field:Ur(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(e.field),op:Fr(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Ur(e.field),direction:Mr(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Ye(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lr(e){var t=Er(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){A(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[Br(t)]:void 0!==t.fieldFilter?[zr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):N():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new Vt(Vr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var s=null;n.limit&&(s=function(e){var t;return Ye(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ut(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ut(n,t)}(n.endAt)),Kt(t,i,u,o,s,"F",c,l)}function Mr(e){return pr[e]}function Fr(e){return vr[e]}function Ur(e){return{fieldPath:e.canonicalString()}}function Vr(e){return ne.fromServerFormat(e.fieldPath)}function zr(e){return Ct.create(Vr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}function Br(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Vr(e.unaryFilter.field);return Ct.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Vr(e.unaryFilter.field);return Ct.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vr(e.unaryFilter.field);return Ct.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vr(e.unaryFilter.field);return Ct.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}function qr(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Gr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Kr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Hr(t)),t=Wr(e.get(n),t);return Hr(t)}function Wr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Hr(e){return e+"\x01\x01"}function Qr(e){var t=e.length;if(A(t>=2),2===t)return A("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ee.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&N(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:N()}a=o+2}return new ee(r)}var $r=["userId","batchId"];function Yr(e,t){return[e,Kr(t)]}function Xr(e,t,n){return[e,Kr(t),n]}var Jr={},Zr=["prefixPath","collectionGroup","readTime","documentId"],ei=["prefixPath","collectionGroup","documentId"],ti=["collectionGroup","readTime","prefixPath","documentId"],ni=["canonicalId","targetId"],ri=["targetId","path"],ii=["path","targetId"],ai=["collectionId","parent"],oi=["indexId","uid"],ui=["uid","sequenceNumber"],si=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ci=["indexId","uid","orderedDocumentKey"],li=["userId","collectionPath","documentId"],fi=["userId","collectionPath","largestBatchId"],hi=["userId","collectionGroup","largestBatchId"],di=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pi=[].concat(Object(l.a)(di),["documentOverlays"]),vi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yi=vi,mi=[].concat(yi,["indexConfiguration","indexState","indexEntries"]),gi=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).ee=e,r.currentSequenceNumber=n,r}return Object(c.a)(t,e),t}(pe);function bi(e,t){var n=P(e);return be.N(n.ee,t)}var ki=function(){function e(t,n,r,i){Object(f.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(h.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tn(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=g(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Cn(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=g(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Cn(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Jn();return this.mutations.forEach(function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=In(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},nr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,function(e,t){return An(e,t)})&&$(this.baseMutations,e.baseMutations,function(e,t){return An(e,t)})}}]),e}(),wi=function(){function e(t,n,r,i){Object(f.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(h.a)(e,null,[{key:"from",value:function(t,n,r){A(t.mutations.length===r.length);for(var i=er,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_i=function(){function e(t,n){Object(f.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(h.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Oi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:J.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ze.EMPTY_BYTE_STRING;Object(f.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(h.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),xi=function e(t){Object(f.a)(this,e),this.ne=t};function ji(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ei(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Or(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mr(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Si(t.version)};else{if(!t.isUnknownDocument())return N();r.unknownDocument={path:n.path.toArray(),version:Si(t.version)}}return r}function Ei(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Si(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ii(e){var t=new X(e.seconds,e.nanoseconds);return J.fromTimestamp(t)}function Ti(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Rr(e.ne,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Rr(e.ne,t)}),u=X.fromMillis(t.localWriteTimeMs);return new ki(t.batchId,u,n,o)}function Ci(e){var t,n,r=Ii(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ii(e.lastLimboFreeSnapshotVersion):J.min();return void 0!==e.query.documents?(A(1===(n=e.query).documents.length),t=Jt(Wt(Er(n.documents[0])))):t=function(e){return Jt(Lr(e))}(e.query),new Oi(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ze.fromBase64String(e.resumeToken))}function Ni(e,t){var n,r=Si(t.snapshotVersion),i=Si(t.lastLimboFreeSnapshotVersion);n=Et(t.target)?Pr(e.ne,t.target):Dr(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xt(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ai(e){var t=Lr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zt(t,t.limit,"L"):t}function Ri(e,t){return new _i(t.largestBatchId,Rr(e.ne,t.overlayMutation))}function Pi(e,t){var n=t.path.lastSegment();return[e,Kr(t.path.popLast()),n]}function Di(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Si(r.readTime),documentKey:Kr(r.documentKey.path),largestBatchId:r.largestBatchId}}var Li=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Mi(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Ii(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Mi(e).put({bundleId:(n=t).id,createTime:Si(kr(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Fi(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Ai(t.bundledQuery),readTime:Ii(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Fi(e).put(function(e){return{name:e.name,readTime:Si(kr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Mi(e){return bi(e,"bundles")}function Fi(e){return bi(e,"namedQueries")}var Ui=function(){function e(t,n){Object(f.a)(this,e),this.wt=t,this.userId=n}return Object(h.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Vi(e).get(Pi(this.userId,t)).next(function(e){return e?Ri(n.wt,e):null})}},{key:"getOverlays",value:function(e,t){var n=this,r=Xn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach(function(n,a){var o=new _i(t,a);i.push(r.ie(e,o))}),me.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach(function(e){return i.add(Kr(e.getCollectionPath()))});var a=[];return i.forEach(function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Vi(e).W("collectionPathOverlayIndex",i))}),me.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Xn(),a=Kr(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vi(e).K("collectionPathOverlayIndex",o).next(function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ri(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Xn(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vi(e).J({index:"collectionGroupOverlayIndex",range:u},function(e,t,n){var u=Ri(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()}).next(function(){return o})}},{key:"ie",value:function(e,t){return Vi(e).put(function(e,t,n){var r=Pi(t,n.mutation.key),i=Object(a.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ar(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Vi(e){return bi(e,"documentOverlays")}var zi=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ge(e.integerValue));else if("doubleValue"in e){var n=Ge(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Xe(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ke(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?pt(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):N()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),re.fromName(e).path.forEach(function(e){n.ce(t,60),n.ge(e,t)})}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Bi(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qi(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zi.ye=new zi;var Gi=function(){function e(){Object(f.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(h.a)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=qi(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=qi(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ki=function(){function e(t){Object(f.a)(this,e),this.Oe=t}return Object(h.a)(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),Wi=function(){function e(t){Object(f.a)(this,e),this.Oe=t}return Object(h.a)(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),Hi=function(){function e(){Object(f.a)(this,e),this.Oe=new Gi,this.Fe=new Ki(this.Oe),this.$e=new Wi(this.Oe)}return Object(h.a)(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),Qi=function(){function e(t,n,r,i){Object(f.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(h.a)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $i(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yi(e.arrayValue,t.arrayValue))?n:0!==(n=Yi(e.directionalValue,t.directionalValue))?n:re.comparator(e.documentKey,t.documentKey)}function Yi(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xi=function(){function e(t){Object(f.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=g(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(h.a)(e,[{key:"Ge",value:function(e){var t=ae(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=oe(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=g(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ji=function(){function e(){Object(f.a)(this,e),this.ze=new Zi}return Object(h.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),me.resolve()}},{key:"getCollectionParents",value:function(e,t){return me.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return me.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return me.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return me.resolve(null)}},{key:"getIndexType",value:function(e,t){return me.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return me.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return me.resolve(null)}},{key:"getMinOffset",value:function(e,t){return me.resolve(fe.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return me.resolve(fe.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return me.resolve()}},{key:"updateIndexEntries",value:function(e,t){return me.resolve()}}]),e}(),Zi=function(){function e(){Object(f.a)(this,e),this.index={}}return Object(h.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Le(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Le(ee.comparator)).toArray()}}]),e}(),ea=new Uint8Array(0),ta=function(){function e(t,n){Object(f.a)(this,e),this.user=t,this.databaseId=n,this.He=new Zi,this.Je=new Kn(function(e){return xt(e)},function(e,t){return jt(e,t)}),this.uid=t.uid||""}return Object(h.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.He.add(t)});var a={collectionId:r,parent:Kr(i)};return na(e).put(a)}return me.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return na(e).K(r).next(function(e){var r,i=g(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Qr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n})}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ia(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(function(e){return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=aa(e);return a.next(function(e){o.put(Di(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ia(e),r=aa(e),i=ra(e);return n.delete(t.indexId).next(function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ra(e),i=!0,a=new Map;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){i&&(i=!!e),a.set(t,e)})}).next(function(){if(i){var e=nr(),o=[];return me.forEach(a,function(i,a){var u;S("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map(function(e){return"".concat(e.fieldPath,":").concat(e.kind)}).join(",")))," to execute ").concat(xt(t)));var s=function(e,t){var n=ae(i);if(void 0===n)return null;var r,a=g(St(e,n.fieldPath));try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(u){a.e(u)}finally{a.f()}return null}(a),c=function(e,t){var n,r=new Map,i=g(oe(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=g(St(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],a=!0,o=g(oe(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?It(e,u.fieldPath,e.startAt):Tt(e,u.fieldPath,e.startAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Ut(r,a)}(a),f=function(e,t){var n,r=[],a=!0,o=g(oe(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Tt(e,u.fieldPath,e.endAt):It(e,u.fieldPath,e.endAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Ut(r,a)}(a),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return me.forEach(v,function(n){return r.j(n,t.limit).next(function(t){t.forEach(function(t){var n=re.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))})})})}).next(function(){return o})}return me.resolve(null)})}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?u.nn(t[s/c]):ea,d=u.sn(e,h,n[s%c],r),p=u.rn(e,h,i[s%c],a),v=o.map(function(t){return u.sn(e,h,t,!0)});f.push.apply(f,Object(l.a)(u.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"sn",value:function(e,t,n,r){var i=new Qi(e,re.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Qi(e,re.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Xi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(function(e){var t,r=null,i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r})}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Le(ne.comparator),r=!1,i=g(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=g(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0})}).next(function(){return r})}},{key:"on",value:function(e,t){var n,r=new Hi,i=g(oe(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);zi.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new Hi;return zi.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new Hi;return zi.ye.re(ut(this.databaseId,t),n.Be(function(e){var t=oe(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Hi);var i,a=0,o=g(oe(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=g(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ct(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);zi.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=Object(l.a)(e),a=[],o=g(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=g(i);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=new Hi;h.seed(f.Me()),zi.ye.re(s,h.Be(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find(function(e){return e instanceof Ct&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ia(e),i=aa(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(function(e){var t=[];return me.forEach(e,function(e){return i.get([e.indexId,n.uid]).next(function(n){t.push(function(e,t){var n=t?new se(t.sequenceNumber,new fe(Ii(t.readTime),new re(Qr(t.documentKey)),t.largestBatchId)):se.empty(),r=e.fields.map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return new ue(ne.fromServerFormat(n),r)});return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))})}).next(function(){return t})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(e){return 0===e.length?null:(e.sort(function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Q(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ia(e),a=aa(e);return this.ln(e).next(function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(t){return me.forEach(t,function(t){return a.put(Di(t.indexId,r.user,e,n))})})})}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return me.forEach(t,function(t,i){var a=r.get(t.collectionGroup);return(a?me.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next(function(a){return r.set(t.collectionGroup,a),me.forEach(a,function(r){return n.fn(e,t,r).next(function(t){var a=n.dn(i,r);return t.isEqual(a)?me.resolve():n._n(e,i,r,t,a)})})})})}},{key:"wn",value:function(e,t,n,r){return ra(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return ra(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=ra(e),i=new Le($i);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},function(e,r){i=i.add(new Qi(n.indexId,t,r.arrayValue,r.directionalValue))}).next(function(){return i})}},{key:"dn",value:function(e,t){var n=new Le($i),r=this.on(t,e);if(null==r)return n;var i=ae(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ct(a)){var o,u=g(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Qi(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Qi(t.indexId,e.key,ea,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;S("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fe(a),s=Fe(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fe(o)):l?(i(u),u=Fe(a)):(u=Fe(a),s=Fe(o))}}(r,i,$i,function(r){o.push(a.wn(e,t,n,r))},function(r){o.push(a.mn(e,t,n,r))}),me.waitFor(o)}},{key:"ln",value:function(e){var t=1;return aa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(e,n,r){r.done(),t=n.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,n){n=n.sort(function(e,t){return $i(e,t)}).filter(function(e,t,n){return!t||0!==$i(e,n[t-1])});var r=[];r.push(e);var i,a=g(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$i(o,e),s=$i(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ea,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ea,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(oa)}},{key:"getMinOffset",value:function(e,t){var n=this;return me.mapArray(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){return e||N()})}).next(oa)}}]),e}();function na(e){return bi(e,"collectionParents")}function ra(e){return bi(e,"indexEntries")}function ia(e){return bi(e,"indexConfiguration")}function aa(e){return bi(e,"indexState")}function oa(e){A(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;he(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fe(t.readTime,t.documentKey,n)}var ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sa=function(){function e(t,n,r){Object(f.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(h.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ca(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},function(e,t,n){return u++,n.delete()});a.push(s.next(function(){A(1===u)}));var c,l=[],f=g(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xr(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return me.waitFor(a).next(function(){return l})}function la(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw N();t=e.noDocument}return JSON.stringify(t).length}sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(41943040,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);var fa=function(){function e(t,n,r,i){Object(f.a)(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Object(h.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return da(e).J({index:"userMutationsIndex",range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=pa(e),o=da(e);return o.add({}).next(function(u){A("number"==typeof u);var s,c=new ki(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return Ar(e.ne,t)}),i=n.mutations.map(function(t){return Ar(e.ne,t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Le(function(e,t){return Q(e.canonicalString(),t.canonicalString())}),d=g(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xr(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jr))}}catch(y){d.e(y)}finally{d.f()}return h.forEach(function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.gn[u]=c.keys()}),me.waitFor(f).next(function(){return c})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return da(e).get(t).next(function(e){return e?(A(e.userId===n.userId),Ti(n.wt,e)):null})}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?me.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return da(e).J({index:"userMutationsIndex",range:i},function(e,t,i){t.userId===n.userId&&(A(t.batchId>=r),a=Ti(n.wt,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return da(e).J({index:"userMutationsIndex",range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return da(e).K("userMutationsIndex",n).next(function(e){return e.map(function(e){return Ti(t.wt,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Yr(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return pa(e).J({range:i},function(r,i,u){var s=Object(a.a)(r,3),c=s[0],l=s[1],f=s[2],h=Qr(l);if(c===n.userId&&t.path.isEqual(h))return da(e).get(f).next(function(e){if(!e)throw N();A(e.userId===n.userId),o.push(Ti(n.wt,e))});u.done()}).next(function(){return o})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Le(Q),i=[];return t.forEach(function(t){var o=Yr(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=pa(e).J({range:u},function(e,i,o){var u=Object(a.a)(e,3),s=u[0],c=u[1],l=u[2],f=Qr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()});i.push(s)}),me.waitFor(i).next(function(){return n.pn(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Yr(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Le(Q);return pa(e).J({range:u},function(e,t,o){var u=Object(a.a)(e,3),c=u[0],l=u[1],f=u[2],h=Qr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()}).next(function(){return n.pn(e,s)})}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(da(e).get(t).next(function(e){if(null===e)throw N();A(e.userId===n.userId),r.push(Ti(n.wt,e))}))}),me.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ca(e.ee,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.In(t.batchId)}),me.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return me.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return pa(e).J({range:r},function(e,n,r){if(e[0]===t.userId){var a=Qr(e[1]);i.push(a)}else r.done()}).next(function(){A(0===i.length)})})}},{key:"containsKey",value:function(e,t){return ha(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return va(e).get(this.userId).next(function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"se",value:function(t,n,r,i){return A(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ha(e,t,n){var r=Yr(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return pa(e).J({range:o,H:!0},function(e,n,r){var o=Object(a.a)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()}).next(function(){return u})}function da(e){return bi(e,"mutations")}function pa(e){return bi(e,"documentMutations")}function va(e){return bi(e,"mutationQueues")}var ya=function(){function e(t){Object(f.a)(this,e),this.En=t}return Object(h.a)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),ma=function(){function e(t,n){Object(f.a)(this,e),this.referenceDelegate=t,this.wt=n}return Object(h.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next(function(n){var r=new ya(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next(function(e){return J.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next(function(){return n.bn(e).next(function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return ga(e).delete(t.targetId)}).next(function(){return n.bn(e)}).next(function(t){return A(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ga(e).J(function(o,u){var s=Ci(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))}).next(function(){return me.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return ga(e).J(function(e,n){var r=Ci(n);t(r)})}},{key:"bn",value:function(e){return ba(e).get("targetGlobalKey").next(function(e){return A(null!==e),e})}},{key:"Pn",value:function(e,t){return ba(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return ga(e).put(Ni(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=xt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ga(e).J({range:r,index:"queryTargetsIndex"},function(e,n,r){var a=Ci(n);jt(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ka(e);return t.forEach(function(t){var o=Kr(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))}),me.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ka(e);return me.forEach(t,function(t){var a=Kr(t.path);return me.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ka(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ka(e),i=nr();return r.J({range:n,H:!0},function(e,t,n){var r=Qr(e[1]),a=new re(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=Kr(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return ka(e).J({index:"documentTargetsIndex",H:!0,range:r},function(e,t,n){var r=Object(a.a)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())}).next(function(){return i>0})}},{key:"te",value:function(e,t){return ga(e).get(t).next(function(e){return e?Ci(e):null})}}]),e}();function ga(e){return bi(e,"targets")}function ba(e){return bi(e,"targetGlobal")}function ka(e){return bi(e,"targetDocuments")}function wa(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1],o=Object(a.a)(t,2),u=o[0],s=o[1],c=Q(r,u);return 0===c?Q(i,s):c}var _a=function(){function e(t){Object(f.a)(this,e),this.Sn=t,this.buffer=new Le(wa),this.Dn=0}return Object(h.a)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wa(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Oa=function(){function e(t,n,r){Object(f.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Object(h.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"kn",value:function(e){var t=this;S("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!_e(e.t0)){e.next=12;break}S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ve(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}},e,null,[[1,6]])})))}},{key:"started",get:function(){return null!==this.Nn}}]),e}(),xa=function(){function e(t,n){Object(f.a)(this,e),this.Mn=t,this.params=n}return Object(h.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return me.resolve(Te.ot);var r=new _a(t);return this.Mn.forEachTarget(e,function(e){return r.xn(e.sequenceNumber)}).next(function(){return n.Mn.Fn(e,function(e){return r.xn(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ua)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ua):n.$n(e,t)})}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return s=Date.now(),j()<=v.a.DEBUG&&S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),ja=function(){function e(t,n){Object(f.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new xa(e,t)}(this,n)}return Object(h.a)(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return Ea(e,n)}},{key:"removeReference",value:function(e,t,n){return Ea(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ea(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return va(e).Y(function(r){return ha(e,r,t).next(function(e){return e&&(n=!0),me.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,function(o,u){if(u<=t){var s=n.Un(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o,J.min()),ka(e).delete([0,Kr(o.path)])})});i.push(s)}}).next(function(){return me.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ea(e,t)}},{key:"Ln",value:function(e,t){var n,r=ka(e),i=Te.ot;return r.J({index:"documentTargetsIndex"},function(e,r){var o=Object(a.a)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Te.ot&&t(new re(Qr(n)),i),i=c,n=s):i=Te.ot}).next(function(){i!==Te.ot&&t(new re(Qr(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ea(e,t){return ka(e).put(function(e,t){return{targetId:0,path:Kr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Sa=function(){function e(){Object(f.a)(this,e),this.changes=new Kn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(h.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ia=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Aa(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Aa(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ei(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.qn(e,r)})}},{key:"getEntry",value:function(e,t){var n=this,r=wt.newInvalidDocument(t);return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ra(t))},function(e,i){r=n.Kn(t,i)}).next(function(){return r})}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:wt.newInvalidDocument(t)};return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ra(t))},function(e,i){r={document:n.Kn(t,i),size:la(i)}}).next(function(){return r})}},{key:"getEntries",value:function(e,t){var n=this,r=Hn();return this.Qn(e,t,function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"jn",value:function(e,t){var n=this,r=Hn(),i=new Re(re.comparator);return this.Qn(e,t,function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,la(t))}).next(function(){return{documents:r,Wn:i}})}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return me.resolve();var r=new Le(Da);t.forEach(function(e){return r=r.add(e)});var i=IDBKeyRange.bound(Ra(r.first()),Ra(r.last())),a=r.getIterator(),o=a.getNext();return Aa(e).J({index:"documentKeyIndex",range:i},function(e,t,r){for(var i=re.fromSegments([].concat(Object(l.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Da(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Ra(o)):r.done()}).next(function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ei(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Aa(e).K(IDBKeyRange.bound(i,a,!0)).next(function(e){var t,n=Hn(),i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(re.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n})}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Hn(),o=Pa(t,n),u=Pa(t,fe.max());return Aa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},function(e,t,n){var o=i.Kn(re.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()}).next(function(){return a})}},{key:"newChangeBuffer",value:function(e){return new Ca(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Na(e).get("remoteDocumentGlobalKey").next(function(e){return A(!!e),e})}},{key:"qn",value:function(e,t){return Na(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Cr(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=re.fromSegments(t.noDocument.path),i=Ii(t.noDocument.readTime);n=wt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return N();var a=re.fromSegments(t.unknownDocument.path),o=Ii(t.unknownDocument.version);n=wt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new X(e[0],e[1]);return J.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(J.min()))return n}return wt.newInvalidDocument(e)}}]),e}();function Ta(e){return new Ia(e)}var Ca=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).zn=e,r.trackRemovals=n,r.Hn=new Kn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Le(function(e,t){return Q(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ji(t.zn.wt,o);i=i.add(a.path.popLast());var c=la(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ji(t.zn.wt,o.convertToNoDocument(J.min()));n.push(t.zn.addEntry(e,a,l))}}),i.forEach(function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.zn.updateMetadata(e,r)),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next(function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next(function(e){var t=e.documents;return e.Wn.forEach(function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})}),t})}}]),t}(Sa);function Na(e){return bi(e,"remoteDocumentGlobal")}function Aa(e){return bi(e,"remoteDocumentsV14")}function Ra(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Pa(e,t){var n=t.documentKey.path.toArray();return[e,Ei(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Da(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Q(n[a],r[a]))return i;return(i=Q(n.length,r.length))||((i=Q(n[n.length-2],r[r.length-2]))||Q(n[n.length-1],r[r.length-1]))}var La=function e(t,n){Object(f.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},Ma=function(){function e(t,n,r,i){Object(f.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(h.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(i){return r=i,n.getBaseDocument(e,t,r)}).next(function(e){return null!==r&&Cn(r.mutation,e,Ue.empty(),X.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,nr()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nr(),i=Xn();return this.populateOverlays(e,i,t).next(function(){return n.computeViews(e,t,i,r).next(function(e){var t=$n();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Xn();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,nr())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var i=Hn(),a=Zn(),o=Zn();return t.forEach(function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pn)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Cn(o.mutation,t,o.mutation.getFieldMask(),X.now()))}),this.recalculateAndSaveOverlays(e,i).next(function(e){return e.forEach(function(e,t){return a.set(e,t)}),t.forEach(function(e,t){var n;return o.set(e,new La(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Zn(),i=new Re(function(e,t){return e-t}),a=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n,a=g(e);try{var o=function(){var e=n.value;e.keys().forEach(function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ue.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||nr()).add(n);i=i.insert(e.batchId,u)}})};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}).next(function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Jn();c.forEach(function(e){if(!a.has(e)){var n=In(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}}),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return me.waitFor(o)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):me.resolve(Xn()),u=-1,s=a;return o.next(function(t){return me.forEach(t,function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?me.resolve():i.getBaseDocument(e,t,n).next(function(e){s=s.insert(t,e)})}).next(function(){return i.populateOverlays(e,t,a)}).next(function(){return i.computeViews(e,s,t,nr())}).next(function(e){return{batchId:u,changes:Yn(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new re(t)).next(function(e){var t=$n();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=$n();return this.indexManager.getCollectionParents(e,i).next(function(o){return me.forEach(o,function(o){var u=function(e,t){return new Gt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)}).next(function(e){e.forEach(function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,wt.newInvalidDocument(n)))});var n=$n();return r.forEach(function(r,i){var a=e.get(r);void 0!==a&&Cn(a.mutation,i,Ue.empty(),X.now()),rn(t,i)&&(n=n.insert(r,i))}),n})}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(wt.newInvalidDocument(t))}}]),e}(),Fa=function(){function e(t){Object(f.a)(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Object(h.a)(e,[{key:"getBundleMetadata",value:function(e,t){return me.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:kr(n.createTime)}),me.resolve()}},{key:"getNamedQuery",value:function(e,t){return me.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Ai(e.bundledQuery),readTime:kr(e.readTime)}}(t)),me.resolve()}}]),e}(),Ua=function(){function e(){Object(f.a)(this,e),this.overlays=new Re(re.comparator),this.Xn=new Map}return Object(h.a)(e,[{key:"getOverlay",value:function(e,t){return me.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Xn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,i){r.ie(e,t,i)}),me.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.Xn.delete(n)),me.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Xn(),i=t.length+1,a=new re(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return me.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Re(function(e,t){return e-t}),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Xn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Xn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach(function(e,t){return s.set(e,t)}),!(s.size()>=r)););return me.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _i(t,n));var a=this.Xn.get(t);void 0===a&&(a=nr(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Va=function(){function e(){Object(f.a)(this,e),this.Zn=new Le(za.ts),this.es=new Le(za.ns)}return Object(h.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new za(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.rs(new za(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"us",value:function(e){var t=this,n=new re(new ee([])),r=new za(n,e),i=new za(n,e+1),a=[];return this.es.forEachInRange([r,i],function(e){t.rs(e),a.push(e.key)}),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach(function(t){return e.rs(t)})}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new re(new ee([])),n=new za(t,e),r=new za(t,e+1),i=nr();return this.es.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new za(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),za=function(){function e(t,n){Object(f.a)(this,e),this.key=t,this.ls=n}return Object(h.a)(e,null,[{key:"ts",value:function(e,t){return re.comparator(e.key,t.key)||Q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Q(e.ls,t.ls)||re.comparator(e.key,t.key)}}]),e}(),Ba=function(){function e(t,n){Object(f.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Le(za.ts)}return Object(h.a)(e,[{key:"checkEmpty",value:function(e){return me.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ki(i,t,n,r);this.mutationQueue.push(a);var o,u=g(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new za(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return me.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return me.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return me.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new za(t,0),i=new za(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],function(e){var t=n._s(e.ls);a.push(t)}),me.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Le(Q);return t.forEach(function(e){var t=new za(e,0),i=new za(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],function(e){r=r.add(e.ls)})}),me.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;re.isDocumentKey(i)||(i=i.child(""));var a=new za(new re(i),0),o=new Le(Q);return this.ds.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},a),me.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t._s(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;A(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return me.forEach(t.mutations,function(i){var a=new za(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ds=r})}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new za(t,0),r=this.ds.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,me.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qa=function(){function e(t){Object(f.a)(this,e),this.ps=t,this.docs=new Re(re.comparator),this.size=0}return Object(h.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():wt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wt.newInvalidDocument(e))}),me.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Hn(),i=new re(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||he(le(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return me.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){N()}},{key:"Is",value:function(e,t){return me.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new Ga(this)}},{key:"getSize",value:function(e){return me.resolve(this.size)}}]),e}(),Ga=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).zn=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)}),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),t}(Sa),Ka=function(){function e(t){Object(f.a)(this,e),this.persistence=t,this.Ts=new Kn(function(e){return xt(e)},jt),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Es=0,this.As=new Va,this.targetCount=0,this.Rs=ya.An()}return Object(h.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach(function(e,n){return t(n)}),me.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return me.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return me.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),me.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ya(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,me.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),me.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,me.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach(function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),me.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return me.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return me.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),me.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),me.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),me.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return me.resolve(n)}},{key:"containsKey",value:function(e,t){return me.resolve(this.As.containsKey(t))}}]),e}(),Wa=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.bs={},this.overlays={},this.Ps=new Te(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Ka(this),this.indexManager=new Ji,this.remoteDocumentCache=new qa(function(e){return r.referenceDelegate.Ss(e)}),this.wt=new xi(n),this.Ds=new Fa(this.wt)}return Object(h.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ua,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Ba(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;S("MemoryPersistence","Starting transaction:",e);var i=new Ha(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next(function(e){return r.referenceDelegate.xs(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ns",value:function(e,t){return me.or(Object.values(this.bs).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.vs}}]),e}(),Ha=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).currentSequenceNumber=e,n}return Object(c.a)(t,e),t}(pe),Qa=function(){function e(t){Object(f.a)(this,e),this.persistence=t,this.ks=new Va,this.Ms=null}return Object(h.a)(e,[{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),me.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),me.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),me.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach(function(e){return n.Fs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Fs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,function(r){var i=re.fromPath(r);return t.$s(e,i).next(function(e){e||n.removeEntry(i,J.min())})}).next(function(){return t.Ms=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next(function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())})}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return me.or([function(){return me.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}},{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw N()}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),$a=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$r,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ya(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=me.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ya(e)),o=o.next(function(){return function(e){var t=a.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}()})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store("mutations").K().next(function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$r,{unique:!0});var r=t.store("mutations"),i=n.map(function(e){return r.put(e)});return me.waitFor(i)})}(e,a)})),o=o.next(function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.Bs(a)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)})),n<7&&r>=7&&(o=o.next(function(){return i.Us(a)})),n<8&&r>=8&&(o=o.next(function(){return i.qs(e,a)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ks(a)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:li});t.createIndex("collectionPathOverlayIndex",fi,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hi,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Zr});t.createIndex("documentKeyIndex",ei),t.createIndex("collectionGroupIndex",ti)}(e)}).next(function(){return i.Gs(e,a)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),n<14&&r>=14&&(o=o.next(function(){return i.Qs(e,a)})),n<15&&r>=15&&(o=o.next(function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:oi}).createIndex("sequenceNumberIndex",ui,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:si}).createIndex("documentKeyIndex",ci,{unique:!1})}(e)})),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J(function(e,n){t+=la(n)}).next(function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(function(n){return me.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next(function(r){return me.forEach(r,function(r){A(r.userId===n.userId);var i=Ti(t.wt,r);return ca(e,n.userId,i).next(function(){})})})})})}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(e){var r=[];return n.J(function(n,i){var a=new ee(n),o=[0,Kr(a)];r.push(t.get(o).next(function(n){return n?me.resolve():function(n){return t.put({targetId:0,path:Kr(n),sequenceNumber:e.highestListenSequenceNumber})}(a)}))}).next(function(){return me.waitFor(r)})})}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ai});var n=t.store("collectionParents"),r=new Zi,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Kr(i)})}};return t.store("remoteDocuments").J({H:!0},function(e,t){var n=new ee(e);return i(n.popLast())}).next(function(){return t.store("documentMutations").J({H:!0},function(e,t){var n=Object(a.a)(e,3),r=(n[0],n[1]),o=(n[2],Qr(r));return i(o.popLast())})})}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J(function(e,r){var i=Ci(r),a=Ni(t.wt,i);return n.put(a)})}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J(function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new re(ee.fromString(i.document.name).popFirst(5)):i.noDocument?re.fromSegments(i.noDocument.path):i.unknownDocument?re.fromSegments(i.unknownDocument.path):N()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))}).next(function(){return me.waitFor(r)})}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ta(this.wt),a=new Wa(Qa.Os,this.wt.ne);return r.K().next(function(e){var r=new Map;return e.forEach(function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:nr();Ti(n.wt,e).keys().forEach(function(e){return i=i.add(e)}),r.set(e.userId,i)}),me.forEach(r,function(e,r){var o=new _(r),u=Ui.se(n.wt,o),s=a.getIndexManager(o),c=fa.se(o,n.wt,s,a.referenceDelegate);return new Ma(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new gi(t,Te.ot),e).next()})})}}]),e}();function Ya(e){e.createObjectStore("targetDocuments",{keyPath:ri}).createIndex("documentTargetsIndex",ii,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ni,{unique:!0}),e.createObjectStore("targetGlobal")}var Xa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ja=function(){function e(t,n,r,i,a,o,u,s,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Object(f.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=h,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new L(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ja(this,i),this.ei=n+"main",this.wt=new xi(s),this.ni=new be(this.ei,this.Hs,new $a(this.wt)),this.Vs=new ma(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ta(this.wt),this.Ds=new Li,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(h.a)(e,[{key:"start",value:function(){var e=this;return this.ii().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Xa);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Vs.getHighestSequenceNumber(t)})}).then(function(t){e.Ps=new Te(t,e.Ws)}).then(function(){e.vs=!0}).catch(function(t){return e.ni&&e.ni.close(),Promise.reject(t)})}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Object(o.a)(k().mark(function n(r){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}},e)}))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return eo(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.ai(t).next(function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable(function(){return e.ti(!1)}))})}).next(function(){return e.hi(t)}).next(function(n){return e.isPrimary&&!n?e.li(t).next(function(){return!1}):!!n&&e.fi(t).next(function(){return!0})})}).catch(function(t){if(_e(t))return S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.js.enqueueRetryable(function(){return e.ti(t)}),e.isPrimary=t})}},{key:"ai",value:function(e){var t=this;return Za(e).get("owner").next(function(e){return me.resolve(t.di(e))})}},{key:"_i",value:function(e){return eo(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=bi(e,"clientMetadata");return t.K().next(function(e){var n=a.gi(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return me.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,this.si){n=g(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.ii().then(function(){return e.wi()}).then(function(){return e.ui()})})}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?me.resolve(!0):Za(e).get("owner").next(function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new L(D.FAILED_PRECONDITION,Xa);return!1}}return!(!t.networkEnabled||!t.inForeground)||eo(e).K().next(function(e){return void 0===t.gi(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=Object(o.a)(k().mark(function e(){var t=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(e){var n=new gi(e,Te.ot);return t.li(n).next(function(){return t._i(n)})});case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter(function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)})}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return eo(t).K().next(function(t){return e.gi(t,18e5).map(function(e){return e.clientId})})})}},{key:"getMutationQueue",value:function(e,t){return fa.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ta(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ui.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;S("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?mi:14===i?yi:13===i?vi:12===i?pi:11===i?di:void N();return this.ni.runTransaction(e,o,u,function(i){return a=new gi(i,r.Ps?r.Ps.next():Te.ot),"readwrite-primary"===t?r.ai(a).next(function(e){return!!e||r.hi(a)}).next(function(t){if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable(function(){return r.ti(!1)}),new L(D.FAILED_PRECONDITION,de);return n(a)}).next(function(e){return r.fi(a).next(function(){return e})}):r.bi(a).next(function(){return n(a)})}).then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"bi",value:function(e){var t=this;return Za(e).get("owner").next(function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(D.FAILED_PRECONDITION,Xa)})}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Za(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Za(e);return n.get("owner").next(function(e){return t.di(e)?(S("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):me.resolve()})}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()})},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Object(y.G)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}},{key:"started",get:function(){return this.vs}}],[{key:"V",value:function(){return be.V()}}]),e}();function Za(e){return bi(e,"owner")}function eo(e){return bi(e,"clientMetadata")}function to(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var no=function(){function e(t,n,r,i){Object(f.a)(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Object(h.a)(e,null,[{key:"Vi",value:function(t,n){var r,i=nr(),a=nr(),o=g(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ro=function(){function e(){Object(f.a)(this,e),this.Si=!1}return Object(h.a)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next(function(a){return a||i.xi(e,t,r,n)}).next(function(n){return n||i.Ni(e,t)})}},{key:"Ci",value:function(e,t){var n=this;if(Ht(t))return me.resolve(null);var r=Jt(t);return this.indexManager.getIndexType(e,r).next(function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Zt(t,null,"F"),r=Jt(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next(function(i){var a=nr.apply(void 0,Object(l.a)(i));return n.Di.getDocuments(e,a).next(function(i){return n.indexManager.getMinOffset(e,r).next(function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,Zt(t,null,"F")):n.Oi(e,o,t,r)})})}))})}},{key:"xi",value:function(e,t,n,r){var i=this;return Ht(t)||r.isEqual(J.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next(function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(j()<=v.a.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nn(t)),i.Oi(e,o,t,ce(r,-1)))})}},{key:"ki",value:function(e,t){var n=new Le(on(e));return t.forEach(function(t,r){rn(e,r)&&(n=n.add(r))}),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return j()<=v.a.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",nn(t)),this.Di.getDocumentsMatchingQuery(e,t,fe.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),io=function(){function e(t,n,r,i){Object(f.a)(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Re(Q),this.Bi=new Kn(function(e){return xt(e)},jt),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Object(h.a)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ma(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.$i)})}}]),e}();function ao(e,t,n,r){return new io(e,t,n,r)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return(uo=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var i,a=[],o=[],u=nr(),s=g(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=g(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=g(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=g(v.mutations);try{for(m.s();!(y=m.n()).done;){var b=y.value;u=u.add(b.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next(function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function so(e,t){var n=P(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=me.resolve();return a.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var a=n.docVersions.get(e);A(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(function(){return e.mutationQueue.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=nr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function co(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Vs.getLastRemoteSnapshotVersion(e)})}function lo(e,t){var n=P(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach(function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next(function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)}));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ze.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}});var u=Hn(),s=nr();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(fo(e,a,t.documentUpdates).next(function(e){u=e.Gi,s=e.Qi})),!r.isEqual(J.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next(function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(c)}return me.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)}).next(function(){return u})}).then(function(e){return n.$i=i,e})}function fo(e,t,n){var r=nr(),i=nr();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=Hn();return n.forEach(function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(J.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{Gi:r,Qi:i}})}function ho(e,t){var n=P(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function po(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Vs.getTargetData(e,t).next(function(i){return i?(r=i,me.resolve(r)):n.Vs.allocateTargetId(e).next(function(i){return r=new Oi(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e})}function vo(e,t,n){return yo.apply(this,arguments)}function yo(){return(yo=Object(o.a)(k().mark(function e(t,n,r){var i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_e(e.t1)){e.next=12;break}throw e.t1;case 12:S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function mo(e,t,n){var r=P(e),i=J.min(),a=nr();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=P(e),i=r.Bi.get(n);return void 0!==i?me.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Jt(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:nr())}).next(function(e){return ko(r,an(t),e),{documents:e,ji:a}})})}function go(e,t){var n=P(e),r=P(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.te(e,t).next(function(e){return e?e.target:null})})}function bo(e,t){var n=P(e),r=n.Li.get(t)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",function(e){return n.Ui.getAllFromCollectionGroup(e,t,ce(r,-1),Number.MAX_SAFE_INTEGER)}).then(function(e){return ko(n,t,e),e})}function ko(e,t,n){var r=J.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Li.set(t,r)}function wo(e,t,n,r){return _o.apply(this,arguments)}function _o(){return(_o=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=P(t),o=nr(),u=Hn(),s=g(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,po(a,function(e){return Jt(Wt(ee.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return fo(e,d,u).next(function(t){return d.apply(e),t}).next(function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return a.Vs.addMatchingKeys(e,o,p.targetId)}).next(function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)}).next(function(){return t.Gi})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oo(e,t){return xo.apply(this,arguments)}function xo(){return(xo=Object(o.a)(k().mark(function e(t,n){var r,i,a,o=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:nr(),e.next=3,po(t,Jt(Ai(n.bundledQuery)));case 3:return i=e.sent,a=P(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=kr(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(ze.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next(function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.Vs.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.Ds.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jo(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Eo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function So(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Io=function(){function e(t,n,r,i){Object(f.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(h.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new L(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(I("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),To=function(){function e(t,n,r){Object(f.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(h.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),a?new e(t,i.state,r):(I("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Co=function(){function e(t,n){Object(f.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(h.a)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ir(),o=0;i&&o<r.activeTargetIds.length;++o)i=Je(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(I("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),No=function(){function e(t,n){Object(f.a)(this,e),this.clientId=t,this.onlineState=n}return Object(h.a)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(I("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ao=function(){function e(){Object(f.a)(this,e),this.activeTargetIds=ir()}return Object(h.a)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ro=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Re(Q),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=jo(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ao),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Object(h.a)(e,[{key:"start",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=g(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(jo(this.persistenceKey,i)))&&(o=Co.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=g(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0;case 28:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(So(this.persistenceKey,e));if(n){var r=To.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(So(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.pr(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Object(o.a)(k().mark(function e(){var r,i,a,o,u,s,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}(s=function(e){var t=Te.ot;if(null!=e)try{var n=JSON.parse(e);A("number"==typeof n),t=n}catch(e){I("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Te.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map(function(e){return t.syncEngine.Nr(e)}));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}},e)})))}}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Io(this.currentUser,e,t,n),i=Eo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Eo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=So(this.persistenceKey,e),i=new To(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Co.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Io.Ji(new _(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return To.Ji(r,t)}},{key:"wr",value:function(e){return No.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||u.push(e)}),this.syncEngine.Or(o,u).then(function(){n.sr=r})}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=ir();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}},{key:"Ir",get:function(){return this.sr.get(this.tr)}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Po=function(){function e(){Object(f.a)(this,e),this.Fr=new Ao,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(h.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Ao,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Do=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Lo=function(){function e(){var t=this;Object(f.a)(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Object(h.a)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=g(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=g(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Mo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fo=function(){function e(t){Object(f.a)(this,e),this.jr=t.jr,this.Wr=t.Wr}return Object(h.a)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Uo=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"co",value:function(e,t,n,r){return new Promise(function(i,a){var o=new m.g;o.listenOnce(m.c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case m.a.NO_ERROR:var t=o.getResponseJson();S("Connection","XHR received:",JSON.stringify(t)),i(t);break;case m.a.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case m.a.HTTP_ERROR:var n=o.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=r.status.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}();a(new L(u,r.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{S("Connection",'RPC "'+e+'" completed.')}});var u=JSON.stringify(r);o.send(t,"POST",u,n,15)})}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(m.h)(),a=Object(m.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new m.d({})),this.uo(o.initMessageHeaders,t,n),Object(y.D)()||Object(y.F)()||Object(y.z)()||Object(y.B)()||Object(y.H)()||Object(y.y)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");S("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Fo({jr:function(e){l?S("Connection","Not sending because WebChannel is closed:",e):(c||(S("Connection","Opening WebChannel transport."),s.open(),c=!0),S("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(s,m.f.EventType.OPEN,function(){l||S("Connection","WebChannel transport opened.")}),h(s,m.f.EventType.CLOSE,function(){l||(l=!0,S("Connection","WebChannel transport closed"),f.eo())}),h(s,m.f.EventType.ERROR,function(e){l||(l=!0,T("Connection","WebChannel transport errored:",e),f.eo(new L(D.UNAVAILABLE,"The operation could not be completed")))}),h(s,m.f.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];A(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){S("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Fn[a];if(void 0!==t)return Gn(t)}(),u=i.message;void 0===o&&(o=D.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new L(o,u)),s.close()}else S("Connection","WebChannel received:",n),f.no(n)}}),h(a,m.b.STAT_EVENT,function(e){e.stat===m.e.PROXY?S("Connection","Detected buffering proxy"):e.stat===m.e.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Zr()},0),f}}]),t}(function(){function e(t){Object(f.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(h.a)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);S("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then(function(e){return S("RestConnection","Received: ",e),e},function(t){throw T("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t})}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"oo",value:function(e,t){var n=Mo[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Vo(){return"undefined"!=typeof window?window:null}function zo(){return"undefined"!=typeof document?document:null}function Bo(e){return new yr(e,!0)}var qo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(f.a)(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Object(h.a)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,function(){return t.yo=Date.now(),e()}),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Go=function(){function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qo(t,n)}return Object(h.a)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,function(){return e.Mo()}))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(I(n.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)},function(n){t(function(){var t=new L(D.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)})})}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(function(){r(function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,function(){return n.Co()&&(n.state=3),Promise.resolve()}),n.listener.zr()})}),this.stream.Jr(function(e){r(function(){return n.qo(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"qo",value:function(e){return S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget(function(){return t.Po===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Ko=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o))).wt=a,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(A(void 0===t||"string"==typeof t),ze.fromBase64String(t||"")):(A(void 0===t||t instanceof Uint8Array),ze.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?D.UNKNOWN:Gn(e.code);return new L(t,e.message||"")}(o);n=new cr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xr(e,s.document.name),l=kr(s.document.updateTime),f=new bt({mapValue:{fields:s.document.fields}}),h=wt.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ur(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=xr(e,v.document),m=v.readTime?kr(v.readTime):J.min(),g=wt.newNoDocument(y,m),b=v.removedTargetIds||[];n=new ur([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=xr(e,k.document),_=k.removedTargetIds||[];n=new ur([],_,w,null)}else{if(!("filter"in t))return N();t.filter;var O=t.filter;O.targetId;var x=O.count||0,j=new Bn(x),E=O.targetId;n=new sr(E,j)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return J.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?kr(t.readTime):J.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Sr(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Et(r)?{documents:Pr(e,r)}:{query:Dr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gr(e,t.resumeToken):t.snapshotVersion.compareTo(J.min())>0&&(n.readTime=mr(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Sr(this.wt),t.removeTarget=e,this.Oo(t)}}]),t}(Go),Wo=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o))).wt=a,c.Wo=!1,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(s.a)(t.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(A(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(A(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?kr(e.updateTime):kr(t);return n.isEqual(J.min())&&(n=kr(t)),new xn(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=kr(e.commitTime);return this.listener.Jo(n,t)}return A(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Sr(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Ar(t.wt,e)})};this.Oo(n)}},{key:"zo",get:function(){return this.Wo}}]),t}(Go),Ho=function(e){function t(e,n,r,i){var a;return Object(f.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this))).authCredentials=e,a.appCheckCredentials=n,a.bo=r,a.wt=i,a.Zo=!1,a}return Object(c.a)(t,e),Object(h.a)(t,[{key:"tu",value:function(){if(this.Zo)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.bo.ro(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(o){var u=Object(a.a)(o,2),s=u[0],c=u[1];return i.bo.ao(e,t,n,s,c,r)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.Zo=!0}}]),t}(function(){return function e(){Object(f.a)(this,e)}}()),Qo=function(){function e(t,n){Object(f.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Object(h.a)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()}))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(I(t),this.su=!1):S("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),$o=function e(t,n,r,i,a){var u=this;Object(f.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(function(e){r.enqueueAndForget(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ou(u),!e.t0){e.next=5;break}return S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).lu.add(4),e.next=4,Jo(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Yo(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}},e)})))}),this._u=new Qo(r,i)};function Yo(e){return Xo.apply(this,arguments)}function Xo(){return(Xo=Object(o.a)(k().mark(function e(t){var n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ou(t)){e.next=18;break}n=g(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Jo(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=Object(o.a)(k().mark(function e(t){var n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=g(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function eu(e,t){var n=P(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),au(n)?iu(n):Du(n).Co()&&nu(n,t))}function tu(e,t){var n=P(e),r=Du(n);n.hu.delete(t),r.Co()&&ru(n,t),0===n.hu.size&&(r.Co()?r.ko():ou(n)&&n._u.set("Unknown"))}function nu(e,t){e.wu.Nt(t.targetId),Du(e).Qo(t)}function ru(e,t){e.wu.Nt(t),Du(e).jo(t)}function iu(e){e.wu=new fr({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Du(e).start(),e._u.iu()}function au(e){return ou(e)&&!Du(e).Do()&&e.hu.size>0}function ou(e){return 0===P(e).lu.size}function uu(e){e.wu=void 0}function su(e){return cu.apply(this,arguments)}function cu(){return(cu=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach(function(e,n){nu(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return(fu=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:uu(t),au(t)?(t._u.uu(n),iu(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hu(e,t,n){return du.apply(this,arguments)}function du(){return(du=Object(o.a)(k().mark(function e(t,n,r){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof cr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=g(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pu(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof ur?t.wu.Ut(n):n instanceof sr?t.wu.zt(n):t.wu.Gt(n),r.isEqual(J.min())){e.next=29;break}return e.prev=14,e.next=17,co(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(ze.EMPTY_BYTE_STRING,n.snapshotVersion)),ru(e,t);var r=new Oi(n.target,t,1,n.sequenceNumber);nu(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pu(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return(vu=Object(o.a)(k().mark(function e(t,n,r){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_e(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Jo(t);case 5:t._u.set("Offline"),r||(r=function(){return co(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Yo(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yu(e,t){return t().catch(function(n){return pu(e,n,t)})}function mu(e){return gu.apply(this,arguments)}function gu(){return(gu=Object(o.a)(k().mark(function e(t){var n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=P(t),r=Lu(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!bu(n)){e.next=19;break}return e.prev=3,e.next=6,ho(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,ku(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pu(n,e.t0);case 17:e.next=2;break;case 19:wu(n)&&_u(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function bu(e){return ou(e)&&e.au.length<10}function ku(e,t){e.au.push(t);var n=Lu(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function wu(e){return ou(e)&&!Lu(e).Do()&&e.au.length>0}function _u(e){Lu(e).start()}function Ou(e){return xu.apply(this,arguments)}function xu(){return(xu=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Lu(t).Xo();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ju(e){return Eu.apply(this,arguments)}function Eu(){return(Eu=Object(o.a)(k().mark(function e(t){var n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Lu(t),r=g(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Su(e,t,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=wi.from(i,n,r),e.next=3,yu(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,mu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lu(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!qn(i=n.code)||i===D.ABORTED){e.next=7;break}return r=t.au.shift(),Lu(t).No(),e.next=5,yu(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,mu(t);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wu(t)&&_u(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=P(t)).asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials"),i=ou(r),r.lu.add(3),e.next=6,Jo(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Yo(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ru(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Yo(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Jo(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Du(e){return e.mu||(e.mu=function(e,t,n){var r=P(e);return r.tu(),new Ko(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:su.bind(null,e),Jr:lu.bind(null,e),Go:hu.bind(null,e)}),e.fu.push(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),au(e)?iu(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:uu(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.mu}function Lu(e){return e.gu||(e.gu=function(e,t,n){var r=P(e);return r.tu(),new Wo(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Ou.bind(null,e),Jr:Tu.bind(null,e),Yo:ju.bind(null,e),Jo:Su.bind(null,e)}),e.fu.push(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,mu(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(S("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.gu}var Mu=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(h.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Fu(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),_e(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Uu=function(){function e(t){Object(f.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||re.comparator(e.key,n.key)}:function(e,t){return re.comparator(e.key,t.key)},this.keyedMap=$n(),this.sortedSet=new Re(this.comparator)}return Object(h.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Vu=function(){function e(){Object(f.a)(this,e),this.yu=new Re(re.comparator)}return Object(h.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):N():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),zu=function(){function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(h.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&en(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,Uu.emptySet(n),a,r,i,!0,!1)}}]),e}(),Bu=function e(){Object(f.a)(this,e),this.Iu=void 0,this.listeners=[]},qu=function e(){Object(f.a)(this,e),this.queries=new Kn(function(e){return tn(e)},en),this.onlineState="Unknown",this.Tu=new Set};function Gu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Bu),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Fu(e.t0,"Initialization of query '".concat(nn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Qu(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function Wu(e,t){return Hu.apply(this,arguments)}function Hu(){return(Hu=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qu(e){e.Tu.forEach(function(e){e.next()})}var $u=function(){function e(t,n,r){Object(f.a)(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Object(h.a)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=g(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new zu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Yu=function(){function e(t,n){Object(f.a)(this,e),this.payload=t,this.byteLength=n}return Object(h.a)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Xu=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"Wi",value:function(e){return xr(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Cr(this.wt,e.document,!1):wt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return kr(e)}}]),e}(),Ju=function(){function e(t,n,r){Object(f.a)(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zu(t)}return Object(h.a)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Xu(this.wt),i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=g(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||nr()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(this.localStore,new Xu(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=g(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Oo(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(){return e.apply(this,arguments)}}()}]),e}();function Zu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var es=function e(t){Object(f.a)(this,e),this.key=t},ts=function e(t){Object(f.a)(this,e),this.key=t},ns=function(){function e(t,n){Object(f.a)(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=nr(),this.mutatedKeys=nr(),this.Lu=on(t),this.Uu=new Uu(this.Lu)}return Object(h.a)(e,[{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Vu,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=rn(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)}),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new zu(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Vu,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Fu=t.Fu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Fu=t.Fu.delete(e)}),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=nr(),this.Uu.forEach(function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))});var n=[];return t.forEach(function(t){e.Bu.has(t)||n.push(new ts(t))}),this.Bu.forEach(function(e){t.has(e)||n.push(new es(e))}),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=nr();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return zu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}},{key:"qu",get:function(){return this.Fu}}]),e}(),rs=function e(t,n,r){Object(f.a)(this,e),this.query=t,this.targetId=n,this.view=r},is=function e(t){Object(f.a)(this,e),this.key=t,this.Xu=!1},as=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Kn(function(e){return tn(e)},en),this.ec=new Map,this.nc=new Set,this.sc=new Re(re.comparator),this.ic=new Map,this.rc=new Va,this.oc={},this.uc=new Map,this.cc=ya.Rn(),this.onlineState="Unknown",this.ac=void 0}return Object(h.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function os(e,t){return us.apply(this,arguments)}function us(){return(us=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$s(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,po(r.localStore,Jt(n));case 8:return u=e.sent,r.isPrimaryClient&&eu(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ss(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ss(e,t,n,r){return cs.apply(this,arguments)}function cs(){return(cs=Object(o.a)(k().mark(function e(t,n,r,i){var a,u,s,c,l,f;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,mo(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Ku(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Es(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mo(t.localStore,n,!0);case 3:return a=e.sent,u=new ns(n,a.ji),s=u.Ku(a.documents),c=or.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=u.applyChanges(s,t.isPrimaryClient,c),Es(t,r,l.zu),f=new rs(n,r,u),e.abrupt("return",(t.tc.set(n,f),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter(function(e){return!en(e,n)})),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vo(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),tu(r.remoteStore,i.targetId),xs(r,i.targetId)}).catch(ve);case 9:e.next=14;break;case 11:return xs(r,i.targetId),e.next=14,vo(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hs(e,t,n){return ds.apply(this,arguments)}function ds(){return(ds=Object(o.a)(k().mark(function e(t,n,r){var i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ys(t),e.prev=1,e.next=4,function(e,t){var n,r,i=P(e),a=X.now(),o=t.reduce(function(e,t){return e.add(t.key)},nr());return i.persistence.runTransaction("Locally write mutations","readwrite",function(e){var u=Hn(),s=nr();return i.Ui.getEntries(e,o).next(function(e){(u=e).forEach(function(e,t){t.isValidDocument()||(s=s.add(e))})}).next(function(){return i.localDocuments.getOverlayedDocuments(e,u)}).next(function(r){n=r;var o,u=[],s=g(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Nn(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Pn(c.key,l,kt(l.value.mapValue),jn.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)}).next(function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)})}).then(function(){return{batchId:r.batchId,changes:Yn(n)}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Re(Q)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ts(i,a.changes);case 9:return e.next=11,mu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fu(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,lo(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.ic.get(t);n&&(A(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?A(n.Xu):e.removedDocuments.size>0&&(A(n.Xu),n.Xu=!1))}),e.next=8,Ts(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ve(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ys(e,t,n){var r=P(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach(function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=P(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=g(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&Qu(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ms(){return(ms=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=P(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Re(re.comparator)).insert(o,wt.newNoDocument(o,J.min())),s=nr().add(o),c=new ar(J.min(),new Map,new Le(Q),u,s),e.next=9,ps(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Is(i),e.next=16;break;case 14:return e.next=16,vo(i.localStore,n,!1).then(function(){return xs(i,n,r)}).catch(ve);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gs(){return(gs=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=n.batch.batchId,e.prev=1,e.next=4,so(r.localStore,n);case 4:return a=e.sent,Os(r,i,null),_s(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ts(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function bs(){return(bs=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=P(t),e.prev=1,e.next=4,function(e,t){var n=P(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return A(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(i.localStore,n);case 4:return a=e.sent,Os(i,n,r),_s(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ts(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function ks(e,t){return ws.apply(this,arguments)}function ws(){return(ws=Object(o.a)(k().mark(function e(t,n){var r,i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ou((r=P(t)).remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=P(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Fu(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function _s(e,t){(e.uc.get(t)||[]).forEach(function(e){e.resolve()}),e.uc.delete(t)}function Os(e,t,n){var r=P(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=g(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(function(t){e.rc.containsKey(t)||js(e,t)})}function js(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(tu(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Is(e))}function Es(e,t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof es?(e.rc.addReference(a.key,t),Ss(e,a)):a instanceof ts?(S("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||js(e,a.key)):N()}}catch(o){i.e(o)}finally{i.f()}}function Ss(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(S("SyncEngine","New document in limbo: "+n),e.nc.add(r),Is(e))}function Is(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new re(ee.fromString(t)),r=e.cc.next();e.ic.set(r,new is(n)),e.sc=e.sc.insert(n,r),eu(e.remoteStore,new Oi(Jt(Wt(n.path)),r,2,Te.ot))}}function Ts(e,t,n){return Cs.apply(this,arguments)}function Cs(){return(Cs=Object(o.a)(k().mark(function e(t,n,r){var i,a,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=[],u=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach(function(e,t){s.push(i.hc(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=no.Vi(t.targetId,e);u.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s,c,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return me.forEach(n,function(t){return me.forEach(t.Pi,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return me.forEach(t.vi,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_e(e.t0)){e.next=10;break}throw e.t0;case 10:S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=g(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return(As=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=P(t)).currentUser.isEqual(n)){e.next=11;break}return S("SyncEngine","User change. New user:",n.toKey()),e.next=5,oo(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach(function(e){e.forEach(function(e){e.reject(new L(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ts(r,i.Ki);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rs(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,mo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Es(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ds(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.abrupt("return",bo(r.localStore,n).then(function(e){return Ts(r,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ms(e,t,n,r){return Fs.apply(this,arguments)}function Fs(){return(Fs=Object(o.a)(k().mark(function e(t,n,r,i){var a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=P(t),e.next=3,function(e,t){var n=P(e),r=P(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.yn(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):me.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Os(a,n,i||null),_s(a,n),function(e,t){P(P(e).mutationQueue).In(t)}(a.localStore,n)):N();case 11:return e.next=13,Ts(a,o);case 13:e.next=16;break;case 15:S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return(Vs=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s,c,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($s(r=P(t)),Ys(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,zs(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Ru(r.remoteStore,!0);case 9:o=g(a);try{for(o.s();!(u=o.n()).done;)s=u.value,eu(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return xs(r,t),vo(r.localStore,t,!0)}),tu(r.remoteStore,t)}),e.next=19,l;case 19:return e.next=21,zs(r,c);case 21:return function(e){var t=P(r);t.ic.forEach(function(e,n){tu(t.remoteStore,n)}),t.rc.cs(),t.ic=new Map,t.sc=new Re(re.comparator)}(),r.ac=!1,e.next=25,Ru(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=P(t),a=[],o=[],u=g(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,po(i.localStore,Jt(f[0]));case 11:l=e.sent,h=g(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Rs(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,go(i.localStore,c);case 36:return m=e.sent,e.next=39,po(i.localStore,m);case 39:return l=e.sent,e.next=42,ss(i,qs(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function qs(e){return Kt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Gs(e){var t=P(e);return P(P(t.localStore).persistence).Ri()}function Ks(e,t,n,r){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=P(t)).ac){e.next=3;break}return e.abrupt("return",void S("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0?8:"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bo(a.localStore,an(o[0]));case 10:return u=e.sent,s=ar.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ts(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,vo(a.localStore,n,!0);case 17:return xs(a,n,i),e.abrupt("break",20);case 19:N();case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return(Qs=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$s(t)).ac){e.next=45;break}a=g(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return S("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,go(i.localStore,u);case 12:return s=e.sent,e.next=15,po(i.localStore,s);case 15:return c=e.sent,e.next=18,ss(i,qs(s),c.targetId,!1);case 18:eu(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=g(r),e.prev=30,h=k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,vo(i.localStore,t,!1).then(function(){tu(i.remoteStore,t),xs(i,t)}).catch(ve);case 5:case"end":return e.stop()}},e)}),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function $s(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ps.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=P(e),r=n.ic.get(t);if(r&&r.Xu)return nr().add(r.key);var i=nr(),a=n.ec.get(t);if(!a)return i;var o,u=g(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return ms.apply(this,arguments)}.bind(null,t),t.Zu.Go=function(e,t){var n,r=P(e),i=!1,a=g(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=g(s.listeners);try{for(l.s();!(c=l.n()).done;)c.value.Au(o)&&(i=!0)}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Qu(r)}.bind(null,t.eventManager),t.Zu.lc=function(e,t,n){var r=P(e),i=r.queries.get(t);if(i){var a,o=g(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function Ys(e){var t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return gs.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return bs.apply(this,arguments)}.bind(null,t),t}function Xs(e,t,n){var r=P(e);(function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=P(e),r=kr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ds.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Zu(i)),a=new Ju(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ts(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=P(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ds.saveBundleMetadata(e,t)})}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(T("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}},e,null,[[0,37]])}));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then(function(e){r.sharedClientState.notifyBundleLoaded(e)})}var Js=function(){function e(){Object(f.a)(this,e),this.synchronizeTabs=!1}return Object(h.a)(e,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Bo(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return ao(this.persistence,new ro,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Wa(Qa.Os,this.wt)}},{key:"dc",value:function(e){return new Po}},{key:"terminate",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Zs=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).yc=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(n){var r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(s.a)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.yc.initialize(this,n);case 4:return e.next=6,Ys(this.yc.syncEngine);case 6:return e.next=8,mu(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return ao(this.persistence,new ro,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Oa(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Ie(t,this.persistence);return new Se(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=to(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sa.withCacheSize(this.cacheSizeBytes):sa.DEFAULT;return new Ja(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vo(),zo(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Po}}]),t}(Js),ec=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n,!1))).yc=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(n){var r,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(s.a)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Ro,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ms.bind(null,r),Mr:Ks.bind(null,r),Or:Hs.bind(null,r),Ri:Gs.bind(null,r),Nr:Ds.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(a.yc.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Vo();if(!Ro.V(t))throw new L(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=to(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ro(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),t}(Zs),tc=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(t,n){var r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ys(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ns.bind(null,this.syncEngine),e.next=12,Ru(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qu}},{key:"createDatastore",value:function(e){var t,n=Bo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Uo(t));return function(e,t,n,r){return new Ho(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ys(o.syncEngine,e,0)},a=Lo.V()?new Lo:new Do,new $o(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new as(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),S("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Jo(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){var r=Object(o.a)(k().mark(function r(){var i;return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),cancel:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rc=function(){function e(t){Object(f.a)(this,e),this.observer=t,this.muted=!1}return Object(h.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):I("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),ic=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.Ec=t,this.wt=n,this.metadata=new M,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return Object(h.a)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Yu(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"bc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),ac=function(){function e(t){Object(f.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(h.a)(e,[{key:"lookup",value:function(){var e=Object(o.a)(k().mark(function e(t){var n,r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=Sr(r.wt)+"/documents",a={documents:n.map(function(e){return Or(r.wt,e)})},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach(function(e){var t=Nr(r.wt,e);u.set(t.key.toString(),t)}),s=[],e.abrupt("return",(n.forEach(function(e){var t=u.get(e.toString());A(!!t),s.push(t)}),s));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=re.fromPath(t);n.mutations.push(new zn(r,n.precondition(r)))}),e.next=7,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),i=Sr(r.wt)+"/documents",a={writes:n.map(function(e){return Ar(r.wt,e)})},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw N();t=J.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jn.updateTime(t):jn.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(J.min()))throw new L(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),oc=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new qo(this.asyncQueue,"transaction_retry")}return Object(h.a)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new ac(e.datastore),(r=e.xc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Nc(t)})})}).catch(function(t){e.Nc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Ye(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(function(){return t.Cc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!qn(t)}return!1}}]),e}(),uc=function(){function e(t,n,r,i){var a=this;Object(f.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_.UNAUTHENTICATED,this.clientId=H.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return S("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}return Object(h.a)(e,[{key:"getConfiguration",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(o.a)(k().mark(function n(){var r;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Fu(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function sc(e,t){return cc.apply(this,arguments)}function cc(){return(cc=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,oo(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return(fc=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hc(t);case 3:return r=e.sent,S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return Nu(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return Nu(n.remoteStore,t)}),t.onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hc(e){return dc.apply(this,arguments)}function dc(){return(dc=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,sc(t,new Js);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pc(e){return vc.apply(this,arguments)}function vc(){return(vc=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lc(t,new tc);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yc(e){return hc(e).then(function(e){return e.persistence})}function mc(e){return hc(e).then(function(e){return e.localStore})}function gc(e){return pc(e).then(function(e){return e.remoteStore})}function bc(e){return pc(e).then(function(e){return e.syncEngine})}function kc(e){return wc.apply(this,arguments)}function wc(){return(wc=Object(o.a)(k().mark(function e(t){var n,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=os.bind(null,n.syncEngine),r.onUnlisten=ls.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rc({next:function(a){t.enqueueAndForget(function(){return Wu(e,o)});var u=a.docs.has(n);!u&&a.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new $u(Wt(n.path),a,{includeMetadataChanges:!0,Du:!0});return Gu(e,o)},i.next=3,kc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function Oc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rc({next:function(n){t.enqueueAndForget(function(){return Wu(e,o)}),n.fromCache&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new $u(n,a,{includeMetadataChanges:!0,Du:!0});return Gu(e,o)},i.next=3,kc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var xc=new Map;function jc(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ec(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Sc(e){if(!re.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ic(e){if(re.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":N()}function Cc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Tc(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Nc(e,t){if(t<=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ac=function(){function e(t){var n;if(Object(f.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ec("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Rc=function(){function e(t,n,r){Object(f.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ac({}),this._settingsFrozen=!1,t instanceof $e?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $e(e.options.projectId)}(t))}return Object(h.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ac(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return A(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new q(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xc.get(e);t&&(S("ComponentProvider","Removing Datastore"),xc.delete(e),t.terminate())}(this),Promise.resolve()}},{key:"app",get:function(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();function Pc(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Cc(e,Rc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&T("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=_.MOCK_USER;else{o=Object(y.n)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _(s)}e._authCredentials=new V(new F(o,u))}}var Dc=function(){function e(t,n,r){Object(f.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(h.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),Lc=function(){function e(t,n,r){Object(f.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(h.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Mc=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,Wt(r))))._path=r,i.type="collection",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dc(this.firestore,null,new re(e))}}]),t}(Lc);function Fc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.u)(e),jc("collection","path",t),e instanceof Rc){var a=ee.fromString.apply(ee,[t].concat(r));return Ic(a),new Mc(e,null,a)}if(!(e instanceof Dc||e instanceof Mc))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Ic(o),new Mc(e.firestore,null,o)}function Uc(e,t){if(e=Cc(e,Rc),jc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Lc(e,null,function(e){return new Gt(ee.emptyPath(),e)}(t))}function Vc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.u)(e),1===arguments.length&&(t=H.I()),jc("doc","path",t),e instanceof Rc){var a=ee.fromString.apply(ee,[t].concat(r));return Sc(a),new Dc(e,null,new re(a))}if(!(e instanceof Dc||e instanceof Mc))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Sc(o),new Dc(e.firestore,e instanceof Mc?e.converter:null,new re(o))}function zc(e,t){return e=Object(y.u)(e),t=Object(y.u)(t),(e instanceof Dc||e instanceof Mc)&&(t instanceof Dc||t instanceof Mc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bc(e,t){return e=Object(y.u)(e),t=Object(y.u)(t),e instanceof Lc&&t instanceof Lc&&e.firestore===t.firestore&&en(e._query,t._query)&&e.converter===t.converter}var qc=function(){function e(){var t=this;Object(f.a)(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qo(this,"async_queue_retry"),this.Kc=function(){var e=zo();e&&S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=zo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Object(h.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=zo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise(function(){});var n=new M;return this.Qc(function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.Oc.push(e),t.jc()})}},{key:"jc",value:function(){var e=Object(o.a)(k().mark(function e(){var t=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_e(e.t0)){e.next=12;break}throw e.t0;case 12:S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io(function(){return t.jc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then(function(){return t.Lc=!0,e().catch(function(e){throw t.Bc=e,t.Lc=!1,I("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Lc=!1,e})});return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Mu.createAndSchedule(this,e,t,n,function(e){return r.Wc(e)});return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(o.a)(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=g(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then(function(){t.$c.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=g(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()})}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Fc}}]),e}();function Gc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=g(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Kc=function(){function e(){Object(f.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(h.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Wc=-1,Hc=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r))).type="firestore",i._queue=new qc,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||$c(this),this._firestoreClient.terminate()}}]),t}(Rc);function Qc(e){return e._firestoreClient||$c(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $c(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Qe(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Yc(e,t){al(e=Cc(e,Hc));var n=Qc(e),r=e._freezeSettings(),i=new tc;return Jc(n,i,new Zs(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Xc(e){al(e=Cc(e,Hc));var t=Qc(e),n=e._freezeSettings(),r=new tc;return Jc(t,r,new ec(r,n.cacheSizeBytes))}function Jc(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(o.a)(k().mark(function i(){var a;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,sc(e,n);case 3:return i.next=5,lc(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:T("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function Zc(e){if(e._initialized&&!e._terminated)throw new L(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(be.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,be.delete(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(to(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function el(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ks,n.next=3,bc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)}))),t.promise}(Qc(e=Cc(e,Hc)))}function tl(e){return function(e){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yc(e);case 2:return n=t.sent,t.next=5,gc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=P(r);return t.lu.delete(0),Yo(t)}()));case 7:case"end":return t.stop()}},t)})))}(Qc(e=Cc(e,Hc)))}function nl(e){return function(e){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yc(e);case 2:return n=t.sent,t.next=5,gc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).lu.add(0),e.next=4,Jo(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t)})))}(Qc(e=Cc(e,Hc)))}function rl(e,t){var n=Qc(e=Cc(e,Hc)),r=new Kc;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ic(e,t)}(function(e,t){if(e instanceof Uint8Array)return nc(e,t);if(e instanceof ArrayBuffer)return nc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Bo(t));e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xs,t.next=3,bc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function il(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=P(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ds.getNamedQuery(e,t)})},n.next=3,mc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(Qc(e=Cc(e,Hc)),t).then(function(t){return t?new Lc(e,null,t.query):null})}function al(e){if(e._initialized||e._terminated)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ol=function(){function e(){Object(f.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(n)}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ul=function(){function e(t){Object(f.a)(this,e),this._byteString=t}return Object(h.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ze.fromBase64String(t))}catch(t){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ze.fromUint8Array(t))}}]),e}(),sl=function e(t){Object(f.a)(this,e),this._methodName=t},cl=function(){function e(t,n){if(Object(f.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}(),ll=/^__.*__$/,fl=function(){function e(t,n,r){Object(f.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(h.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rn(e,this.data,t,this.fieldTransforms)}}]),e}(),hl=function(){function e(t,n,r){Object(f.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(h.a)(e,[{key:"toMutation",value:function(e,t){return new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}var pl=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(h.a)(e,[{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Pl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(dl(this.Zc)&&ll.test(e))throw this.oa('Document fields cannot begin and end with "__"')}},{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}}]),e}(),vl=function(){function e(t,n,r){Object(f.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Bo(t)}return Object(h.a)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pl({Zc:e,methodName:t,ca:n,path:ne.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function yl(e){var t=e._freezeSettings(),n=Bo(e._databaseId);return new vl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ml(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Cl("Data must be an object, but it was:",o,r);var u,s,c=Il(r,o);if(a.merge)u=new Ue(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=g(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Nl(t,l.value,n);if(!o.contains(d))throw new L(D.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Dl(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Ue(f),s=o.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,s=o.fieldTransforms;return new fl(new bt(c),u,s)}var gl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(sl);function bl(e,t,n){return new pl({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var kl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){return new On(e.path,new vn)}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(sl),wl=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).ha=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=bl(this,e,!0),n=this.ha.map(function(e){return Sl(e,t)}),r=new yn(n);return new On(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(sl),_l=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).ha=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=bl(this,e,!0),n=this.ha.map(function(e){return Sl(e,t)}),r=new gn(n);return new On(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(sl),Ol=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).la=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=new kn(e.wt,ln(e.wt,this.la));return new On(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),t}(sl);function xl(e,t,n,r){var i=e.aa(1,t,n);Cl("Data must be an object, but it was:",i,r);var a=[],o=bt.empty();Ne(r,function(e,r){var u=Rl(t,e,n);r=Object(y.u)(r);var s=i.ia(u);if(r instanceof gl)a.push(u);else{var c=Sl(r,s);null!=c&&(a.push(u),o.set(u,c))}});var u=new Ue(a);return new hl(o,u,i.fieldTransforms)}function jl(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Nl(t,r,n)],s=[i];if(a.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Nl(t,a[c])),s.push(a[c+1]);for(var l=[],f=bt.empty(),h=u.length-1;h>=0;--h)if(!Dl(l,u[h])){var d=u[h],p=s[h];p=Object(y.u)(p);var v=o.ia(d);if(p instanceof gl)l.push(d);else{var m=Sl(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Ue(l);return new hl(f,g,o.fieldTransforms)}function El(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Sl(n,e.aa(r?4:3,t))}function Sl(e,t){if(Tl(e=Object(y.u)(e)))return Cl("Unsupported field value:",t,e),Il(e,t);if(e instanceof sl)return function(e,t){if(!dl(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=g(e);try{for(a.s();!(n=a.n()).done;){var o=Sl(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(y.u)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ln(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=X.fromDate(e);return{timestampValue:mr(t.wt,n)}}if(e instanceof X){var r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mr(t.wt,r)}}if(e instanceof cl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ul)return{bytesValue:gr(t.wt,e._byteString)};if(e instanceof Dc){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Tc(e)))}(e,t)}function Il(e,t){var n={};return Ae(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ne(e,function(e,r){var i=Sl(r,t.ea(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Tl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof cl||e instanceof ul||e instanceof Dc||e instanceof sl)}function Cl(e,t,n){if(!Tl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Tc(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Nl(e,t,n){if((t=Object(y.u)(t))instanceof ol)return t._internalPath;if("string"==typeof t)return Rl(e,t);throw Pl("Field path arguments must be of type string or ",e,!1,void 0,n)}var Al=new RegExp("[~\\*/\\[\\]]");function Rl(e,t,n){if(t.search(Al)>=0)throw Pl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(ol,Object(l.a)(t.split(".")))._internalPath}catch(i){throw Pl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pl(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new L(D.INVALID_ARGUMENT,u+e+s)}function Dl(e,t){return e.some(function(e){return e.isEqual(t)})}var Ll=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(h.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Ml(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Fl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dc(this._firestore,this._converter,this._key)}}]),e}(),Ml=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"data",value:function(){return Object(i.a)(Object(s.a)(t.prototype),"data",this).call(this)}}]),t}(Ll);function Fl(e,t){return"string"==typeof t?Rl(e,t):t instanceof ol?t._internalPath:t._delegate._internalPath}var Ul=function(){function e(t,n){Object(f.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Vl=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r,i,o)))._firestore=e,c._firestoreImpl=e,c.metadata=a,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"exists",value:function(){return Object(i.a)(Object(s.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Fl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(Ll),zl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(s.a)(t.prototype),"data",this).call(this,e)}}]),t}(Vl),Bl=function(){function e(t,n,r,i){Object(f.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ul(i.hasPendingWrites,i.fromCache),this.query=r}return Object(h.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new zl(n._firestore,n._userDataWriter,r.key,r,new Ul(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new zl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ul(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new zl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ul(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ql(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function ql(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function Gl(e,t){return e instanceof Vl&&t instanceof Vl?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bl&&t instanceof Bl&&e._firestore===t._firestore&&Bc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Kl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wl=function e(){Object(f.a)(this,e)};function Hl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}var Ql=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).fa=e,i.da=n,i._a=r,i.type="where",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=yl(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){lf(o,a);var s,c=[],l=g(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(cf(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=cf(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||lf(o,a),u=El(n,"where",o,"in"===a||"not-in"===a);var h=Ct.create(i,a,u);return function(e,t){if(t.ht()){var n=$t(e);if(null!==n&&!n.isEqual(t.field))throw new L(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Qt(e);null!==r&&ff(e,t.field,r)}var i=function(e,t){var n,r=g(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(D.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Lc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),t}(Wl);function $l(e,t,n){var r=t,i=Fl("where",e);return new Ql(i,r,n)}var Yl=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).fa=e,r.wa=n,r.type="orderBy",r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vt(t,n);return function(e,t){if(null===Qt(e)){var n=$t(e);null!==n&&ff(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Lc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),t}(Wl);function Xl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Fl("orderBy",e);return new Yl(n,t)}var Jl=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ma=n,i.ga=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){return new Lc(e.firestore,e.converter,Zt(e._query,this.ma,this.ga))}}]),t}(Wl);function Zl(e){return Nc("limit",e),new Jl("limit",e,"F")}function ef(e){return Nc("limitToLast",e),new Jl("limitToLast",e,"L")}var tf=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=sf(e,this.type,this.ya,this.pa);return new Lc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),t}(Wl);function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tf("startAt",t,!0)}function rf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tf("startAfter",t,!1)}var af=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=sf(e,this.type,this.ya,this.pa);return new Lc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),t}(Wl);function of(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new af("endBefore",t,!1)}function uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new af("endAt",t,!0)}function sf(e,t,n,r){if(n[0]=Object(y.u)(n[0]),n[0]instanceof Ll)return function(e,t,n,r,i){if(!r)throw new L(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=g(Xt(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ut(t,r.key));else{var c=r.data.field(s.field);if(We(c))throw new L(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new L(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ut(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yl(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new L(D.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new L(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Yt(e)&&-1!==c.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ee.fromString(c));if(!re.isDocumentKey(l))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new re(l);u.push(ut(t,f))}else{var h=El(n,r,c);u.push(h)}}return new Ut(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function cf(e,t,n){if("string"==typeof(n=Object(y.u)(n))){if(""===n)throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yt(t)&&-1!==n.indexOf("/"))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ee.fromString(n));if(!re.isDocumentKey(r))throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ut(e,new re(r))}if(n instanceof Dc)return ut(e,n._key);throw new L(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Tc(n),"."))}function lf(e,t){if(!Array.isArray(e)||0===e.length)throw new L(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(D.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ff(e,t,n){if(!n.isEqual(t))throw new L(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var hf={maxAttempts:5},df=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ke(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ne(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new cl(Ge(e.latitude),Ge(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return We(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(He(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qe(e);return new X(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ee.fromString(e);A(Gr(n));var r=new $e(n.get(1),n.get(3)),i=new re(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function pf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vf=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).firestore=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"convertBytes",value:function(e){return new ul(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dc(this.firestore,null,t)}}]),t}(df),yf=function(){function e(t,n){Object(f.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yl(t)}return Object(h.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=mf(e,this._firestore),i=pf(r.converter,t,n),a=ml(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jn.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=mf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.u)(t))||t instanceof ol?jl(this._dataReader,"WriteBatch.update",i._key,t,n,o):xl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jn.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=mf(e,this._firestore);return this._mutations=this._mutations.concat(new Vn(t._key,jn.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function mf(e,t){if((e=Object(y.u)(e)).firestore!==t)throw new L(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function gf(e){e=Cc(e,Dc);var t=Cc(e.firestore,Hc);return _c(Qc(t),e._key).then(function(n){return Af(t,e,n)})}var bf=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).firestore=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"convertBytes",value:function(e){return new ul(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dc(this.firestore,null,t)}}]),t}(df);function kf(e){e=Cc(e,Dc);var t=Cc(e.firestore,Hc),n=Qc(t),r=new bf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=P(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.localDocuments.getDocument(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Fu(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new Vl(t,r,e._key,n,new Ul(null!==n&&n.hasLocalMutations,!0),e.converter)})}function wf(e){e=Cc(e,Dc);var t=Cc(e.firestore,Hc);return _c(Qc(t),e._key,{source:"server"}).then(function(n){return Af(t,e,n)})}function _f(e){e=Cc(e,Lc);var t=Cc(e.firestore,Hc),n=Qc(t),r=new bf(t);return Kl(e._query),Oc(n,e._query).then(function(n){return new Bl(t,r,e,n)})}function Of(e){e=Cc(e,Lc);var t=Cc(e.firestore,Hc),n=Qc(t),r=new bf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mo(t,n,!0);case 3:i=e.sent,a=new ns(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Fu(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new Bl(t,r,e,n)})}function xf(e){e=Cc(e,Lc);var t=Cc(e.firestore,Hc),n=Qc(t),r=new bf(t);return Oc(n,e._query,{source:"server"}).then(function(n){return new Bl(t,r,e,n)})}function jf(e,t,n){e=Cc(e,Dc);var r=Cc(e.firestore,Hc),i=pf(e.converter,t,n);return Nf(r,[ml(yl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jn.none())])}function Ef(e,t,n){e=Cc(e,Dc);for(var r=Cc(e.firestore,Hc),i=yl(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Nf(r,[("string"==typeof(t=Object(y.u)(t))||t instanceof ol?jl(i,"updateDoc",e._key,t,n,o):xl(i,"updateDoc",e._key,t)).toMutation(e._key,jn.exists(!0))])}function Sf(e){return Nf(Cc(e.firestore,Hc),[new Vn(e._key,jn.none())])}function If(e,t){var n=Cc(e.firestore,Hc),r=Vc(e),i=pf(e.converter,t);return Nf(n,[ml(yl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jn.exists(!1))]).then(function(){return r})}function Tf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=Object(y.u)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Gc(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(Gc(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[c+2]=null===(u=p.complete)||void 0===u?void 0:u.bind(p)}if(e instanceof Dc)f=Cc(e.firestore,Hc),h=Wt(e._key.path),l={next:function(t){n[c]&&n[c](Af(f,e,t))},error:n[c+1],complete:n[c+2]};else{var v=Cc(e,Lc);f=Cc(v.firestore,Hc),h=v._query;var m=new bf(f);l={next:function(e){n[c]&&n[c](new Bl(f,m,v,e))},error:n[c+1],complete:n[c+2]},Kl(e._query)}return function(e,t,n,r){var i=new rc(l),a=new $u(t,i,n);return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gu,t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wu,t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Qc(f),h,d)}function Cf(e,t){return function(e,t){var n=new rc(t);return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).Tu.add(t),t.next()},t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).Tu.delete(t)},t.next=3,kc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Qc(e=Cc(e,Hc)),Gc(t)?t:{next:t})}function Nf(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hs,r.next=3,bc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(Qc(e),t)}function Af(e,t,n){var r=n.docs.get(t._key),i=new bf(e);return new Vl(e,i,t._key,r,new Ul(n.hasPendingWrites,n.fromCache),t.converter)}var Rf=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n)))._firestore=e,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"get",value:function(e){var n=this,r=mf(e,this._firestore),a=new bf(this._firestore);return Object(i.a)(Object(s.a)(t.prototype),"get",this).call(this,e).then(function(e){return new Vl(n._firestore,a,r._key,e._document,new Ul(!1,!1),r.converter)})}}]),t}(function(){function e(t,n){Object(f.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=yl(t)}return Object(h.a)(e,[{key:"get",value:function(e){var t=this,n=mf(e,this._firestore),r=new vf(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return N();var i=e[0];if(i.isFoundDocument())return new Ll(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ll(t._firestore,r,n._key,null,n.converter);throw N()})}},{key:"set",value:function(e,t,n){var r=mf(e,this._firestore),i=pf(r.converter,t,n),a=ml(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=mf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.u)(t))||t instanceof ol?jl(this._dataReader,"Transaction.update",i._key,t,n,o):xl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=mf(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Pf(e,t,n){e=Cc(e,Hc);var r=Object.assign(Object.assign({},hf),n);return function(e){if(r.maxAttempts<1)throw new L(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,t,n){var r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){var a;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return pc(e).then(function(e){return e.datastore})}(e);case 2:a=i.sent,new oc(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}},i)}))),r.promise}(Qc(e),function(n){return t(new Rf(e,n))},r)}function Df(){return new gl("deleteField")}function Lf(){return new kl("serverTimestamp")}function Mf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wl("arrayUnion",t)}function Ff(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _l("arrayRemove",t)}function Uf(e){return new Ol("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){O=e}(d.SDK_VERSION),Object(d._registerComponent)(new p.a("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Hc(i,new z(e.getProvider("auth-internal")),new K(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),Object(d.registerVersion)(w,"3.4.14",void 0),Object(d.registerVersion)(w,"3.4.14","esm2017")}()}).call(this,n(55))},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(67);var i=n(68);function a(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||Object(i.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(4),i=n(75),a=n(24);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e);if(null!=r)return r}return t.split(".").reduce(function(e,t){return e&&null!=e[t]?e[t]:null},e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return Object(a.b)(e,n,function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":Object(i.a)(e)),e)),!1===s?n:Object(r.a)({},s,n)})};return f.propTypes={},f.filterProps=[t],f}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",function(){return P}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return w}),n.d(t,"_addComponent",function(){return j}),n.d(t,"_addOrOverwriteComponent",function(){return E}),n.d(t,"_apps",function(){return O}),n.d(t,"_clearComponents",function(){return C}),n.d(t,"_components",function(){return x}),n.d(t,"_getProvider",function(){return I}),n.d(t,"_registerComponent",function(){return S}),n.d(t,"_removeServiceInstance",function(){return T}),n.d(t,"deleteApp",function(){return F}),n.d(t,"getApp",function(){return L}),n.d(t,"getApps",function(){return M}),n.d(t,"initializeApp",function(){return D}),n.d(t,"onLog",function(){return z}),n.d(t,"registerVersion",function(){return V}),n.d(t,"setLogLevel",function(){return B});var r=n(14),i=n(3),a=n(4),o=n(0),u=n(2),s=n(18),c=n(20),l=n(1);n.d(t,"FirebaseError",function(){return l.c});var f,h,d=n(51);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){function e(t){Object(o.a)(this,e),this.container=t}return Object(u.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var g="@firebase/app",b="0.7.31",k=new c.b("@firebase/app"),w="[DEFAULT]",_=(f={},Object(a.a)(f,g,"fire-core"),Object(a.a)(f,"@firebase/app-compat","fire-core-compat"),Object(a.a)(f,"@firebase/analytics","fire-analytics"),Object(a.a)(f,"@firebase/analytics-compat","fire-analytics-compat"),Object(a.a)(f,"@firebase/app-check","fire-app-check"),Object(a.a)(f,"@firebase/app-check-compat","fire-app-check-compat"),Object(a.a)(f,"@firebase/auth","fire-auth"),Object(a.a)(f,"@firebase/auth-compat","fire-auth-compat"),Object(a.a)(f,"@firebase/database","fire-rtdb"),Object(a.a)(f,"@firebase/database-compat","fire-rtdb-compat"),Object(a.a)(f,"@firebase/functions","fire-fn"),Object(a.a)(f,"@firebase/functions-compat","fire-fn-compat"),Object(a.a)(f,"@firebase/installations","fire-iid"),Object(a.a)(f,"@firebase/installations-compat","fire-iid-compat"),Object(a.a)(f,"@firebase/messaging","fire-fcm"),Object(a.a)(f,"@firebase/messaging-compat","fire-fcm-compat"),Object(a.a)(f,"@firebase/performance","fire-perf"),Object(a.a)(f,"@firebase/performance-compat","fire-perf-compat"),Object(a.a)(f,"@firebase/remote-config","fire-rc"),Object(a.a)(f,"@firebase/remote-config-compat","fire-rc-compat"),Object(a.a)(f,"@firebase/storage","fire-gcs"),Object(a.a)(f,"@firebase/storage-compat","fire-gcs-compat"),Object(a.a)(f,"@firebase/firestore","fire-fst"),Object(a.a)(f,"@firebase/firestore-compat","fire-fst-compat"),Object(a.a)(f,"fire-js","fire-js"),Object(a.a)(f,"firebase","fire-js-all"),f),O=new Map,x=new Map;function j(e,t){try{e.container.addComponent(t)}catch(n){k.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function E(e,t){e.container.addOrOverwriteComponent(t)}function S(e){var t=e.name;if(x.has(t))return k.debug("There were multiple attempts to register component ".concat(t,".")),!1;x.set(t,e);var n,r=v(O.values());try{for(r.s();!(n=r.n()).done;){j(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function I(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;I(e,t).clearInstance(n)}function C(){x.clear()}var N=(h={},Object(a.a)(h,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(a.a)(h,"bad-app-name","Illegal App name: '{$appName}"),Object(a.a)(h,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(a.a)(h,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(a.a)(h,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(a.a)(h,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(a.a)(h,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(a.a)(h,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(a.a)(h,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(a.a)(h,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),h),A=new l.b("app","Firebase",N),R=function(){function e(t,n,r){var i=this;Object(o.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new s.a("app",function(){return i},"PUBLIC"))}return Object(u.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw A.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),P="9.9.3";function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof t&&(t={name:t});var n=Object.assign({name:w,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw A.create("bad-app-name",{appName:String(r)});var i=O.get(r);if(i){if(Object(l.q)(e,i.options)&&Object(l.q)(n,i.config))return i;throw A.create("duplicate-app",{appName:r})}var a,o=new s.b(r),u=v(x.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;o.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var f=new R(e,n,o);return O.set(r,f),f}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=O.get(e);if(!t)throw A.create("no-app",{appName:e});return t}function M(){return Array.from(O.values())}function F(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(p().mark(function e(t){var n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!O.has(n)){e.next=6;break}return O.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t,n){var r,i=null!==(r=_[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void k.warn(u.join(" "))}S(new s.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function z(e,t){if(null!==e&&"function"!==typeof e)throw A.create("invalid-log-argument");Object(c.d)(e,t)}function B(e){Object(c.c)(e)}var q="firebase-heartbeat-database",G=1,K="firebase-heartbeat-store",W=null;function H(){return W||(W=Object(d.a)(q,G,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(K)}}}).catch(function(e){throw A.create("idb-open",{originalErrorMessage:e.message})})),W}function Q(e){return $.apply(this,arguments)}function $(){return($=Object(i.a)(p().mark(function e(t){var n,r,i;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H();case 3:return r=e.sent,e.abrupt("return",r.transaction(K).objectStore(K).get(J(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof l.c?k.warn(e.t0.message):(i=A.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),k.warn(i.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(i.a)(p().mark(function e(t,n){var r,i,a,o,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H();case 3:return i=e.sent,a=i.transaction(K,"readwrite"),o=a.objectStore(K),e.next=8,o.put(n,J(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof l.c?k.warn(e.t0.message):(u=A.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),k.warn(u.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function J(e){return"".concat(e.name,"!").concat(e.options.appId)}var Z=1024,ee=function(){function e(t){var n=this;Object(o.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ie(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}return Object(u.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(i.a)(p().mark(function e(){var t,n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=te(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(i.a)(p().mark(function e(){var t,n,r,i,a;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=te(),n=ne(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(l.k)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function te(){return(new Date).toISOString().substring(0,10)}function ne(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,r=[],i=e.slice(),a=v(e);try{var o=function(){var e=t.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),ae(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ae(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var re,ie=function(){function e(t){Object(o.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(u.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(i.a)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(l.C)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(l.R)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(i.a)(p().mark(function e(){var t;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Q(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(i.a)(p().mark(function e(t){var n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Y(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(i.a)(p().mark(function e(t){var n,i;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Y(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat(Object(r.a)(i.heartbeats),Object(r.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function ae(e){return Object(l.k)(JSON.stringify({version:2,heartbeats:e})).length}re="",S(new s.a("platform-logger",function(e){return new m(e)},"PRIVATE")),S(new s.a("heartbeat",function(e){return new ee(e)},"PRIVATE")),V(g,b,re),V(g,b,"esm2017"),V("fire-js","")},function(e,t,n){"use strict";var r=n(66);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(90)},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v});var r=n(14),i=n(3),a=n(11),o=n(0),u=n(2),s=n(1);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,u(g,"constructor",p),u(p,"constructor",d),d.displayName=u(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){Object(o.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(u.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(o.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(u.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(c){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(a.a)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(r.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(r.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=l(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=Object(a.a)(i.value,2),c=s[0],f=s[1];r===this.normalizeInstanceIdentifier(c)&&f.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(o.a)(this,e),this.name=t,this.providers=new Map}return Object(u.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return m});var r,i=n(0),a=n(2),o=n(4);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,l=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(c||(c={}));var f={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},h=c.INFO,d=(r={},Object(o.a)(r,c.DEBUG,"log"),Object(o.a)(r,c.VERBOSE,"log"),Object(o.a)(r,c.INFO,"info"),Object(o.a)(r,c.WARN,"warn"),Object(o.a)(r,c.ERROR,"error"),r),p=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){Object(i.a)(this,e),this.name=t,this._logLevel=h,this._logHandler=p,this._userLogHandler=null,l.push(this)}return Object(a.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?f[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat(t)),this._logHandler.apply(this,[this,c.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat(t)),this._logHandler.apply(this,[this,c.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat(t)),this._logHandler.apply(this,[this,c.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat(t)),this._logHandler.apply(this,[this,c.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat(t)),this._logHandler.apply(this,[this,c.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function y(e){l.forEach(function(t){t.setLogLevel(e)})}function m(e,t){var n,r=u(l);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=f[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:c[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}},function(e,t,n){"use strict";var r=n(14),i=n(11),a=n(15),o=n(10),u=n(44),s=n(117),c=n(75),l=["variant"];function f(e){return 0===e.length}function h(e){var t=e.variant,n=Object(a.a)(e,l),r=t||"";return Object.keys(n).sort().forEach(function(t){r+="color"===t?f(r)?e[t]:Object(c.a)(e[t]):"".concat(f(r)?t:Object(c.a)(t)).concat(Object(c.a)(e[t].toString()))}),r}var d=n(112),p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],v=["theme"],y=["theme"];function m(e){return 0===Object.keys(e).length}var g=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},b=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach(function(e){var t=h(e.props);r[t]=e.style}),r},k=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n?void 0:null==(i=n.components)?void 0:null==(a=i[r])?void 0:a.variants;return c&&c.forEach(function(n){var r=!0;Object.keys(n.props).forEach(function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}),r&&s.push(t[h(n.props)])}),s};function w(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _=Object(s.a)();var O=n(43);n.d(t,"b",function(){return x});var x=function(e){return w(e)&&"classes"!==e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_:t,s=e.rootShouldForwardProp,c=void 0===s?w:s,l=e.slotShouldForwardProp,f=void 0===l?w:l,h=e.styleFunctionSx,O=void 0===h?d.a:h,x=function(e){var t=m(e.theme)?n:e.theme;return O(Object(o.a)({},e,{theme:t}))};return x.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.b)(e,function(e){return e.filter(function(e){return!(null!=e&&e.__mui_systemSx)})});var s=t.name,l=t.slot,h=t.skipVariantsResolver,d=t.skipSx,_=t.overridesResolver,O=Object(a.a)(t,p),j=void 0!==h?h:l&&"Root"!==l||!1,E=d||!1,S=w;"Root"===l?S=c:l?S=f:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(S=void 0);var I=Object(u.a)(e,Object(o.a)({shouldForwardProp:S,label:void 0},O)),T=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),c=1;c<t;c++)u[c-1]=arguments[c];var l=u?u.map(function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Object(a.a)(t,v);return e(Object(o.a)({theme:m(r)?n:r},i))}:e}):[],f=e;s&&_&&l.push(function(e){var t=m(e.theme)?n:e.theme,r=g(s,t);if(r){var a={};return Object.entries(r).forEach(function(n){var r=Object(i.a)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s(Object(o.a)({},e,{theme:t})):s}),_(e,a)}return null}),s&&!j&&l.push(function(e){var t=m(e.theme)?n:e.theme;return k(e,b(s,t),t,s)}),E||l.push(x);var h=l.length-u.length;if(Array.isArray(e)&&h>0){var d=new Array(h).fill("");(f=[].concat(Object(r.a)(e),Object(r.a)(d))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(d))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=Object(a.a)(t,y);return e(Object(o.a)({theme:m(r)?n:r},i))});return I.apply(void 0,[f].concat(Object(r.a)(l)))};return I.withConfig&&(T.withConfig=I.withConfig),T}}({defaultTheme:O.a,rootShouldForwardProp:x});t.a=j},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return c});var r=n(5),i=n(60),a=(n(10),n(47),n(57),n(31)),o=n(36),u={}.hasOwnProperty,s=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);s.Provider;var c=function(e){return Object(r.forwardRef)(function(t,n){var i=Object(r.useContext)(s);return e(t,i,n)})},l=Object(r.createContext)({});var f=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function h(e){f(e)}var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(a.c)(t,n,r);h(function(){return Object(a.b)(t,n,r)});return null},y=c(function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[d],c=[i],f="";"string"===typeof e.className?f=Object(a.a)(t.registered,c,e.className):null!=e.className&&(f=e.className+" ");var h=Object(o.a)(c,void 0,Object(r.useContext)(l));f+=t.key+"-"+h.name;var p={};for(var y in e)u.call(e,y)&&"css"!==y&&y!==d&&(p[y]=e[y]);return p.ref=n,p.className=f,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v,{cache:t,serialized:h,isStringTag:"string"===typeof s}),Object(r.createElement)(s,p))})},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s});n(14),n(10),n(62),n(35);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce(function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e},{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce(function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e},{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce(function(e,n){return e[t.up(n)]={},e},{}))||{}}function u(e,t){return e.reduce(function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function s(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(function(t,r){r<e.length&&(n[t]=!0)}):r.forEach(function(t){null!=e[t]&&(n[t]=!0)}),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce(function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e},{})}},function(e,t,n){"use strict";var r=n(75);t.a=r.a},function(e,t,n){"use strict";var r=n(6);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(114);var i=n(38);function a(e){var t=e.props,n=e.name,a=e.defaultTheme;return function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Object(r.a)(t.components[n].defaultProps,i):i}({theme:Object(i.a)(a),name:n,props:t})}var o=n(43);function u(e){return a({props:e.props,name:e.name,defaultTheme:o.a})}n.d(t,"a",function(){return u})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return vr}),n.d(t,"b",function(){return mr}),n.d(t,"c",function(){return yr}),n.d(t,"d",function(){return br}),n.d(t,"e",function(){return gr}),n.d(t,"f",function(){return kr}),n.d(t,"g",function(){return wr}),n.d(t,"h",function(){return dr}),n.d(t,"i",function(){return pr});var r=n(8),i=n(26),a=n(6),o=n(7),u=n(0),s=n(2);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=h||self;function y(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),k=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var S={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++k)}(this);delete S[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function N(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var R,P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}e:{var M=v.navigator;if(M){var F=M.userAgent;if(F){R=F;break e}}R=""}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function V(e){var t={};for(var n in e)t[n]=e[n];return t}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<z.length;a++)n=z[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=y;var G,K=D(R,"Opera"),W=D(R,"Trident")||D(R,"MSIE"),H=D(R,"Edge"),Q=H||W,$=D(R,"Gecko")&&!(D(R.toLowerCase(),"webkit")&&!D(R,"Edge"))&&!(D(R,"Trident")||D(R,"MSIE"))&&!D(R,"Edge"),Y=D(R.toLowerCase(),"webkit")&&!D(R,"Edge");function X(){var e=v.document;return e?e.documentMode:void 0}e:{var J="",Z=function(){var e=R;return $?/rv:([^\);]+)(\)|;)/.exec(e):H?/Edge\/([\d\.]+)/.exec(e):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Y?/WebKit\/(\S+)/.exec(e):K?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Z&&(J=Z?Z[1]:""),W){var ee=X();if(null!=ee&&ee>parseFloat(J)){G=String(ee);break e}}G=J}var te,ne={};function re(){return function(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=P(String(G)).split("."),n=P("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=L(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||L(0==a[2].length,0==o[2].length)||L(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e})}if(v.document&&W){var ie=X();te=ie||(parseInt(G,10)||void 0)}else te=void 0;var ae=te,oe=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",y,t),v.removeEventListener("test",y,t)}catch(n){}return e}();function ue(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(ue.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($){e:{try{q(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ce[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}ue.prototype.h=function(){this.defaultPrevented=!0},j(se,ue);var ce={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),fe=0;function he(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fe,this.ca=this.fa=!1}function de(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function ve(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=I(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(de(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ye(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new he(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function be(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=Ee(r);return t&&t[le]?t.O(n,r,g(i)?!!i.capture:!!i,a):ke(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[le]?e.N(t,n,g(r)?!!r.capture:!!r,i):ke(e,t,n,!1,r,i)}function ke(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,u=xe(e);if(u||(e[me]=u=new pe(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=Oe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function we(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[le])ve(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(ve(n,e),0==n.h&&(n.src=null,t[me]=null)):de(e)}}}function _e(e){return e in ge?ge[e]:ge[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&we(e),e=n.call(r,t)}return e}function xe(e){return(e=e[me])instanceof pe?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"===typeof e?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function Se(){E.call(this),this.i=new pe(this),this.P=this,this.I=null}function Ie(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ue(t,e);else if(t instanceof ue)t.target=t.target||e;else{var i=t;B(t=new ue(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Te(o,r,!0,t)&&i}if(i=Te(o=t.g=e,r,!0,t)&&i,i=Te(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Te(o=t.g=n[a],r,!1,t)&&i}function Te(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ve(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}j(Se,E),Se.prototype[le]=!0,Se.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=g(i)?!!i.capture:!!i,r=Ee(r),t&&t[le]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ye(o=t.g[n],r,i,a))&&(de(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=xe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ye(n,r,i,a)),(r=-1<t?n[t]:null)&&we(r))}(this,e,t,n,r)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)de(n[r]);delete t.g[e],t.h--}}this.I=null},Se.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Se.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ce=v.JSON.stringify;function Ne(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Re=function(){function e(){Object(u.a)(this,e),this.h=this.g=null}return Object(s.a)(e,[{key:"add",value:function(e,t){var n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pe=new(function(){function e(t,n){Object(u.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(s.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new De},function(e){return e.reset()}),De=function(){function e(){Object(u.a)(this,e),this.next=this.g=this.h=null}return Object(s.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Le(e){v.setTimeout(function(){throw e},0)}function Me(e,t){Ae||function(){var e=v.Promise.resolve(void 0);Ae=function(){e.then(Ve)}}(),Fe||(Ae(),Fe=!0),Ue.add(e,t)}var Fe=!1,Ue=new Re;function Ve(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(n){Le(n)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fe=!1}function ze(e,t){Se.call(this),this.h=e||1,this.g=t||v,this.j=O(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}j(ze,Se),(f=ze.prototype).da=!1,f.S=null,f.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(Be(this),this.start()))}},f.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},f.M=function(){ze.Z.M.call(this),Be(this),delete this.g};var Ge=function(e){function t(e,n){var i;return Object(u.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return Object(o.a)(t,e),Object(s.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=qe(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(i.a)(Object(a.a)(t.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(E);function Ke(e){E.call(this),this.h=e,this.g={}}j(Ke,E);var We=[];function He(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var a=be(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qe(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&we(e)},e),e.g={}}function $e(){this.g=!0}function Ye(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ce(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}Ke.prototype.M=function(){Ke.Z.M.call(this),Qe(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Xe={},Je=null;function Ze(){return Je=Je||new Se}function et(e){ue.call(this,Xe.Ma,e)}function tt(e){var t=Ze();Ie(t,new et(t,e))}function nt(e,t){ue.call(this,Xe.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();Ie(t,new nt(t,e))}function it(e,t){ue.call(this,Xe.Na,e),this.size=t}function at(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}Xe.Ma="serverreachability",j(et,ue),Xe.STAT_EVENT="statevent",j(nt,ue),Xe.Na="timingevent",j(it,ue);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}st.prototype.h=null;var ft,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){ue.call(this,"d")}function pt(){ue.call(this,"c")}function vt(){}function yt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ke(this),this.P=gt,e=Q?125:void 0,this.W=new ze(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}j(dt,ue),j(pt,ue),j(vt,st),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var gt=45e3,bt={},kt={};function wt(e,t,n){e.K=1,e.v=Gt(Ft(t)),e.s=n,e.U=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),Et(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=or(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ge(O(e.Ia,e,e.g),e.O)),He(e.V,e.g,"readystatechange",e.gb),t=e.H?V(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ot(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jt(e,n))==kt){4==t&&(e.o=4,rt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==bt){e.o=4,rt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),Nt(e,r)}Ot(e)&&r!=kt&&r!=bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(t),t.L=!0,rt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),Ct(e),Tt(e))}function jt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kt:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?kt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=at(O(e.eb,e),t)}function It(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function Tt(e){0==e.l.G||e.I||tr(e.l,e)}function Ct(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.i,e)))if(n.I=e.N,!e.J&&hn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;er(n),qn(n)}Xn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=at(O(n.ab,n),6e3));if(1>=fn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rr(n,11)}else if((e.J||n.g==e)&&er(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,qt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ar(r,r.H?r.la:null,r.W),d.J){pn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(It(p),Et(p)),r.g=d}else Yn(r);0<n.l.length&&Wn(n)}else"stop"!=a[0]&&"close"!=a[0]||rr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rr(n,7):Bn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tt(4)}catch(a){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Rt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(f=yt.prototype).setTimeout=function(e){this.P=e},f.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},f.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Q||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),It(this);var i=this.g.ba();this.N=i;t:if(Ot(this)){var a=Fn(this.g);e="";var o=a.length,u=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ct(this),Tt(this);var s="";break t}this.h.i=new v.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rt(12),Ct(this),Tt(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,i)}this.U?(xt(this,t,s),Q&&this.i&&3==t&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,s,null),Nt(this,s)),4==t&&Ct(this),this.i&&!this.I&&(4==t?tr(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Ct(this),Tt(this)}}}catch(t){}},f.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(It(this),xt(this,e,t),this.i&&4!=e&&Et(this))}},f.cancel=function(){this.I=!0,Ct(this)},f.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Ct(this),this.o=2,Tt(this)):St(this,this.Y-e)},(f=Rt.prototype).R=function(){Pt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},f.T=function(){return Pt(this),this.g.concat()},f.get=function(e,t){return Dt(this.h,e)?this.h[e]:t},f.set=function(e,t){Dt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},f.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Vt(this,e.i),zt(this,e.m),this.l=e.l,t=e.h;var n=new Zt;n.i=t.i,t.g&&(n.g=new Rt(t.g),n.h=t.h),Bt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Kt(n[2]||""),Vt(this,n[3]||"",!0),zt(this,n[4]),this.l=Kt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.o=Kt(n[7]||"")):(this.g=!!t,this.h=new Zt(null,this.g))}function Ft(e){return new Mt(e)}function Ut(e,t,n){e.j=n?Kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Kt(t,!0):t}function zt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bt(e,t,n){t instanceof Zt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Wt(t,Xt)),e.h=new Zt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Gt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wt(t,Qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?Yt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wt(n,Jt)),e.join("")};var Qt=/[#\/\?@]/g,$t=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,Jt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Rt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tn(e,t){en(e),t=an(e,t),Dt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pt(e)))}function nn(e,t){return en(e),t=an(e,t),Dt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(an(e,t),N(n)),e.h+=n.length)}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(f=Zt.prototype).add=function(e,t){en(this),this.i=null,e=an(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},f.forEach=function(e,t){en(this),this.g.forEach(function(n,r){T(n,function(n){e.call(t,n,r,this)},this)},this)},f.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},f.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=C(t,this.g.get(an(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},f.set=function(e,t){return en(this),this.i=null,nn(this,e=an(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},f.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},f.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var on=function e(t,n){Object(u.a)(this,e),this.h=t,this.g=n};function un(e){this.l=e||cn,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ea&&v.g.Ea()&&v.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,cn=10;function ln(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=c(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return N(e.i)}function yn(){}function mn(){this.g=new yn}function gn(e,t,n){var r=n||"";try{At(e,function(e,n){var i=e;g(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kn(e){this.l=e.$b||null,this.j=e.ib||!1}function wn(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=c(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},yn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},j(kn,st),kn.prototype.g=function(){return new wn(this.l,this.j)},kn.prototype.i=(sn={},function(){return sn}),j(wn,Se);var _n=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jn(e)}function jn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(f=wn.prototype).open=function(e,t){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jn(this)},f.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},f.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xn(this)),this.readyState=_n},f.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},f.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xn(this):jn(this),3==this.readyState&&On(this)}},f.Ua=function(e){this.g&&(this.response=this.responseText=e,xn(this))},f.Ta=function(e){this.g&&(this.response=e,xn(this))},f.ha=function(){this.g&&xn(this)},f.setRequestHeader=function(e,t){this.v.append(e,t)},f.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},f.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=v.JSON.parse;function Sn(e){Se.call(this),this.headers=new Rt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}j(Sn,Se);var In="",Tn=/^https?$/i,Cn=["POST","PUT"];function Nn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Dn(e)}function Rn(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Pn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(Ie(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Lt)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!Tn.test(a?a.toLowerCase():"")}t=i}if(t)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var u=2<Mn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Rn(e)}}finally{Dn(e)}}}function Dn(e,t){if(e.g){Ln(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||Ie(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ln(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case In:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vn("baseRetryDelayMs",5e3,e),this.$a=Vn("retryDelaySeedMs",1e4,e),this.Ya=Vn("forwardChannelMaxRetries",2,e),this.ra=Vn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new un(e&&e.concurrentRequestLimit),this.Ca=new mn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bn(e){if(Gn(e),3==e.G){var t=e.V++,n=Ft(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Qn(e,n),(t=new yt(e,e.h,t,void 0)).K=2,t.v=Gt(Ft(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=or(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}ir(e)}function qn(e){e.g&&(Jn(e),e.g.cancel(),e.g=null)}function Gn(e){qn(e),e.u&&(v.clearTimeout(e.u),e.u=null),er(e),e.i.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function Kn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&Wn(e)}function Wn(e){ln(e.i)||e.m||(e.m=!0,Me(e.Ha,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Qn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new yt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$n(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dn(e.i,n),wt(n,r,t)}function Qn(e,t){e.j&&At({},function(e,n){qt(t,n,e)})}function $n(e,t,n){n=Math.min(e.l.length,n);var r=e.j?O(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{gn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.Y=1,Me(e.Ga,e),e.A=0)}function Xn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=at(O(e.Ga,e),nr(e,e.A)),e.A++,!0)}function Jn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Zn(e){e.g=new yt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Qn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gt(Ft(t)),n.s=null,n.U=!0,_t(n,e)}function er(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function tr(e,t){var n=null;if(e.g==t){er(e),Jn(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ie(r=Ze(),new it(r,n,t,i)),Wn(e)}else Yn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=at(O(e.Ha,e,t),nr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rr(e,5);break;case 4:rr(e,10);break;case 3:rr(e,6);break;default:rr(e,2)}}function nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=O(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Ut(n,"https"),Gt(n)),function(e,t){var n=new $e;if(v.Image){var r=new Image;r.onload=x(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=x(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=x(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=x(bn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),ir(e),Gn(e)}function ir(e){e.G=0,e.I=-1,e.j&&(0==vn(e.i).length&&0==e.l.length||(e.i.i.length=0,N(e.l),e.l.length=0),e.j.ua())}function ar(e,t,n){var r=function(e){return e instanceof Mt?Ft(e):new Mt(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),zt(r,r.m);else{var i=v.location;r=function(e,t,n,r){var i=new Mt(null,void 0);return e&&Ut(i,e),t&&Vt(i,t),n&&zt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&U(e.aa,function(e,t){qt(r,t,e)}),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Qn(e,r),r}function or(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new kn({ib:!0})):new Sn(e.qa)).L=e.H,t}function ur(){}function sr(){if(W&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function cr(e,t){Se.call(this),this.g=new zn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function lr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fr(){pt.call(this),this.status=1}function hr(e){this.g=e}(f=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?ct(this.u):ct(ft),this.g.onreadystatechange=O(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void An(this,a)}e=n||"";var i=new Rt(this.headers);r&&At(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Nn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=v.FormData&&e instanceof v.FormData,!(0<=I(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(e){return W&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){An(this,a)}},f.pa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},f.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Dn(this))},f.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),Sn.Z.M.call(this)},f.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},f.cb=function(){Pn(this)},f.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(sn){return-1}},f.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},f.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},f.Da=function(){return this.m},f.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(f=zn.prototype).ma=8,f.G=1,f.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},f.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?B(n=V(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$n(this,t,r),qt(i=Ft(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Qn(this,i),this.o&&n&&Un(i,this.o,n),dn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,wt(t,i,null)):wt(t,i,r),this.G=2}}else 3==this.G&&(e?Hn(this,e):0==this.l.length||ln(this.i)||Hn(this))},f.Ga=function(){if(this.u=null,Zn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=at(O(this.bb,this),e)}},f.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),qn(this),Zn(this))},f.ab=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),rt(19))},f.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(f=ur.prototype).xa=function(){},f.wa=function(){},f.va=function(){},f.ua=function(){},f.Oa=function(){},sr.prototype.g=function(e,t){return new cr(e,t)},j(cr,Se),cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Me(O(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ar(e,null,e.W),Wn(e)},cr.prototype.close=function(){Bn(this.g)},cr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kn(this.g,t)}else this.v?((t={}).__data__=Ce(e),Kn(this.g,t)):Kn(this.g,e)},cr.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,cr.Z.M.call(this)},j(lr,dt),j(fr,pt),j(hr,ur),hr.prototype.xa=function(){Ie(this.g,"a")},hr.prototype.wa=function(e){Ie(this.g,new lr(e))},hr.prototype.va=function(e){Ie(this.g,new fr(e))},hr.prototype.ua=function(){Ie(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ut.COMPLETE="complete",lt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Se.prototype.listen=Se.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var dr=d.createWebChannelTransport=function(){return new sr},pr=d.getStatEventTarget=function(){return Ze()},vr=d.ErrorCode=ot,yr=d.EventType=ut,mr=d.Event=Xe,gr=d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},br=d.FetchXmlHttpFactory=kn,kr=d.WebChannel=lt,wr=d.XhrIo=Sn}).call(this,n(48))},function(e,t,n){"use strict";var r=n(11),i=n(24),a=n(12),o=n(35);n.d(t,"b",function(){return p}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return y});var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map(function(e){return o+e}):[o+l]}),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=Object(a.b)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function y(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce(function(e,r){return e[r]=y(t,n),e},{})}}(l(n),r),o=e[n];return Object(i.b)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map(function(r){return m(e,t,r,n)}).reduce(o.a,{})}function b(e){return g(e,f)}function k(e){return g(e,h)}function w(e){return g(e,d)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=h,w.propTypes={},w.filterProps=d;t.c=w},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},,function(e,t,n){"use strict";var r=n(63);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d}),n.d(t,"e",function(){return r.e})},,function(e,t,n){"use strict";var r=n(62);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(46);n.d(t,"a",function(){return v});var o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(a.a)(function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()}),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,function(e,t,n){return d={name:t,styles:n,next:d},t})}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}break;case"string":}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},function(e,t,n){"use strict";n(14);var r=n(3),i=n(11),a=n(0),o=n(2),u=n(8),s=n(6),c=n(7),l=n(22),f=n(13),h=n(1),d=n(18);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var v="firebasestorage.googleapis.com",y="storageBucket",m=12e4,g=6e5,b=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,k(e),"Firebase Storage: ".concat(n," (").concat(k(e),")")))).customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(Object(l.a)(Object(l.a)(r)),t.prototype),r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"_codeEquals",value:function(e){return k(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),t}(h.c);function k(e){return"storage/"+e}function w(){return new b("unknown","An unknown error occurred, please check the error payload for server response.")}function _(){return new b("canceled","User canceled the upload/download.")}function O(){return new b("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function x(e){return new b("invalid-argument",e)}function j(){return new b("app-deleted","The Firebase app was deleted.")}function E(e,t){return new b("invalid-format","String does not match format '"+e+"': "+t)}function S(e){throw new b("internal-error","Internal error: "+e)}var I,T=function(){function e(t,n){Object(a.a)(this,e),this.bucket=t,this.path_=n}return Object(o.a)(e,[{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new b("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat("([A-Za-z0-9.\\-_]+)","/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===v?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat("([A-Za-z0-9.\\-_]+)","/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],s=0;s<u.length;s++){var c=u[s],l=c.regex.exec(t);if(l){var f=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new b("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),C=function(){function e(t){Object(a.a)(this,e),this.promise_=Promise.reject(t)}return Object(o.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),e}();function N(e){return"string"===typeof e||e instanceof String}function A(e){return R()&&e instanceof Blob}function R(){return"undefined"!==typeof Blob}function P(e,t,n,r){if(r<t)throw x("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw x("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function D(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function L(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(I||(I={}));var M=function(){function e(t,n,r,i,o,u,s,c,l,f,h){var d=this;Object(a.a)(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return Object(o.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());void 0!==o?r(o):r()}catch(s){i(s)}else if(null!==a){var u=w();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?j():_());else i(new b("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new F(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout(function(){i=null,e(d,s())},t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout(function(){o=!0,v(!0)},n),v}(function(t,n){if(n)t(!1,new F(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===I.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new F(o,r))}else{var u=r.getErrorCode()===I.ABORT;t(!1,new F(!1,null,u))}})}},t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),F=function e(t,n,r){Object(a.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r};function U(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var V={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},z=function e(t,n){Object(a.a)(this,e),this.data=t,this.contentType=n||null};function B(e,t){switch(e){case V.RAW:return new z(q(t));case V.BASE64:case V.BASE64URL:return new z(G(e,t));case V.DATA_URL:return new z(function(e){var t=new K(e);return t.base64?G(V.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw E(V.DATA_URL,"Malformed data URL.")}return q(t)}(t.rest)}(t),new K(t).contentType)}throw w()}function q(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function G(e,t){switch(e){case V.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw E(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case V.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw E(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw E(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var K=function e(t){Object(a.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw E(V.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)};var W=function(){function e(t,n){Object(a.a)(this,e);var r=0,i="";A(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Object(o.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(A(this.data_)){var r=this.data_,i=(o=t,u=n,(a=r).webkitSlice?a.webkitSlice(o,u):a.mozSlice?a.mozSlice(o,u):a.slice?a.slice(o,u):null);return null===i?null:new e(i)}var a,o,u,s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(R()){var i=n.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=U(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(R())return new Blob(n);throw new b("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,i))}var a=n.map(function(e){return N(e)?B(V.RAW,e).data:e.data_}),o=0;a.forEach(function(e){o+=e.byteLength});var u=new Uint8Array(o),s=0;return a.forEach(function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]}),new e(u,!0)}}]),e}();function H(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Q(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $(e,t){return t}var Y=function e(t,n,r,i){Object(a.a)(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$},X=null;function J(){if(X)return X;var e=[];e.push(new Y("bucket")),e.push(new Y("generation")),e.push(new Y("metageneration")),e.push(new Y("name","fullPath",!0));var t=new Y("name");t.xform=function(e,t){return function(e){return!N(e)||e.length<2?e:Q(e)}(t)},e.push(t);var n=new Y("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Y("timeCreated")),e.push(new Y("updated")),e.push(new Y("md5Hash",null,!0)),e.push(new Y("cacheControl",null,!0)),e.push(new Y("contentDisposition",null,!0)),e.push(new Y("contentEncoding",null,!0)),e.push(new Y("contentLanguage",null,!0)),e.push(new Y("contentType",null,!0)),e.push(new Y("metadata","customMetadata",!0)),X=e}function Z(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new T(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ee(e,t,n){var r=H(t);return null===r?null:Z(e,r,n)}function te(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var ne=function e(t,n,r,i){Object(a.a)(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function re(e){if(!e)throw w()}function ie(e,t){return function(n,r){var i=ee(e,r,t);return re(null!==i),i}}function ae(e,t){return function(n,r){var i=ee(e,r,t);return re(null!==i),function(e,t,n,r){var i=H(t);if(null===i)return null;if(!N(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map(function(t){var i=e.bucket,a=e.fullPath;return D("/b/"+o(i)+"/o/"+o(a),n,r)+L({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function oe(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new b("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new b("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new b("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new b("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ue(e){var t=oe(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new b("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function se(e,t,n){var r=D(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ne(r,"GET",ie(e,n),i);return a.errorHandler=ue(t),a}function ce(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function le(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=ce(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+te(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=W.getBlob(c,r,l);if(null===f)throw O();var h={name:s.fullPath},d=D(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ne(d,"POST",ie(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=oe(t),v}var fe=function e(t,n,r,i){Object(a.a)(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null};function he(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){re(!1)}return re(!!n&&-1!==(t||["active"]).indexOf(n)),n}function de(e,t,n,r,i,a,o,u){var s=new fe(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new b("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw O();var v=t.maxUploadRetryTime,y=new ne(n,"POST",function(e,n){var i,o=he(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?ie(t,a)(e,n):null,new fe(u,c,"final"===o,i)},v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=oe(e),y}var pe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ve(e){switch(e){case"running":case"pausing":case"canceling":return pe.RUNNING;case"paused":return pe.PAUSED;case"success":return pe.SUCCESS;case"canceled":return pe.CANCELED;case"error":default:return pe.ERROR}}var ye=function e(t,n,r){if(Object(a.a)(this,e),"function"===typeof t||null!=n||null!=r)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};function me(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,n)})}}var ge=null,be=function(){function e(){var t=this;Object(a.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=I.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=I.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=I.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return Object(o.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw S("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw S("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw S("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw S("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw S("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ke=function(e){function t(){return Object(a.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),t}(be);function we(){return ge?ge():new ke}var _e=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(a.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return Object(o.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=Object(i.a)(n,2),a=r[0],o=r[1];switch(t._state){case"running":e(a,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ce(t,r,i),u={name:o.fullPath},s=D(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=te(o,n),f=e.maxUploadRetryTime,h=new ne(s,"POST",function(e){var t;he(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){re(!1)}return re(N(t)),t},f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=oe(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,we,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ne(n,"POST",function(e){var t=he(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){re(!1)}n||re(!1);var i=Number(n);return re(!isNaN(i)),new fe(i,r.size(),"final"===t)},i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=oe(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,we,n,r);e._request=a,a.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,n=new fe(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,a){var o;try{o=de(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,we,i,a);e._request=u,u.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(t,n){var r=se(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,we,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(t,n){var r=le(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,we,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"on",value:function(e,t,n,r){var i=this,a=new ye(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(ve(this._state)){case pe.SUCCESS:me(this._resolve.bind(null,this.snapshot))();break;case pe.CANCELED:case pe.ERROR:me(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(ve(this._state)){case pe.RUNNING:case pe.PAUSED:e.next&&me(e.next.bind(e,this.snapshot))();break;case pe.SUCCESS:e.complete&&me(e.complete.bind(e))();break;case pe.CANCELED:case pe.ERROR:e.error&&me(e.error.bind(e,this._error))();break;default:e.error&&me(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}},{key:"snapshot",get:function(){var e=ve(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}}]),e}(),Oe=function(){function e(t,n){Object(a.a)(this,e),this._service=t,this._location=n instanceof T?n:T.makeFromUrl(n,t.host)}return Object(o.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new b("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}},{key:"root",get:function(){var e=new T(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Q(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new T(this._location.bucket,t);return new e(this._service,n)}}]),e}();function xe(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=D(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ne(r,"GET",ae(e,n),i);return a.errorHandler=ue(t),a}(e.storage,e._location,J());return e.storage.makeRequestWithTokens(t,we).then(function(e){if(null===e)throw new b("no-download-url","The given file does not have any download URLs.");return e})}function je(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new T(e._location.bucket,n);return new Oe(e.storage,r)}function Ee(e,t){if(e instanceof Te){var n=e;if(null==n._bucket)throw new b("no-default-bucket","No default bucket found. Did you set the '"+y+"' property when initializing the app?");var r=new Oe(n,n._bucket);return null!=t?Ee(r,t):r}return void 0!==t?je(e,t):e}function Se(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Te)return new Oe(e,t);throw x("To use ref(service, url), the first argument must be a Storage instance.")}return Ee(e,t)}function Ie(e,t){var n=null===t||void 0===t?void 0:t[y];return null==n?null:T.makeFromBucketSpec(n,e)}var Te=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=v,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m,this._maxUploadRetryTime=g,this._requests=new Set,this._bucket=null!=i?T.makeFromBucketSpec(i,this._host):Ie(this._host,this.app.options)}return Object(o.a)(e,[{key:"_getAuthToken",value:function(){var e=Object(r.a)(p().mark(function e(){var t,n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(r.a)(p().mark(function e(){var t,n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Oe(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new C(j());var a=function(e,t,n,r,i,a){var o=L(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new M(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(function(){return i._requests.delete(a)},function(){return i._requests.delete(a)}),a}},{key:"makeRequestWithTokens",value:function(){var e=Object(r.a)(p().mark(function e(t,n){var r,a,o,u;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=Object(i.a)(r,2),o=a[0],u=a[1],e.abrupt("return",this._makeRequest(t,n,o,u).getPromise());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=T.makeFromBucketSpec(this._url,e):this._bucket=Ie(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){P("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){P("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}}]),e}(),Ce="@firebase/storage",Ne="0.9.9",Ae="storage";function Re(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new _e(e,new W(t),n)}(e=Object(h.u)(e),t,n)}function Pe(e){return xe(e=Object(h.u)(e))}function De(e,t){return Se(e=Object(h.u)(e),t)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.getApp)(),t=arguments.length>1?arguments[1]:void 0;return e=Object(h.u)(e),Object(f._getProvider)(e,Ae).getImmediate({identifier:t})}function Me(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Te(r,i,a,n,f.SDK_VERSION)}Object(f._registerComponent)(new d.a(Ae,Me,"PUBLIC").setMultipleInstances(!0)),Object(f.registerVersion)(Ce,Ne,""),Object(f.registerVersion)(Ce,Ne,"esm2017"),n.d(t,"a",function(){return Pe}),n.d(t,"b",function(){return Le}),n.d(t,"c",function(){return De}),n.d(t,"d",function(){return Re})},function(e,t,n){"use strict";var r=n(117),i=n(113);var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object(i.a)();return n&&(e=n,0!==Object.keys(e).length)?n:t},o=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return a(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),i=(n(60),n(23),n(64),n(47),n(58),n(31),n(36));r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect;var a=function(){var e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.a)(t)}.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i=n(4),a=n(0),o=n(2),u=n(1),s=n(18),c=n(13),l=n(20),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}},{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.m)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.r)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.m)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.r)(t,e)},createSubscribe:u.o,ErrorFactory:u.b,deepExtend:u.r}),t}(),v=new l.b("@firebase/app-compat"),y="@firebase/app-compat",m="0.1.32";if(Object(u.x)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,k=p;Object(c.registerVersion)(y,m,b)},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(41);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(72),i=Object(r.a)();t.a=i},function(e,t,n){"use strict";n(64);var r=n(5),i=n(46),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(i.a)(function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),u=n(10),s=n(23),c=n(31),l=n(36),f=o,h=function(e){return"theme"!==e},d=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?f:h},p=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},v=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var y=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(c.c)(t,n,r);v(function(){return Object(c.b)(t,n,r)});return null},m=function e(t,n){var i,a,o=t.__emotion_real===t,f=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var h=p(t,n,o),v=h||d(f),m=!v("as");return function(){var g=arguments,b=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==g[0]||void 0===g[0].raw)b.push.apply(b,g);else{b.push(g[0][0]);for(var k=g.length,w=1;w<k;w++)b.push(g[w],g[0][w])}var _=Object(s.f)(function(e,t,n){var i=m&&e.as||f,o="",u=[],p=e;if(null==e.theme){for(var g in p={},e)p[g]=e[g];p.theme=Object(r.useContext)(s.b)}"string"===typeof e.className?o=Object(c.a)(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var k=Object(l.a)(b.concat(u),t.registered,p);o+=t.key+"-"+k.name,void 0!==a&&(o+=" "+a);var w=m&&void 0===h?d(i):v,_={};for(var O in e)m&&"as"===O||w(O)&&(_[O]=e[O]);return _.className=o,_.ref=n,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(y,{cache:t,serialized:k,isStringTag:"string"===typeof i}),Object(r.createElement)(i,_))});return _.displayName=void 0!==i?i:"Styled("+("string"===typeof f?f:f.displayName||f.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=f,_.__emotion_styles=b,_.__emotion_forwardProp=h,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,r){return e(t,Object(u.a)({},n,r,{shouldForwardProp:p(_,r,!0)})).apply(void 0,b)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){m[e]=m(e)});var g=m;function b(e,t){return g(e,t)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return k});var k=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},function(e,t,n){"use strict";var r=n(5);function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}t.a=function(e,t){return r.useMemo(function(){return null==e&&null==t?null:function(n){i(e,n),i(t,n)}},[e,t])}},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(5),i=r.createContext(null);t.a=i},function(e,t,n){"use strict";n(4);var r=n(12),i=n(35);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return t.filterProps.forEach(function(n){e[n]=t}),e},{}),a=function(e){return Object.keys(e).reduce(function(t,n){return r[n]?Object(i.a)(t,r[n](e)):t},{})};return a.propTypes={},a.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),a},o=n(29),u=n(24);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=Object(r.a)({prop:"border",themeKey:"borders",transform:s}),l=Object(r.a)({prop:"borderTop",themeKey:"borders",transform:s}),f=Object(r.a)({prop:"borderRight",themeKey:"borders",transform:s}),h=Object(r.a)({prop:"borderBottom",themeKey:"borders",transform:s}),d=Object(r.a)({prop:"borderLeft",themeKey:"borders",transform:s}),p=Object(r.a)({prop:"borderColor",themeKey:"palette"}),v=Object(r.a)({prop:"borderTopColor",themeKey:"palette"}),y=Object(r.a)({prop:"borderRightColor",themeKey:"palette"}),m=Object(r.a)({prop:"borderBottomColor",themeKey:"palette"}),g=Object(r.a)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(o.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(u.b)(e,e.borderRadius,function(e){return{borderRadius:Object(o.d)(t,e)}})}return null};b.propTypes={},b.filterProps=["borderRadius"];var k=a(c,l,f,h,d,p,v,y,m,g,b),w=a(Object(r.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(r.a)({prop:"display"}),Object(r.a)({prop:"overflow"}),Object(r.a)({prop:"textOverflow"}),Object(r.a)({prop:"visibility"}),Object(r.a)({prop:"whiteSpace"})),_=a(Object(r.a)({prop:"flexBasis"}),Object(r.a)({prop:"flexDirection"}),Object(r.a)({prop:"flexWrap"}),Object(r.a)({prop:"justifyContent"}),Object(r.a)({prop:"alignItems"}),Object(r.a)({prop:"alignContent"}),Object(r.a)({prop:"order"}),Object(r.a)({prop:"flex"}),Object(r.a)({prop:"flexGrow"}),Object(r.a)({prop:"flexShrink"}),Object(r.a)({prop:"alignSelf"}),Object(r.a)({prop:"justifyItems"}),Object(r.a)({prop:"justifySelf"})),O=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(o.b)(e.theme,"spacing",8,"gap");return Object(u.b)(e,e.gap,function(e){return{gap:Object(o.d)(t,e)}})}return null};O.propTypes={},O.filterProps=["gap"];var x=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(o.b)(e.theme,"spacing",8,"columnGap");return Object(u.b)(e,e.columnGap,function(e){return{columnGap:Object(o.d)(t,e)}})}return null};x.propTypes={},x.filterProps=["columnGap"];var j=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(o.b)(e.theme,"spacing",8,"rowGap");return Object(u.b)(e,e.rowGap,function(e){return{rowGap:Object(o.d)(t,e)}})}return null};j.propTypes={},j.filterProps=["rowGap"];var E=a(O,x,j,Object(r.a)({prop:"gridColumn"}),Object(r.a)({prop:"gridRow"}),Object(r.a)({prop:"gridAutoFlow"}),Object(r.a)({prop:"gridAutoColumns"}),Object(r.a)({prop:"gridAutoRows"}),Object(r.a)({prop:"gridTemplateColumns"}),Object(r.a)({prop:"gridTemplateRows"}),Object(r.a)({prop:"gridTemplateAreas"}),Object(r.a)({prop:"gridArea"})),S=a(Object(r.a)({prop:"position"}),Object(r.a)({prop:"zIndex",themeKey:"zIndex"}),Object(r.a)({prop:"top"}),Object(r.a)({prop:"right"}),Object(r.a)({prop:"bottom"}),Object(r.a)({prop:"left"})),I=a(Object(r.a)({prop:"color",themeKey:"palette"}),Object(r.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(r.a)({prop:"backgroundColor",themeKey:"palette"})),T=Object(r.a)({prop:"boxShadow",themeKey:"shadows"});function C(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var N=Object(r.a)({prop:"width",transform:C}),A=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(u.b)(e,e.maxWidth,function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(i=r.values)?void 0:i[t])||u.e[t]||C(t)}})}return null};A.filterProps=["maxWidth"];var R=Object(r.a)({prop:"minWidth",transform:C}),P=Object(r.a)({prop:"height",transform:C}),D=Object(r.a)({prop:"maxHeight",transform:C}),L=Object(r.a)({prop:"minHeight",transform:C}),M=(Object(r.a)({prop:"size",cssProperty:"width",transform:C}),Object(r.a)({prop:"size",cssProperty:"height",transform:C}),a(N,A,R,P,D,L,Object(r.a)({prop:"boxSizing"}))),F=Object(r.a)({prop:"fontFamily",themeKey:"typography"}),U=Object(r.a)({prop:"fontSize",themeKey:"typography"}),V=Object(r.a)({prop:"fontStyle",themeKey:"typography"}),z=Object(r.a)({prop:"fontWeight",themeKey:"typography"}),B=Object(r.a)({prop:"letterSpacing"}),q=Object(r.a)({prop:"textTransform"}),G=Object(r.a)({prop:"lineHeight"}),K=Object(r.a)({prop:"textAlign"}),W=a(Object(r.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,U,V,z,B,G,K,q);n.d(t,"b",function(){return Q}),n.d(t,"a",function(){return $});var H={borders:k.filterProps,display:w.filterProps,flexbox:_.filterProps,grid:E.filterProps,positions:S.filterProps,palette:I.filterProps,shadows:T.filterProps,sizing:M.filterProps,spacing:o.c.filterProps,typography:W.filterProps},Q={borders:k,display:w,flexbox:_,grid:E,positions:S,palette:I,shadows:T,sizing:M,spacing:o.c,typography:W},$=Object.keys(H).reduce(function(e,t){return H[t].forEach(function(n){e[n]=Q[t]}),e},{})},function(e,t,n){"use strict";var r=n(4);var i,a,o=n(3),u=function(e,t){return t.some(function(t){return e instanceof t})};var s=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap;var d={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),y(s.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[m(this),t].concat(r));return l.set(a,t.sort?t.sort():[t]),y(a)}}function v(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(!c.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});c.set(e,t)}}(e),u(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function y(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(y(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(function(t){t instanceof IDBCursor&&s.set(t,e)}).catch(function(){}),h.set(t,e),t}(e);if(f.has(e))return f.get(e);var t=v(e);return t!==e&&(f.set(e,t),h.set(t,e)),t}var m=function(e){return h.get(e)};function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=y(u);return i&&u.addEventListener("upgradeneeded",function(e){i(y(u.result),e.oldVersion,e.newVersion,y(u.transaction))}),r&&u.addEventListener("blocked",function(){return r()}),s.then(function(e){o&&e.addEventListener("close",function(){return o()}),a&&e.addEventListener("versionchange",function(){return a()})}).catch(function(){}),s}n.d(t,"a",function(){return b});var k=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],_=new Map;function O(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(_.get(t))return _.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||k.includes(n))){var a=function(){var e=Object(o.a)(g().mark(function e(t){var a,o,u,s,c,l,f=arguments;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return _.set(t,a),a}}}d=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}({},e,{get:function(t,n,r){return O(t,n)||e.get(t,n,r)},has:function(t,n){return!!O(t,n)||e.has(t,n)}})}(d)},function(e,t,n){"use strict";var r,i=n(5),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}t.a=function(){var e=i.useCallback(function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))},[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout(function(){o=!1},100),t.current=!1,!0)},ref:e}}},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",function(){return r})},,function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(84)},function(e,t,n){"use strict";var r=n(58),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";var r=n(91),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(5);var r=n(38),i=n(43);function a(){return Object(r.a)(i.a)}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),i="-ms-",a="-moz-",o="-webkit-",u="comm",s="rule",c="decl",l="@import",f="@keyframes",h=Math.abs,d=String.fromCharCode,p=Object.assign;function v(e){return e.trim()}function y(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function k(e){return e.length}function w(e){return e.length}function _(e,t){return t.push(e),e}function O(e,t){return e.map(t).join("")}var x=1,j=1,E=0,S=0,I=0,T="";function C(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:x,column:j,length:o,return:""}}function N(e,t){return p(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return I=S>0?g(T,--S):0,j--,10===I&&(j=1,x--),I}function R(){return I=S<E?g(T,S++):0,j++,10===I&&(j=1,x++),I}function P(){return g(T,S)}function D(){return S}function L(e,t){return b(T,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return x=j=1,E=k(T=e),S=0,[]}function U(e){return T="",e}function V(e){return v(L(S-1,function e(t){for(;R();)switch(I){case t:return S;case 34:case 39:34!==t&&39!==t&&e(I);break;case 40:41===t&&e(t);break;case 92:R()}return S}(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(I=P())&&I<33;)R();return M(e)>2||M(I)>3?"":" "}function B(e,t){for(;--t&&R()&&!(I<48||I>102||I>57&&I<65||I>70&&I<97););return L(e,D()+(t<6&&32==P()&&32==R()))}function q(e,t){for(;R()&&e+I!==57&&(e+I!==84||47!==P()););return"/*"+L(t,S-1)+"*"+d(47===e?e:R())}function G(e){for(;!M(P());)R();return L(e,S)}function K(e){return U(function e(t,n,r,i,a,o,u,s,c){var l=0;var f=0;var h=u;var p=0;var v=0;var g=0;var b=1;var w=1;var O=1;var x=0;var j="";var E=a;var S=o;var I=i;var T=j;for(;w;)switch(g=x,x=R()){case 40:if(108!=g&&58==T.charCodeAt(h-1)){-1!=m(T+=y(V(x),"&","&\f"),"&\f")&&(O=-1);break}case 34:case 39:case 91:T+=V(x);break;case 9:case 10:case 13:case 32:T+=z(g);break;case 92:T+=B(D()-1,7);continue;case 47:switch(P()){case 42:case 47:_(H(q(R(),D()),n,r),c);break;default:T+="/"}break;case 123*b:s[l++]=k(T)*O;case 125*b:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+f:v>0&&k(T)-h&&_(v>32?Q(T+";",i,r,h-1):Q(y(T," ","")+";",i,r,h-2),c);break;case 59:T+=";";default:if(_(I=W(T,n,r,l,f,a,s,j,E=[],S=[],h),o),123===x)if(0===f)e(T,n,I,I,E,o,h,s,S);else switch(p){case 100:case 109:case 115:e(t,I,I,i&&_(W(t,I,I,0,0,a,s,j,a,E=[],h),S),a,S,h,s,i?E:S);break;default:e(T,I,I,I,[""],S,0,s,S)}}l=f=v=0,b=O=1,j=T="",h=u;break;case 58:h=1+k(T),v=g;default:if(b<1)if(123==x)--b;else if(125==x&&0==b++&&125==A())continue;switch(T+=d(x),x*b){case 38:O=f>0?1:(T+="\f",-1);break;case 44:s[l++]=(k(T)-1)*O,O=1;break;case 64:45===P()&&(T+=V(R())),p=P(),f=h=k(j=T+=G(D())),x++;break;case 45:45===g&&2==k(T)&&(b=0)}}return o}("",null,null,null,[""],e=F(e),0,[0],e))}function W(e,t,n,r,i,a,o,u,c,l,f){for(var d=i-1,p=0===i?a:[""],m=w(p),g=0,k=0,_=0;g<r;++g)for(var O=0,x=b(e,d+1,d=h(k=o[g])),j=e;O<m;++O)(j=v(k>0?p[O]+" "+x:y(x,/&\f/g,p[O])))&&(c[_++]=j);return C(e,t,n,0===i?s:u,c,l,f)}function H(e,t,n){return C(e,t,n,u,d(I),b(e,2,-2),0)}function Q(e,t,n,r){return C(e,t,n,c,b(e,0,r),b(e,r+1,-1),r)}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+a+e+i+e+e;case 6828:case 4268:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+y(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+y(e,/flex-|-self/,"")+e;case 4675:return o+e+i+"flex-line-pack"+y(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+i+y(e,"shrink","negative")+e;case 5292:return o+e+i+y(e,"basis","preferred-size")+e;case 6060:return o+"box-"+y(e,"-grow","")+o+e+i+y(e,"grow","positive")+e;case 4554:return o+y(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return y(y(y(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return y(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return y(y(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return y(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(k(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return y(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?$(y(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,k(e)-3-(~m(e,"!important")&&10))){case 107:return y(e,":",":"+o)+e;case 101:return y(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===g(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+i+e+e}return e}function Y(e,t){for(var n="",r=w(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function X(e,t,n,r){switch(e.type){case l:case c:return e.return=e.return||e.value;case u:return"";case f:return e.return=e.value+"{"+Y(e.children,r)+"}";case s:e.value=e.props.join(",")}return k(n=Y(e.children,r))?e.return=e.value+"{"+n+"}":""}n(47),n(46);var J=function(e,t,n){for(var r=0,i=0;r=i,i=P(),38===r&&12===i&&(t[n]=1),!M(i);)R();return L(e,S)},Z=function(e,t){return U(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===P()&&(t[n]=1),e[n]+=J(S-1,t,n);break;case 2:e[n]+=V(r);break;case 4:if(44===r){e[++n]=58===P()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=d(r)}}while(r=R());return e}(F(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=Z(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=$(e.value,e.length);break;case f:return Y([N(e,{value:y(e.value,"@","@"+o)})],r);case s:if(e.length)return O(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([N(e,{props:[y(t,/:(read-\w+)/,":"+a+"$1")]})],r);case"::placeholder":return Y([N(e,{props:[y(t,/:(plac\w+)/,":"+o+"input-$1")]}),N(e,{props:[y(t,/:(plac\w+)/,":"+a+"$1")]}),N(e,{props:[y(t,/:(plac\w+)/,i+"input-$1")]})],r)}return""})}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)});var c,l,f=[X,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=w(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,Y(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return d.sheet.hydrate(s),d}},function(e,t,n){"use strict";var r=n(40);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.9.3","app-compat")},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(10);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])}),o}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return fi}),n.d(t,"b",function(){return ki}),n.d(t,"c",function(){return hi}),n.d(t,"d",function(){return li}),n.d(t,"e",function(){return pi});var r=n(11),i=n(3),a=n(22),o=n(8),u=n(6),s=n(7),c=n(14),l=n(0),f=n(2),h=n(13),d=n(18),p=n(1),v=n(20);function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="@firebase/database",k="0.13.5",w="";var _=function(){function e(t){Object(l.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(f.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(p.Q)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(p.J)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),O=function(){function e(){Object(l.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(f.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(p.m)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),x=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _(t)}}catch(n){}return new O},j=x("localStorage"),E=x("sessionStorage"),S=new v.b("@firebase/database"),I=function(){var e=1;return function(){return e++}}(),T=function(e){var t=Object(p.P)(e),n=new p.d;n.update(t);var r=n.digest();return p.h.encodeByteArray(r)},C=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(p.Q)(r):r,t+=" "}return t},N=null,A=!0,R=function(e,t){Object(p.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(S.logLevel=v.a.VERBOSE,N=S.log.bind(S),t&&E.set("logging_enabled",!0)):"function"===typeof e?N=e:(N=null,E.remove("logging_enabled"))},P=function(){if(!0===A&&(A=!1,null===N&&!0===E.get("logging_enabled")&&R(!0)),N){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C.apply(null,t);N(r)}},D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];P.apply(void 0,[e].concat(n))}},L=function(){var e="FIREBASE INTERNAL ERROR: "+C.apply(void 0,arguments);S.error(e)},M=function(){var e="FIREBASE FATAL ERROR: ".concat(C.apply(void 0,arguments));throw S.error(e),new Error(e)},F=function(){var e="FIREBASE WARNING: "+C.apply(void 0,arguments);S.warn(e)},U=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V="[MIN_NAME]",z="[MAX_NAME]",B=function(e,t){if(e===t)return 0;if(e===V||t===z)return-1;if(t===V||e===z)return 1;var n=Y(e),r=Y(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},G=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(p.Q)(t))},K=function e(t){if("object"!==typeof t||null===t)return Object(p.Q)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(p.Q)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},W=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function H(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Q=function(e){Object(p.f)(!U(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var u=o.join(""),s="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),s+=c}return s.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),Y=function(e){if($.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},X=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t},Math.floor(0))}},J=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},ee=function(){function e(t,n){var r=this;Object(l.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then(function(e){return r.appCheck=e})}return Object(f.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){F('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),te=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(e){return i.auth_=e})}return Object(f.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(e)}}]),e}(),ne=function(){function e(t){Object(l.a)(this,e),this.accessToken=t}return Object(f.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ne.OWNER="owner";var re=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ie="ac",ae="websocket",oe="long_polling",ue=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(l.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=j.get("host:"+t)||this._host}return Object(f.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&j.set("host:"+this._host,this.internalHost))}}]),e}();function se(e,t,n){var r;if(Object(p.f)("string"===typeof t,"typeof type must == string"),Object(p.f)("object"===typeof n,"typeof params must == object"),t===ae)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==oe)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return H(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var ce=function(){function e(){Object(l.a)(this,e),this.counters_={}}return Object(f.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(p.m)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(p.p)(this.counters_)}}]),e}(),le={},fe={};function he(e){var t=e.toString();return le[t]||(le[t]=new ce),le[t]}var de=function(){function e(t){Object(l.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(f.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&X(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),pe="pLPCommand",ve="pRTLPCB",ye=function(){function e(t,n,r,i,a,o,u){var s=this;Object(l.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=he(n),this.urlFn=function(e){return s.appCheckToken&&(e[ie]=s.appCheckToken),se(n,oe,e)}}return Object(f.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new de(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(p.E)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new me(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ie]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(p.Q)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(p.j)(t),r=W(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(p.E)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(p.Q)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(p.E)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),me=function(){function e(t,n,r,i){if(Object(l.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(p.E)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I(),window[pe+this.uniqueCallbackIdentifier]=t,window[ve+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){P("frame writing exception"),u.stack&&P(u.stack),P(u)}}}return Object(f.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})}},{key:"addTag",value:function(e,t){var n=this;Object(p.E)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){P("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||P("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ge=null;"undefined"!==typeof MozWebSocket?ge=MozWebSocket:"undefined"!==typeof WebSocket&&(ge=WebSocket);var be=function(){function t(e,n,r,i,a,o,u){Object(l.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=he(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(f.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,j.set("previous_websocket_failure",!0);try{var i;if(Object(p.E)()){var a=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":"Firebase/".concat("5","/").concat(w,"/").concat(e.platform,"/").concat(a),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/ideathon-registration",REACT_APP_API_KEY:"AIzaSyAFHTfN6KuOwzDsLdWtmZeFAVpVcI-Npfw",REACT_APP_APP_ID:"1:1094596378197:web:81887879503a76e09c5edc",REACT_APP_AUTHDOMAIN:"ideathon-registration-form.firebaseapp.com",REACT_APP_BASEURL:"https://ideathon-registration-form-default-rtdb.firebaseio.com",REACT_APP_MEASUREMENT_ID:"G-JSB5Q51DBG",REACT_APP_MESSAGING_SENDER_ID:"1094596378197",REACT_APP_PROJECT_ID:"ideathon-registration-form",REACT_APP_STORAGEBUCKET:"ideathon-registration-form.appspot.com"}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(i.proxy={origin:u})}this.mySock=new ge(this.connURL,[],i)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){j.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(p.J)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(p.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(p.Q)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=W(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={v:"5"};return!Object(p.E)()&&"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ie]=r),i&&(a.p=i),se(e,ae,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ge&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return j.isInMemoryStorage||!0===j.get("previous_websocket_failure")}}]),t}();be.responsesRequiredToBeHealthy=2,be.healthyTimeout=3e4;var ke=function(){function e(t){Object(l.a)(this,e),this.initTransports_(t)}return Object(f.a)(e,[{key:"initTransports_",value:function(t){var n=be&&be.isAvailable(),r=n&&!be.previouslyFailed();if(t.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[be];else{var i,a=this.transports_=[],o=m(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ye,be]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ke.globalTransportInitialized_=!1;var we=function(){function e(t,n,r,i,a,o,u,s,c,f){Object(l.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new ke(n),this.log_("Connection created"),this.start_()}return Object(f.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=G("t",e),n=G("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=G("t",e),n=G("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=G("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?L("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(j.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),_e=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Oe=function(){function e(t){Object(l.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(p.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(f.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(c.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(p.f)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)}}]),e}(),xe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this,["online"]))).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(p.D)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.a)(t,e),Object(f.a)(t,[{key:"getInitialEvent",value:function(e){return Object(p.f)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new t}}]),t}(Oe),je=32,Ee=768,Se=function(){function e(t,n){if(Object(l.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(f.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ie(){return new Se("")}function Te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ce(e){return e.pieces_.length-e.pieceNum_}function Ne(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Se(e.pieces_,t)}function Ae(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Se(t,0)}function De(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Se)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Se(n,0)}function Le(e){return e.pieceNum_>=e.pieces_.length}function Me(e,t){var n=Te(e),r=Te(t);if(null===n)return t;if(n===r)return Me(Ne(e),Ne(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fe(e,t){for(var n=Re(e,0),r=Re(t,0),i=0;i<n.length&&i<r.length;i++){var a=B(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Ue(e,t){if(Ce(e)!==Ce(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ve(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ce(e)>Ce(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ze=function e(t,n){Object(l.a)(this,e),this.errorPrefix_=n,this.parts_=Re(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(p.O)(this.parts_[r]);Be(this)};function Be(e){if(e.byteLength_>Ee)throw new Error(e.errorPrefix_+"has a key path longer than "+Ee+" bytes ("+e.byteLength_+").");if(e.parts_.length>je)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+je+") or object contains a cycle "+qe(e))}function qe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ge=function(e){function t(){var e,n,r;return Object(l.a)(this,t),e=Object(o.a)(this,Object(u.a)(t).call(this,["visible"])),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(r="visibilitychange",n="hidden"):"undefined"!==typeof document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):"undefined"!==typeof document.msHidden?(r="msvisibilitychange",n="msHidden"):"undefined"!==typeof document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),e.visible_=!0,r&&document.addEventListener(r,function(){var t=!document[n];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))},!1),e}return Object(s.a)(t,e),Object(f.a)(t,[{key:"getInitialEvent",value:function(e){return Object(p.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new t}}]),t}(Oe),Ke=1e3,We=3e5,He=function(e){function t(e,n,r,i,s,c,f,h){var d;if(Object(l.a)(this,t),(d=Object(o.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,d.applicationId_=n,d.onDataUpdate_=r,d.onConnectStatus_=i,d.onServerInfoUpdate_=s,d.authTokenProvider_=c,d.appCheckTokenProvider_=f,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=D("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Ke,d.maxReconnectDelay_=We,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!Object(p.E)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ge.getInstance().on("visible",d.onVisible_,Object(a.a)(Object(a.a)(d))),-1===e.host.indexOf("fblocal")&&xe.getInstance().on("online",d.onOnline_,Object(a.a)(Object(a.a)(d))),d}return Object(s.a)(t,e),Object(f.a)(t,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(p.Q)(i)),Object(p.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new p.a,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(p.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(p.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}},{key:"sendListen_",value:function(e){var n=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var u=o.d,s=o.s;t.warnOnListenWarnings_(u,r),(n.listens.get(i)&&n.listens.get(i).get(a))===e&&(n.log_("listen response",o),"ok"!==s&&n.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))})}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(p.w)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(p.I)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(p.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(p.Q)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):L("Unrecognized action received from server: "+Object(p.Q)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(p.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ke),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(i.a)(y().mark(function e(){var n,i,a,o,u,s,c,l,f,h,d,v,m,g,b=this;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,u=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,a())},f=function(e){Object(p.f)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,v=Object(r.a)(d,2),m=v[0],g=v[1],s?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,c=new we(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,a,function(e){F(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")},u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&F(e.t0),l());case 30:case"end":return e.stop()}},e,this,[[16,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){P("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){P("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(p.A)(this.interruptReasons_)&&(this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map(function(e){return K(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Se(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){P("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){P("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=m(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=m(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(p.E)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+w.replace(/\./g,"-")]=1,Object(p.D)()?e["framework.cordova"]=1:Object(p.F)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=xe.getInstance().currentlyOnline();return Object(p.A)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(p.m)(e,"w")){var n=Object(p.N)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();F("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),t}(_e);He.nextPersistentConnectionId_=0,He.nextConnectionId_=0;var Qe,$e=function(){function e(t,n){Object(l.a)(this,e),this.name=t,this.node=n}return Object(f.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ye=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new $e(V,e),r=new $e(V,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return $e.MIN}}]),e}(),Xe=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){return B(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(p.g)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return $e.MIN}},{key:"maxPost",value:function(){return new $e(z,Qe)}},{key:"makePost",value:function(e,t){return Object(p.f)("string"===typeof e,"KeyIndex indexValue must always be a string."),new $e(e,Qe)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Qe},set:function(e){Qe=e}}]),t}(Ye),Je=new Xe,Ze=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(l.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(f.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),et=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:rt.EMPTY_NODE,this.right=null!=a?a:rt.EMPTY_NODE}return Object(f.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return rt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();et.RED=!0,et.BLACK=!1;var tt,nt=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new et(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),rt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(l.a)(this,e),this.comparator_=t,this.root_=n}return Object(f.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,et.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,et.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ze(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ze(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ze(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ze(this.root_,null,this.comparator_,!0,e)}}]),e}();function it(e,t){return B(e.name,t.name)}function at(e,t){return B(e,t)}rt.EMPTY_NODE=new nt;var ot,ut,st,ct=function(e){return"number"===typeof e?"number:"+Q(e):"string:"+e},lt=function(e){if(e.isLeafNode()){var t=e.val();Object(p.f)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(p.m)(t,".sv"),"Priority must be a string or number.")}else Object(p.f)(e===tt||e.isEmpty(),"priority of unexpected type.");Object(p.f)(e===tt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ft=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(l.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(p.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),lt(this.priorityNode_)}return Object(f.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Le(t)?this:".priority"===Te(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Te(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(p.f)(".priority"!==r||1===Ce(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ct(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Q(this.value_):this.value_,this.lazyHash_=T(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(p.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(p.f)(i>=0,"Unknown leaf type: "+n),Object(p.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",set:function(e){ot=e},get:function(){return ot}}]),e}();ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ht,dt,pt=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?B(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return $e.MIN}},{key:"maxPost",value:function(){return new $e(z,new ft("[PRIORITY-POST]",st))}},{key:"makePost",value:function(e,t){var n=ut(e);return new $e(t,new ft("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),t}(Ye)),vt=Math.log(2),yt=function(){function e(t){Object(l.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/vt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(f.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),mt=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,a=e.length,o=function(t,r){var i=a-t,o=a;a-=t;var s=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new et(o,a.node,et.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new et(o,a.node,et.BLACK,c,l)}(i+1,o),c=e[i],l=n?n(c):c;u(new et(l,c.node,r,null,s))},u=function(e){r?(r.left=e,r=e):(i=e,r=e)},s=0;s<t.count;++s){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(s+1));c?o(l,et.BLACK):(o(l,et.BLACK),o(l,et.RED))}return i}(new yt(e.length));return new rt(r||t,i)},gt={},bt=function(){function e(t,n){Object(l.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(f.a)(e,[{key:"get",value:function(e){var t=Object(p.N)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof rt?t:null}},{key:"hasIndex",value:function(e){return Object(p.m)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(p.f)(t!==Je,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator($e.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?mt(i,t.getCompare()):gt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(p.K)(this.indexes_,function(e,i){var a=Object(p.N)(r.indexSet_,i);if(Object(p.f)(a,"Missing index implementation for "+i),e===gt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator($e.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),mt(o,a.getCompare())}return gt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new $e(t.name,c))),l.insert(t,t.node)}),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(p.K)(this.indexes_,function(e){if(e===gt)return e;var r=n.get(t.name);return r?e.remove(new $e(t.name,r)):e}),this.indexSet_)}}],[{key:"Default",get:function(){return Object(p.f)(gt&&pt,"ChildrenNode.ts has not been loaded"),ht=ht||new e({".priority":gt},{".priority":pt})}}]),e}(),kt=function(){function e(t,n,r){Object(l.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lt(this.priorityNode_),this.children_.isEmpty()&&Object(p.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(f.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||dt}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?dt:t}},{key:"getChild",value:function(e){var t=Te(e);return null===t?this:this.getImmediateChild(t).getChild(Ne(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(p.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new $e(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?dt:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Te(e);if(null===n)return t;Object(p.f)(".priority"!==Te(e)||1===Ce(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ne(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(pt,function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ct(this.getPriority().val())+":"),this.forEachChild(pt,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":T(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new $e(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new $e(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new $e(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,$e.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,$e.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wt?-1:0}},{key:"withIndex",value:function(t){if(t===Je||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Je||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(pt),r=t.getIterator(pt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Je?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return dt||(dt=new e(new rt(at),null,bt.Default))}}]),e}();kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var wt=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,new rt(at),kt.EMPTY_NODE,bt.Default))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return kt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),t}(kt));Object.defineProperties($e,{MIN:{value:new $e(V,kt.EMPTY_NODE)},MAX:{value:new $e(z,wt)}}),Xe.__EMPTY_NODE=kt.EMPTY_NODE,ft.__childrenNodeConstructor=kt,tt=wt,function(e){st=e}(wt);var _t=!0;function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return kt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(p.f)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new ft(e,Ot(t));if(e instanceof Array||!_t){var n=kt.EMPTY_NODE;return H(e,function(t,r){if(Object(p.m)(e,t)&&"."!==t.substring(0,1)){var i=Ot(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(Ot(t))}var r=[],i=!1;if(H(e,function(e,t){if("."!==e.substring(0,1)){var n=Ot(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new $e(e,n)))}}),0===r.length)return kt.EMPTY_NODE;var a=mt(r,it,function(e){return e.name},at);if(i){var o=mt(r,pt.getCompare());return new kt(a,Ot(t),new bt({".priority":o},{".priority":pt}))}return new kt(a,Ot(t),bt.Default)}!function(e){ut=e}(Ot);var xt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this))).indexPath_=e,Object(p.f)(!Le(e)&&".priority"!==Te(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.a)(t,e),Object(f.a)(t,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?B(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ot(e),r=kt.EMPTY_NODE.updateChild(this.indexPath_,n);return new $e(t,r)}},{key:"maxPost",value:function(){var e=kt.EMPTY_NODE.updateChild(this.indexPath_,wt);return new $e(z,e)}},{key:"toString",value:function(){return Re(this.indexPath_,0).join("/")}}]),t}(Ye),jt=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?B(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return $e.MIN}},{key:"maxPost",value:function(){return $e.MAX}},{key:"makePost",value:function(e,t){var n=Ot(e);return new $e(t,n)}},{key:"toString",value:function(){return".value"}}]),t}(Ye)),Et="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",St=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Et.charAt(n%64),n=Math.floor(n/64);Object(p.f)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Et.charAt(t[r]);return Object(p.f)(20===o.length,"nextPushId: Length should be 20."),o}}();function It(e){return{type:"value",snapshotNode:e}}function Tt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ct(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var At=function(){function e(){Object(l.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}return Object(f.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(p.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(p.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:V}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(p.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(p.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:z}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(p.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===pt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Rt(e){var t,n={};return e.isDefault()?n:(e.index_===pt?t="$priority":e.index_===jt?t="$value":e.index_===Je?t="$key":(Object(p.f)(e.index_ instanceof xt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(p.Q)(t),e.startSet_&&(n.startAt=Object(p.Q)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(p.Q)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(p.Q)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(p.Q)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==pt&&(t.i=e.index_.toString()),t}var Dt=function(e){function t(e,n,r,i){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=i,a.log_=D("p:rest:"),a.listens_={},a}return Object(s.a)(t,e),Object(f.a)(t,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,n,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=t.getListenId_(e,r),s={};this.listens_[u]=s;var c=Rt(e._queryParams);this.restRequest_(o+".json",c,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(p.N)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}},{key:"unlisten",value:function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Rt(e._queryParams),r=e._path.toString(),i=new p.a;return this.restRequest_(r+".json",n,function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var o=Object(r.a)(a,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(p.L)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(i&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(p.J)(l.responseText)}catch(n){F("Failed to parse JSON response for "+c+": "+l.responseText)}i(null,e)}else 401!==l.status&&404!==l.status&&F("Got unsuccessful REST response for "+c+" Status: "+l.status),i(l.status);i=null}},l.open("GET",c,!0),l.send()})}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(p.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),t}(_e),Lt=function(){function e(){Object(l.a)(this,e),this.rootNode_=kt.EMPTY_NODE}return Object(f.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Mt(){return{value:null,children:new Map}}function Ft(e,t,n){if(Le(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Te(t);e.children.has(r)||e.children.set(r,Mt()),Ft(e.children.get(r),t=Ne(t),n)}}function Ut(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){Ut(r,new Se(t.toString()+"/"+e),n)})}var Vt,zt=function(){function e(t){Object(l.a)(this,e),this.collection_=t,this.last_=null}return Object(f.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&H(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t}}]),e}(),Bt=1e4,qt=3e4,Gt=function(){function e(t,n){Object(l.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new zt(t);var r=Bt+(qt-Bt)*Math.random();Z(this.reportStats_.bind(this),Math.floor(r))}return Object(f.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;H(t,function(t,i){i>0&&Object(p.m)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Kt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vt||(Vt={}));var Wt,Ht=function(){function e(t,n,r){Object(l.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(f.a)(e,[{key:"operationForChild",value:function(t){if(Le(this.path)){if(null!=this.affectedTree.value)return Object(p.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Se(t));return new e(Ie(),n,this.revert)}return Object(p.f)(Te(this.path)===t,"operationForChild called for unrelated child."),new e(Ne(this.path),this.affectedTree,this.revert)}}]),e}(),Qt=function(){function e(t,n,r){Object(l.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}return Object(f.a)(e,[{key:"operationForChild",value:function(t){return Le(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(t)):new e(this.source,Ne(this.path),this.snap)}}]),e}(),$t=function(){function e(t,n,r){Object(l.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Vt.MERGE}return Object(f.a)(e,[{key:"operationForChild",value:function(t){if(Le(this.path)){var n=this.children.subtree(new Se(t));return n.isEmpty()?null:n.value?new Qt(this.source,Ie(),n.value):new e(this.source,Ie(),n)}return Object(p.f)(Te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ne(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Yt=function(){function e(t,n,r){Object(l.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(f.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;var t=Te(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Xt(e,t,n,r,i,a){var o=r.filter(function(e){return e.type===n});o.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(p.g)("Should only compare child_ events.");var r=new $e(t.childName,t.snapshotNode),i=new $e(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),o.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Jt(e,t){return{eventCache:e,serverCache:t}}function Zt(e,t,n,r){return Jt(new Yt(t,n,r),e.serverCache)}function en(e,t,n,r){return Jt(e.eventCache,new Yt(t,n,r))}function tn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function nn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var rn=function(){return Wt||(Wt=new rt(q)),Wt},an=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn();Object(l.a)(this,e),this.value=t,this.children=n}return Object(f.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ie(),value:this.value};if(Le(e))return null;var n=Te(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ne(e),t);return null!=i?{path:De(new Se(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})}},{key:"subtree",value:function(t){if(Le(t))return this;var n=Te(t),r=this.children.get(n);return null!==r?r.subtree(Ne(t)):new e(null)}},{key:"set",value:function(t,n){if(Le(t))return new e(n,this.children);var r=Te(t),i=(this.children.get(r)||new e(null)).set(Ne(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Le(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Te(t),r=this.children.get(n);if(r){var i,a=r.remove(Ne(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Le(e))return this.value;var t=Te(e),n=this.children.get(t);return n?n.get(Ne(e)):null}},{key:"setTree",value:function(t,n){if(Le(t))return n;var r,i=Te(t),a=(this.children.get(i)||new e(null)).setTree(Ne(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ie(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(De(e,r),t)}),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ie(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Le(e))return null;var i=Te(e),a=this.children.get(i);return a?a.findOnPath_(Ne(e),De(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ie(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Le(t))return this;this.value&&r(n,this.value);var i=Te(t),a=this.children.get(i);return a?a.foreachOnPath_(Ne(t),De(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ie(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(De(e,n),t)}),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})}}],[{key:"fromObject",value:function(t){var n=new e(null);return H(t,function(e,t){n=n.set(new Se(e),t)}),n}}]),e}(),on=function(){function e(t){Object(l.a)(this,e),this.writeTree_=t}return Object(f.a)(e,null,[{key:"empty",value:function(){return new e(new an(null))}}]),e}();function un(e,t,n){if(Le(t))return new on(new an(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Me(i,t);return a=a.updateChild(o,n),new on(e.writeTree_.set(i,a))}var u=new an(n),s=e.writeTree_.setTree(t,u);return new on(s)}function sn(e,t,n){var r=e;return H(n,function(e,n){r=un(r,De(t,e),n)}),r}function cn(e,t){if(Le(t))return on.empty();var n=e.writeTree_.setTree(t,new an(null));return new on(n)}function ln(e,t){return null!=fn(e,t)}function fn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Me(n.path,t)):null}function hn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pt,function(e,n){t.push(new $e(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new $e(e,n.value))}),t}function dn(e,t){if(Le(t))return e;var n=fn(e,t);return new on(null!=n?new an(n):e.writeTree_.subtree(t))}function pn(e){return e.writeTree_.isEmpty()}function vn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(p.f)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(De(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(De(t,".priority"),i)),r}(Ie(),e.writeTree_,t)}function yn(e,t){return Tn(t,e)}function mn(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(p.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&gn(u,r.path)?i=!1:Ve(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=kn(e.allWrites,bn,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=cn(e.visibleWrites,r.path):H(r.children,function(t){e.visibleWrites=cn(e.visibleWrites,De(r.path,t))});return!0}return!1}function gn(e,t){if(e.snap)return Ve(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ve(De(e.path,n),t))return!0;return!1}function bn(e){return e.visible}function kn(e,t,n){for(var r=on.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Ve(n,o)?r=un(r,u=Me(n,o),a.snap):Ve(o,n)&&(u=Me(o,n),r=un(r,Ie(),a.snap.getChild(u)));else{if(!a.children)throw Object(p.g)("WriteRecord should have .snap or .children");if(Ve(n,o))r=sn(r,u=Me(n,o),a.children);else if(Ve(o,n))if(Le(u=Me(o,n)))r=sn(r,Ie(),a.children);else{var s=Object(p.N)(a.children,Te(u));if(s){var c=s.getChild(Ne(u));r=un(r,Ie(),c)}}}}}return r}function wn(e,t,n,r,i){if(r||i){var a=dn(e.visibleWrites,t);if(!i&&pn(a))return n;if(i||null!=n||ln(a,Ie())){return vn(kn(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ve(e.path,t)||Ve(t,e.path))},t),n||kt.EMPTY_NODE)}return null}var o=fn(e.visibleWrites,t);if(null!=o)return o;var u=dn(e.visibleWrites,t);return pn(u)?n:null!=n||ln(u,Ie())?vn(u,n||kt.EMPTY_NODE):null}function _n(e,t,n,r){return wn(e.writeTree,e.treePath,t,n,r)}function On(e,t){return function(e,t,n){var r=kt.EMPTY_NODE,i=fn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pt,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var a=dn(e.visibleWrites,t);return n.forEachChild(pt,function(e,t){var n=vn(dn(a,new Se(e)),t);r=r.updateImmediateChild(e,n)}),hn(a).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return hn(dn(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function xn(e,t,n,r){return function(e,t,n,r,i){Object(p.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=De(t,n);if(ln(e.visibleWrites,a))return null;var o=dn(e.visibleWrites,a);return pn(o)?i.getChild(n):vn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function jn(e,t){return function(e,t){return fn(e.visibleWrites,t)}(e.writeTree,De(e.treePath,t))}function En(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=dn(e.visibleWrites,t),c=fn(s,Ie());if(null!=c)u=c;else{if(null==n)return[];u=vn(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Sn(e,t,n){return function(e,t,n,r){var i=De(t,n),a=fn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?vn(dn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function In(e,t){return Tn(De(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var Cn=function(){function e(){Object(l.a)(this,e),this.changeMap=new Map}return Object(f.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(p.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(p.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Nt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ct(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Tt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(p.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Nt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Nn=new(function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),An=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(l.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(f.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=En(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Rn(e,t,n,r,i){var a,o,u=new Cn;if(n.type===Vt.OVERWRITE){var s=n;s.source.fromUser?a=Ln(e,t,s.path,s.snap,r,i,u):(Object(p.f)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Le(s.path),a=Dn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Vt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach(function(r,s){var c=De(n,r);Mn(t,Te(c))&&(u=Ln(e,u,c,s,i,a,o))}),r.foreach(function(r,s){var c=De(n,r);Mn(t,Te(c))||(u=Ln(e,u,c,s,i,a,o))}),u}(e,t,c.path,c.children,r,i,u):(Object(p.f)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Un(e,t,c.path,c.children,r,i,o,u))}else if(n.type===Vt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=jn(r,n))return t;var u,s=new An(r,t,i),c=t.eventCache.getNode();if(Le(n)||".priority"===Te(n)){var l;if(t.serverCache.isFullyInitialized())l=_n(r,nn(t));else{var f=t.serverCache.getNode();Object(p.f)(f instanceof kt,"serverChildren would be complete if leaf node"),l=On(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=Te(n),d=Sn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Ne(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,kt.EMPTY_NODE,Ne(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=_n(r,nn(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=jn(r,Ie()),Zt(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=jn(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Le(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Dn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Le(n)){var c=new an(null);return s.getNode().forEachChild(Je,function(e,t){c=c.set(new Se(e),t)}),Un(e,t,n,c,i,a,u,o)}return t}var l=new an(null);return r.foreach(function(e,t){var r=De(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))}),Un(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==Vt.LISTEN_COMPLETE)throw Object(p.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=en(t,a.getNode(),a.isFullyInitialized()||Le(n),a.isFiltered());return Pn(e,o,n,r,Nn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=tn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(It(tn(t)))}}(t,a,f),{viewCache:a,changes:f}}function Pn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=jn(r,n))return t;if(Le(n))if(Object(p.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=nn(t),l=On(r,c instanceof kt?c:kt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=_n(r,nn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Te(n);if(".priority"===h){Object(p.f)(1===Ce(n),"Can't have a priority with additional path components");var d=s.getNode(),v=xn(r,n,d,u=t.serverCache.getNode());o=null!=v?e.filter.updatePriority(d,v):s.getNode()}else{var y,m=Ne(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=xn(r,n,s.getNode(),u);y=null!=g?s.getNode().getImmediateChild(h).updateChild(m,g):s.getNode().getImmediateChild(h)}else y=Sn(r,h,t.serverCache);o=null!=y?e.filter.updateChild(s.getNode(),h,y,m,i,a):s.getNode()}}return Zt(t,o,s.isFullyInitialized()||Le(n),e.filter.filtersNodes())}function Dn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Le(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Te(n);if(!c.isCompleteForPath(n)&&Ce(n)>1)return t;var d=Ne(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Nn,null)}var v=en(t,s,c.isFullyInitialized()||Le(n),l.filtersNodes());return Pn(e,v,n,i,new An(i,v,a),u)}function Ln(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new An(i,t,a);if(Le(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Zt(t,s,!0,e.filter.filtersNodes());else{var f=Te(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=Zt(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ne(n),p=c.getNode().getImmediateChild(f);if(Le(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ae(d)&&v.getChild(Pe(d)).isEmpty()?v:v.updateChild(d,r):kt.EMPTY_NODE}if(p.equals(h))u=t;else u=Zt(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Mn(e,t){return e.eventCache.isCompleteForChild(t)}function Fn(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Un(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Le(n)?r:new an(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var s=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new Se(n),s,i,a,o,u)}}),s.children.inorderTraversal(function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=Fn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new Se(n),f,i,a,o,u)}}),c}var Vn;function zn(e,t){var n=nn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Le(t)&&!n.getImmediateChild(Te(t)).isEmpty())?n.getChild(t):null}function Bn(e,t,n,r){t.type===Vt.MERGE&&null!==t.source.queryId&&(Object(p.f)(nn(e.viewCache_),"We should always have a full cache before handling merges"),Object(p.f)(tn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Rn(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(p.f)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(p.f)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(p.f)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,qn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function qn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach(function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Xt(e,i,"child_removed",t,r,n),Xt(e,i,"child_added",t,r,n),Xt(e,i,"child_moved",a,r,n),Xt(e,i,"child_changed",t,r,n),Xt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Gn;function Kn(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(p.f)(null!=a,"SyncTree gave us an op for an invalid query."),Bn(a,t,n,r)}var o,u=[],s=m(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(Bn(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function Wn(e,t){var n,r=null,i=m(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||zn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Hn=function e(t){Object(l.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new an(null),this.pendingWriteTree_={visibleWrites:on.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Qn(e,t,n,r,i){return function(e,t,n,r,i){Object(p.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=un(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?er(e,new Qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $n(e,t,n,r){!function(e,t,n,r){Object(p.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=sn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=an.fromObject(n);return er(e,new $t({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(mn(e.pendingWriteTree_,t)){var i=new an(null);return null!=r.snap?i=i.set(Ie(),!0):H(r.children,function(e){i=i.set(new Se(e),!0)}),er(e,new Ht(r.path,i,n))}return[]}function Xn(e,t,n){return er(e,new Qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Jn(e,t,n,r){var i=tr(e,r);if(null!=i){var a=nr(i),o=a.path,u=a.queryId,s=Me(o,t);return rr(e,o,new Qt(Kt(u),s,n))}return[]}function Zn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=Wn(n,Me(e,t));if(r)return r});return wn(r,t,i,n,!0)}function er(e,t){return function e(t,n,r,i){if(Le(t.path))return function e(t,n,r,i){var a=n.get(Ie());null==r&&null!=a&&(r=Wn(a,Ie()));var o=[];n.children.inorderTraversal(function(n,a){var u=r?r.getImmediateChild(n):null,s=In(i,n),c=t.operationForChild(n);c&&(o=o.concat(e(c,a,u,s)))});a&&(o=o.concat(Kn(a,t,i,r)));return o}(t,n,r,i);var a=n.get(Ie());null==r&&null!=a&&(r=Wn(a,Ie()));var o=[],u=Te(t.path),s=t.operationForChild(u),c=n.children.get(u);if(c&&s){var l=r?r.getImmediateChild(u):null,f=In(i,u);o=o.concat(e(s,c,l,f))}return a&&(o=o.concat(Kn(a,t,i,r))),o}(t,e.syncPointTree_,null,yn(e.pendingWriteTree_,Ie()))}function tr(e,t){return e.tagToQueryMap.get(t)}function nr(e){var t=e.indexOf("$");return Object(p.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Se(e.substr(0,t))}}function rr(e,t,n){var r=e.syncPointTree_.get(t);return Object(p.f)(r,"Missing sync point for query tag that we're tracking"),Kn(r,n,yn(e.pendingWriteTree_,t),null)}var ir=function(){function e(t){Object(l.a)(this,e),this.node_=t}return Object(f.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ar=function(){function e(t,n){Object(l.a)(this,e),this.syncTree_=t,this.path_=n}return Object(f.a)(e,[{key:"getImmediateChild",value:function(t){var n=De(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Zn(this.syncTree_,this.path_)}}]),e}(),or=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ur=function(e,t,n){return e&&"object"===typeof e?(Object(p.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?sr(e[".sv"],t,n):"object"===typeof e[".sv"]?cr(e[".sv"],t):void Object(p.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(p.f)(!1,"Unexpected server value: "+e)}},cr=function(e,t,n){e.hasOwnProperty("increment")||Object(p.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(p.f)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(p.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},lr=function(e,t,n,r){return hr(t,new ar(n,e),r)},fr=function(e,t,n){return hr(e,new ir(t),n)};function hr(e,t,n){var r,i=e.getPriority().val(),a=ur(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=ur(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ft(u,Ot(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ft(a))),s.forEachChild(pt,function(e,i){var a=hr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r}var dr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(l.a)(this,e),this.name=t,this.parent=n,this.node=r};function pr(e,t){for(var n=t instanceof Se?t:new Se(t),r=e,i=Te(n);null!==i;){var a=Object(p.N)(r.node.children,i)||{children:{},childCount:0};r=new dr(i,r,a),i=Te(n=Ne(n))}return r}function vr(e){return e.node.value}function yr(e,t){e.node.value=t,kr(e)}function mr(e){return e.node.childCount>0}function gr(e,t){H(e.node.children,function(n,r){t(new dr(n,e,r))})}function br(e){return new Se(null===e.parent?e.name:br(e.parent)+"/"+e.name)}function kr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===vr(e)&&!mr(e)}(n),i=Object(p.m)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,kr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,kr(e))}(e.parent,e.name,e)}var wr=/[\[\].#$\/\u0000-\u001F\u007F]/,_r=/[\[\].#$\u0000-\u001F\u007F]/,Or=function(e){return"string"===typeof e&&0!==e.length&&!wr.test(e)},xr=function(e){return"string"===typeof e&&0!==e.length&&!_r.test(e)},jr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!U(e)||e&&"object"===typeof e&&Object(p.m)(e,".sv")},Er=function(e,t,n,r){r&&void 0===t||Sr(Object(p.s)(e,"value"),t,n)},Sr=function e(t,n,r){var i=r instanceof Se?new ze(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+qe(i));if("function"===typeof n)throw new Error(t+"contains a function "+qe(i)+" with contents = "+n.toString());if(U(n))throw new Error(t+"contains "+n.toString()+" "+qe(i));if("string"===typeof n&&n.length>10485760/3&&Object(p.O)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+qe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(H(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Or(n)))throw new Error(t+" contains an invalid key ("+n+") "+qe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(p.O)(s),Be(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(p.O)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&o)throw new Error(t+' contains ".value" child '+qe(i)+" in addition to actual children.")}},Ir=function(e,t,n,r){if(!r||void 0!==t){var i=Object(p.s)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];H(t,function(e,t){var r=new Se(e);if(Sr(i,t,De(n,r)),".priority"===Ae(r)&&!jr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Re(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Or(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Fe);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ve(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Tr=function(e,t,n,r){if((!r||void 0!==n)&&!xr(n))throw new Error(Object(p.s)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tr(e,t,n,r)},Nr=function(e,t){if(".info"===Te(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ar=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Or(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xr(e)}(n))throw new Error(Object(p.s)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rr=function e(){Object(l.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function Pr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Ue(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Dr(e,t,n){Pr(e,n),Lr(e,function(e){return Ve(e,t)||Ve(t,e)})}function Lr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Mr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Mr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();N&&P("event: "+n.toString()),X(r)}}}var Fr="repo_interrupt",Ur=25,Vr=function(){function e(t,n,r,i){Object(l.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mt(),this.transactionQueueTree_=new dr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(f.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function zr(e,t,n){if(e.stats_=he(e.repoInfo_),e.forceRestClient_||J())e.server_=new Dt(e.repoInfo_,function(t,n,r,i){Gr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return Kr(e,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(p.Q)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new He(e.repoInfo_,t,function(t,n,r,i){Gr(e,t,n,r,i)},function(t){Kr(e,t)},function(t){!function(e,t){H(t,function(t,n){Wr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){var n=e.toString();return fe[n]||(fe[n]=t()),fe[n]}(e.repoInfo_,function(){return new Gt(e.stats_,e.server_)}),e.infoData_=new Lt,e.infoSyncTree_=new Hn({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Xn(e.infoSyncTree_,t._path,o),setTimeout(function(){i("ok")},0)),a},stopListening:function(){}}),Wr(e,"connected",!1),e.serverSyncTree_=new Hn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var a=i(n,r);Dr(e.eventQueue_,t._path,a)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Br(e){var t=e.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qr(e){return or({timestamp:Br(e)})}function Gr(e,t,n,r,i){e.dataUpdateCount++;var a=new Se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(p.K)(n,function(e){return Ot(e)});o=function(e,t,n,r){var i=tr(e,r);if(i){var a=nr(i),o=a.path,u=a.queryId,s=Me(o,t),c=an.fromObject(n);return rr(e,o,new $t(Kt(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Ot(n);o=Jn(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(p.K)(n,function(e){return Ot(e)});o=function(e,t,n){var r=an.fromObject(n);return er(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Ot(n);o=Xn(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=ei(e,a)),Dr(e.eventQueue_,f,o)}function Kr(e,t){Wr(e,"connected",t),!1===t&&function(e){Yr(e,"onDisconnectEvents");var t=qr(e),n=Mt();Ut(e.onDisconnect_,Ie(),function(r,i){var a=lr(r,i,e.serverSyncTree_,t);Ft(n,r,a)});var r=[];Ut(n,Ie(),function(t,n){r=r.concat(Xn(e.serverSyncTree_,t,n));var i=ii(e,t);ei(e,i)}),e.onDisconnect_=Mt(),Dr(e.eventQueue_,Ie(),r)}(e)}function Wr(e,t,n){var r=new Se("/.info/"+t),i=Ot(n);e.infoData_.updateSnapshot(r,i);var a=Xn(e.infoSyncTree_,r,i);Dr(e.eventQueue_,r,a)}function Hr(e){return e.nextWriteId_++}function Qr(e,t,n,r,i){Yr(e,"set",{path:t.toString(),value:n,priority:r});var a=qr(e),o=Ot(n,r),u=Zn(e.serverSyncTree_,t),s=fr(o,u,a),c=Hr(e),l=Qn(e.serverSyncTree_,t,s,c,!0);Pr(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),function(n,r){var a="ok"===n;a||F("set at "+t+" failed: "+n);var o=Yn(e.serverSyncTree_,c,!a);Dr(e.eventQueue_,t,o),Xr(e,i,n,r)});var f=ii(e,t);ei(e,f),Dr(e.eventQueue_,f,[])}function $r(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Fr)}function Yr(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];P.apply(void 0,[t].concat(r))}function Xr(e,t,n,r){t&&X(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}})}function Jr(e,t,n){return Zn(e.serverSyncTree_,t,n)||kt.EMPTY_NODE}function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||ri(e,t),vr(t)){var n=ni(e,t);Object(p.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=Jr(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(p.f)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Me(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,function(r){Yr(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Yn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},u=0;u<n.length;u++)o(u);ri(e,pr(e.transactionQueueTree_,t)),Zr(e,e.transactionQueueTree_),Dr(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)X(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{F("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}ei(e,t)}},o)}(e,br(t),n)}else mr(t)&&gr(t,function(t){Zr(e,t)})}function ei(e,t){var n=ti(e,t),r=br(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),o=function(o){var u,s=t[o],c=Me(n,s.path),l=!1,f=void 0;if(Object(p.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(Yn(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Ur)l=!0,f="maxretry",i=i.concat(Yn(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Jr(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){Sr("transaction failed: Data returned ",d,s.path);var v=Ot(d),y="object"===typeof d&&null!=d&&Object(p.m)(d,".priority");y||(v=v.updatePriority(h.getPriority()));var m=s.currentWriteId,g=qr(e),b=fr(v,h,g);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=b,s.currentWriteId=Hr(e),a.splice(a.indexOf(m),1),i=(i=i.concat(Qn(e.serverSyncTree_,s.path,b,s.currentWriteId,s.applyLocally))).concat(Yn(e.serverSyncTree_,m,!0))}else l=!0,f="nodata",i=i.concat(Yn(e.serverSyncTree_,s.currentWriteId,!0))}Dr(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push(function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)}):r.push(function(){return t[o].onComplete(new Error(f),!1,null)})))},u=0;u<t.length;u++)o(u);ri(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)X(r[s]);Zr(e,e.transactionQueueTree_)}(e,ni(e,n),r),r}function ti(e,t){var n,r=e.transactionQueueTree_;for(n=Te(t);null!==n&&void 0===vr(r);)r=pr(r,n),n=Te(t=Ne(t));return r}function ni(e,t){var n=[];return function e(t,n,r){var i=vr(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);gr(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function ri(e,t){var n=vr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yr(t,n.length>0?n:void 0)}gr(t,function(t){ri(e,t)})}function ii(e,t){var n=br(ti(e,t)),r=pr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){ai(e,t)}),ai(e,r),function e(t,n,r,i){r&&!i&&n(t),gr(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){ai(e,t)}),n}function ai(e,t){var n=vr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(p.f)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(p.f)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Yn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?yr(t,void 0):n.length=a+1,Dr(e.eventQueue_,br(t),i);for(var u=0;u<r.length;u++)X(r[u])}}var oi=function(e,t){var n=ui(e),r=n.namespace;"firebase.com"===n.domain&&M(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||M("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ue(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Se(n.pathString)}},ui=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=m(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):F("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},si=function(){function e(t,n,r,i){Object(l.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(f.a)(e,[{key:"isEqual",value:function(t){if(!((t=Object(p.u)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ue(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}},{key:"key",get:function(){return Le(this._path)?null:Ae(this._path)}},{key:"ref",get:function(){return new ci(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Pt(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Pt(this._queryParams)}}]),e}();var ci=function(e){function t(e,n){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e,n,new At,!1))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"parent",get:function(){var e=Pe(this._path);return null===e?null:new t(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),t}(si);function li(e,t){return(e=Object(p.u)(e))._checkNotDeleted("ref"),void 0!==t?fi(e._root,t):e._root}function fi(e,t){return null===Te((e=Object(p.u)(e))._path)?Cr("child","path",t,!1):Tr("child","path",t,!1),new ci(e._repo,De(e._path,t))}function hi(e,t){e=Object(p.u)(e),Nr("push",e._path),Er("push",t,e._path,!0);var n,r=Br(e._repo),i=St(r),a=fi(e,i),o=fi(e,i);return n=null!=t?di(o,t).then(function(){return o}):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function di(e,t){e=Object(p.u)(e),Nr("set",e._path),Er("set",t,e._path,!1);var n=new p.a;return Qr(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function pi(e,t){Ir("update",t,e._path,!1);var n=new p.a;return function(e,t,n,r){Yr(e,"update",{path:t.toString(),value:n});var i=!0,a=qr(e),o={};if(H(n,function(n,r){i=!1,o[n]=lr(De(t,n),Ot(r),e.serverSyncTree_,a)}),i)P("update() called with empty data.  Don't do anything."),Xr(0,r,"ok",void 0);else{var u=Hr(e),s=$n(e.serverSyncTree_,t,o,u);Pr(e.eventQueue_,s),e.server_.merge(t.toString(),n,function(n,i){var a="ok"===n;a||F("update at "+t+" failed: "+n);var o=Yn(e.serverSyncTree_,u,!a),s=o.length>0?ei(e,t):t;Dr(e.eventQueue_,s,o),Xr(0,r,n,i)}),H(n,function(n){var r=ii(e,De(t,n));ei(e,r)}),Dr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}!function(e){Object(p.f)(!Vn,"__referenceConstructor has already been defined"),Vn=e}(ci),function(e){Object(p.f)(!Gn,"__referenceConstructor has already been defined"),Gn=e}(ci);var vi="FIREBASE_DATABASE_EMULATOR_HOST",yi={},mi=!1;function gi(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||M("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=oi(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/ideathon-registration",REACT_APP_API_KEY:"AIzaSyAFHTfN6KuOwzDsLdWtmZeFAVpVcI-Npfw",REACT_APP_APP_ID:"1:1094596378197:web:81887879503a76e09c5edc",REACT_APP_AUTHDOMAIN:"ideathon-registration-form.firebaseapp.com",REACT_APP_BASEURL:"https://ideathon-registration-form-default-rtdb.firebaseio.com",REACT_APP_MEASUREMENT_ID:"G-JSB5Q51DBG",REACT_APP_MESSAGING_SENDER_ID:"1094596378197",REACT_APP_PROJECT_ID:"ideathon-registration-form",REACT_APP_STORAGEBUCKET:"ideathon-registration-form.appspot.com"})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/ideathon-registration",REACT_APP_API_KEY:"AIzaSyAFHTfN6KuOwzDsLdWtmZeFAVpVcI-Npfw",REACT_APP_APP_ID:"1:1094596378197:web:81887879503a76e09c5edc",REACT_APP_AUTHDOMAIN:"ideathon-registration-form.firebaseapp.com",REACT_APP_BASEURL:"https://ideathon-registration-form-default-rtdb.firebaseio.com",REACT_APP_MEASUREMENT_ID:"G-JSB5Q51DBG",REACT_APP_MESSAGING_SENDER_ID:"1094596378197",REACT_APP_PROJECT_ID:"ideathon-registration-form",REACT_APP_STORAGEBUCKET:"ideathon-registration-form.appspot.com"})[vi]),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=oi(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new ne(ne.OWNER):new te(t.name,t.options,n);Ar("Invalid Firebase Database URL",s),Le(s.path)||M("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=yi[t.name];i||(i={},yi[t.name]=i);var a=i[e.toURLString()];a&&M("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Vr(e,mi,n,r),i[e.toURLString()]=a,a}(c,t,f,new ee(t.name,r));return new bi(h,t)}var bi=function(){function e(t,n){Object(l.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(f.a)(e,[{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=yi[t];n&&n[e.key]===e||M("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$r(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&M("Cannot call "+e+" on a deleted database.")}},{key:"_repo",get:function(){return this._instanceStarted||(zr(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ci(this._repo,Ie())),this._rootInternal}}]),e}();function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(h.getApp)(),t=arguments.length>1?arguments[1]:void 0;return Object(h._getProvider)(e,"database").getImmediate({identifier:t})}He.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},He.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var wi;!function(e){w=e}(h.SDK_VERSION),Object(h._registerComponent)(new d.a("database",function(e,t){var n=t.instanceIdentifier;return gi(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Object(h.registerVersion)(b,k,wi),Object(h.registerVersion)(b,k,"esm2017")}).call(this,n(55))},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(56);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(13);n.d(t,"a",function(){return r.initializeApp});Object(r.registerVersion)("firebase","9.9.3","app")},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(5),i=n.n(r),a=n(56),o=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,c={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},l=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],f=function(e,t,n,r,i){var a=i.offsetX,o=i.offsetY,u=r?8:0,s=n.split(" "),c=e.top+e.height/2,l=e.left+e.width/2,f=t.height,h=t.width,d=c-f/2,p=l-h/2,v="",y="0%",m="0%";switch(s[0]){case"top":d-=f/2+e.height/2+u,v="rotate(180deg)  translateX(50%)",y="100%",m="50%";break;case"bottom":d+=f/2+e.height/2+u,v="rotate(0deg) translateY(-100%) translateX(-50%)",m="50%";break;case"left":p-=h/2+e.width/2+u,v=" rotate(90deg)  translateY(50%) translateX(-25%)",m="100%",y="50%";break;case"right":p+=h/2+e.width/2+u,v="rotate(-90deg)  translateY(-150%) translateX(25%)",y="50%"}switch(s[1]){case"top":d=e.top,y=e.height/2+"px";break;case"bottom":d=e.top-f+e.height,y=f-e.height/2+"px";break;case"left":p=e.left,m=e.width/2+"px";break;case"right":p=e.left-h+e.width,m=h-e.width/2+"px"}return{top:d="top"===s[0]?d-o:d+o,left:p="left"===s[0]?p-a:p+a,transform:v,arrowLeft:m,arrowTop:y}},h=function(e,t,n,r,i,a){var o=i.offsetX,u=i.offsetY,s={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},c=0,h=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var n=document.querySelector(e);null!==n&&(t=n.getBoundingClientRect())}return t}(a),d=Array.isArray(n)?n:[n];for((a||Array.isArray(n))&&(d=[].concat(d,l));c<d.length;){var p={top:(s=f(e,t,d[c],r,{offsetX:o,offsetY:u})).top,left:s.left,width:t.width,height:t.height};if(!(p.top<=h.top||p.left<=h.left||p.top+p.height>=h.top+h.height||p.left+p.width>=h.left+h.width))break;c++}return s},d=0,p=Object(r.forwardRef)(function(e,t){var n=e.trigger,a=void 0===n?null:n,l=e.onOpen,f=void 0===l?function(){}:l,p=e.onClose,v=void 0===p?function(){}:p,y=e.defaultOpen,m=void 0!==y&&y,g=e.open,b=void 0===g?void 0:g,k=e.disabled,w=void 0!==k&&k,_=e.nested,O=void 0!==_&&_,x=e.closeOnDocumentClick,j=void 0===x||x,E=e.repositionOnResize,S=void 0===E||E,I=e.closeOnEscape,T=void 0===I||I,C=e.on,N=void 0===C?["click"]:C,A=e.contentStyle,R=void 0===A?{}:A,P=e.arrowStyle,D=void 0===P?{}:P,L=e.overlayStyle,M=void 0===L?{}:L,F=e.className,U=void 0===F?"":F,V=e.position,z=void 0===V?"bottom center":V,B=e.modal,q=void 0!==B&&B,G=e.lockScroll,K=void 0!==G&&G,W=e.arrow,H=void 0===W||W,Q=e.offsetX,$=void 0===Q?0:Q,Y=e.offsetY,X=void 0===Y?0:Y,J=e.mouseEnterDelay,Z=void 0===J?100:J,ee=e.mouseLeaveDelay,te=void 0===ee?100:ee,ne=e.keepTooltipInside,re=void 0!==ne&&ne,ie=e.children,ae=Object(r.useState)(b||m),oe=ae[0],ue=ae[1],se=Object(r.useRef)(null),ce=Object(r.useRef)(null),le=Object(r.useRef)(null),fe=Object(r.useRef)(null),he=Object(r.useRef)("popup-"+ ++d),de=!!q||!a,pe=Object(r.useRef)(0);s(function(){return oe?(fe.current=document.activeElement,Ee(),Oe(),we()):_e(),function(){clearTimeout(pe.current)}},[oe]),Object(r.useEffect)(function(){"boolean"===typeof b&&(b?ve():ye())},[b,w]);var ve=function(e){oe||w||(ue(!0),setTimeout(function(){return f(e)},0))},ye=function(e){var t;oe&&!w&&(ue(!1),de&&(null===(t=fe.current)||void 0===t||t.focus()),setTimeout(function(){return v(e)},0))},me=function(e){null===e||void 0===e||e.stopPropagation(),oe?ye(e):ve(e)},ge=function(e){clearTimeout(pe.current),pe.current=setTimeout(function(){return ve(e)},Z)},be=function(e){null===e||void 0===e||e.preventDefault(),me()},ke=function(e){clearTimeout(pe.current),pe.current=setTimeout(function(){return ye(e)},te)},we=function(){de&&K&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},_e=function(){de&&K&&(document.getElementsByTagName("body")[0].style.overflow="auto")},Oe=function(){var e,t=null===ce||void 0===ce?void 0:null===(e=ce.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null===n||void 0===n||n.focus()};Object(r.useImperativeHandle)(t,function(){return{open:function(){ve()},close:function(){ye()},toggle:function(){me()}}});var xe,je,Ee=function(){if(!de&&oe&&(null===se||void 0===se?void 0:se.current)&&(null===se||void 0===se?void 0:se.current)&&(null===ce||void 0===ce?void 0:ce.current)){var e,t,n=se.current.getBoundingClientRect(),r=ce.current.getBoundingClientRect(),i=h(n,r,z,H,{offsetX:$,offsetY:X},re);if(ce.current.style.top=i.top+window.scrollY+"px",ce.current.style.left=i.left+window.scrollX+"px",H&&le.current)le.current.style.transform=i.transform,le.current.style.setProperty("-ms-transform",i.transform),le.current.style.setProperty("-webkit-transform",i.transform),le.current.style.top=(null===(e=D.top)||void 0===e?void 0:e.toString())||i.arrowTop,le.current.style.left=(null===(t=D.left)||void 0===t?void 0:t.toString())||i.arrowLeft}};xe=ye,void 0===(je=T)&&(je=!0),Object(r.useEffect)(function(){if(je){var e=function(e){"Escape"===e.key&&xe(e)};return document.addEventListener("keyup",e),function(){je&&document.removeEventListener("keyup",e)}}},[xe,je]),function(e,t){void 0===t&&(t=!0),Object(r.useEffect)(function(){if(t){var n=function(t){if(9===t.keyCode){var n,r=null===e||void 0===e?void 0:null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(r);if(1===i.length)return void t.preventDefault();var a=i[0],o=i[i.length-1];t.shiftKey&&document.activeElement===a?(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),a.focus())}};return document.addEventListener("keydown",n),function(){t&&document.removeEventListener("keydown",n)}}},[e,t])}(ce,oe&&de),function(e,t){void 0===t&&(t=!0),Object(r.useEffect)(function(){if(t){var n=function(){e()};return window.addEventListener("resize",n),function(){t&&window.removeEventListener("resize",n)}}},[e,t])}(Ee,S),function(e,t,n){void 0===n&&(n=!0),Object(r.useEffect)(function(){if(n){var r=function(n){var r=Array.isArray(e)?e:[e],i=!1;r.forEach(function(e){e.current&&!e.current.contains(n.target)||(i=!0)}),n.stopPropagation(),i||t(n)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),function(){n&&(document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r))}}},[e,t,n])}(a?[ce,se]:[ce],ye,j&&!O);var Se=function(){return i.a.createElement("div",Object.assign({},function(){var e=de?c.popupContent.modal:c.popupContent.tooltip,t={className:"popup-content "+(""!==U?U.split(" ").map(function(e){return e+"-content"}).join(" "):""),style:u({},e,R,{pointerEvents:"auto"}),ref:ce,onClick:function(e){e.stopPropagation()}};return!q&&N.indexOf("hover")>=0&&(t.onMouseEnter=ge,t.onMouseLeave=ke),t}(),{key:"C",role:de?"dialog":"tooltip",id:he.current}),H&&!de&&i.a.createElement("div",{ref:le,style:c.popupArrow},i.a.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==U?U.split(" ").map(function(e){return e+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:u({position:"absolute"},D)},i.a.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),ie&&"function"===typeof ie?ie(ye,oe):ie)},Ie=!(N.indexOf("hover")>=0),Te=de?c.overlay.modal:c.overlay.tooltip,Ce=[Ie&&i.a.createElement("div",{key:"O","data-testid":"overlay","data-popup":de?"modal":"tooltip",className:"popup-overlay "+(""!==U?U.split(" ").map(function(e){return e+"-overlay"}).join(" "):""),style:u({},Te,M,{pointerEvents:j&&O||de?"auto":"none"}),onClick:j&&O?ye:void 0,tabIndex:-1},de&&Se()),!de&&Se()];return i.a.createElement(i.a.Fragment,null,function(){for(var e={key:"T",ref:se,"aria-describedby":he.current},t=Array.isArray(N)?N:[N],n=0,r=t.length;n<r;n++)switch(t[n]){case"click":e.onClick=me;break;case"right-click":e.onContextMenu=be;break;case"hover":e.onMouseEnter=ge,e.onMouseLeave=ke;break;case"focus":e.onFocus=ge,e.onBlur=ke}if("function"===typeof a){var o=a(oe);return!!a&&i.a.cloneElement(o,e)}return!!a&&i.a.cloneElement(a,e)}(),oe&&o.a.createPortal(Ce,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})},,function(e,t,n){"use strict";var r=n(4),i=n(10),a=n(15),o=n(53),u=n(62),s=n(117);function c(e,t){var n;return Object(i.a)({toolbar:(n={minHeight:56},Object(r.a)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Object(r.a)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(109),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.d)(e.main,i):"dark"===t&&(e.dark=Object(l.b)(e.main,a)))}function O(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,s=void 0===r?3:r,c=e.tonalOffset,O=void 0===c?.2:c,x=Object(a.a)(e,b),j=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),S=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(n),T=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function N(e){return Object(l.c)(e,w.text.primary)>=s?w.text.primary:k.text.primary}var A=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,l=void 0===c?700:c;if(!(t=Object(i.a)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Object(o.a)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Object(o.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _(t,"light",s,O),_(t,"dark",l,O),t.contrastText||(t.contrastText=N(t.main)),t},R={dark:w,light:k};return Object(u.a)(Object(i.a)({common:Object(i.a)({},f),mode:n,primary:A({color:j,name:"primary"}),secondary:A({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:S,name:"error"}),warning:A({color:C,name:"warning"}),info:A({color:I,name:"info"}),success:A({color:T,name:"success"}),grey:h,contrastThreshold:s,getContrastText:N,augmentColor:A,tonalOffset:O},R[n]),x)}var x=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var j={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function S(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,o=void 0===r?E:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,_=Object(a.a)(n,x);var O=c/14,S=w||function(e){return"".concat(e/b*O,"rem")},I=function(e,t,n,r,a){return Object(i.a)({fontFamily:o,fontWeight:e,fontSize:S(t),lineHeight:n},o===E?{letterSpacing:"".concat((u=r/t,Math.round(1e5*u)/1e5),"em")}:{},a,k);var u},T={h1:I(f,96,1.167,-1.5),h2:I(f,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(v,14,1.75,.4,j),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,j)};return Object(u.a)(Object(i.a)({htmlFontSize:b,pxToRem:S,fontFamily:o,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},T),_,{clone:!1})}var I=.2,T=.14,C=.12;function N(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(I,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(T,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(C,")")].join(",")}var A=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function L(e){return"".concat(Math.round(e),"ms")}function M(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=Object(i.a)({},P,e.easing),n=Object(i.a)({},D,e.duration);return Object(i.a)({getAutoHeightDuration:M,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;Object(a.a)(r,R);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof o?o:L(o)," ").concat(s," ").concat("string"===typeof l?l:L(l))}).join(",")}},e,{easing:t,duration:n})}var U={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,l=void 0===r?{}:r,f=e.transitions,h=void 0===f?{}:f,d=e.typography,p=void 0===d?{}:d,v=Object(a.a)(e,V);if(e.vars)throw new Error(Object(o.a)(18));var y=O(l),m=Object(s.a)(e),g=Object(u.a)(m,{mixins:c(m.breakpoints,n),palette:y,shadows:A.slice(),typography:S(y,p),transitions:F(h),zIndex:Object(i.a)({},U)});g=Object(u.a)(g,v);for(var b=arguments.length,k=new Array(b>1?b-1:0),w=1;w<b;w++)k[w-1]=arguments[w];return g=k.reduce(function(e,t){return Object(u.a)(e,t)},g)}t.a=z},function(e,t,n){"use strict";var r=n(26),i=n(22),a=n(8),o=n(6),u=n(7),s=n(11),c=n(3),l=n(0),f=n(2),h=n(14),d=n(4),p=n(1),v=n(13);function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var m,g=n(20),b=n(18);function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function O(){return Object(d.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var x=O,j=new p.b("auth","Firebase",O()),E=new g.b("@firebase/auth");function S(e){if(E.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.error.apply(E,["Auth (".concat(v.SDK_VERSION,"): ").concat(e)].concat(n))}}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw N.apply(void 0,[e].concat(n))}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N.apply(void 0,[e].concat(n))}function C(e,t,n){var r=Object.assign(Object.assign({},x()),Object(d.a)({},t,n));return new p.b("auth","Firebase",r).create(t,{appName:e.name})}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(h.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(h.a)(o)))}return j.create.apply(j,[e].concat(n))}function A(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw N.apply(void 0,[t].concat(r))}}function R(e){var t="INTERNAL ASSERTION FAILED: "+e;throw S(t),new Error(t)}function P(e,t){e||R(t)}var D=new Map;function L(e){P(e instanceof Function,"Expected a class definition");var t=D.get(e);return t?(P(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,D.set(e,t),t)}function M(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function F(){return"http:"===U()||"https:"===U()}function U(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var V=function(){function e(t,n){Object(l.a)(this,e),this.shortDelay=t,this.longDelay=n,P(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(p.D)()||Object(p.F)()}return Object(f.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(F()||Object(p.y)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function z(e,t){P(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var B=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void R("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void R("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void R("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),q=(m={},Object(d.a)(m,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(d.a)(m,"MISSING_CUSTOM_TOKEN","internal-error"),Object(d.a)(m,"INVALID_IDENTIFIER","invalid-email"),Object(d.a)(m,"MISSING_CONTINUE_URI","internal-error"),Object(d.a)(m,"INVALID_PASSWORD","wrong-password"),Object(d.a)(m,"MISSING_PASSWORD","internal-error"),Object(d.a)(m,"EMAIL_EXISTS","email-already-in-use"),Object(d.a)(m,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(d.a)(m,"INVALID_IDP_RESPONSE","invalid-credential"),Object(d.a)(m,"INVALID_PENDING_TOKEN","invalid-credential"),Object(d.a)(m,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(d.a)(m,"MISSING_REQ_TYPE","internal-error"),Object(d.a)(m,"EMAIL_NOT_FOUND","user-not-found"),Object(d.a)(m,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(d.a)(m,"EXPIRED_OOB_CODE","expired-action-code"),Object(d.a)(m,"INVALID_OOB_CODE","invalid-action-code"),Object(d.a)(m,"MISSING_OOB_CODE","internal-error"),Object(d.a)(m,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(d.a)(m,"INVALID_ID_TOKEN","invalid-user-token"),Object(d.a)(m,"TOKEN_EXPIRED","user-token-expired"),Object(d.a)(m,"USER_NOT_FOUND","user-token-expired"),Object(d.a)(m,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(d.a)(m,"INVALID_CODE","invalid-verification-code"),Object(d.a)(m,"INVALID_SESSION_INFO","invalid-verification-id"),Object(d.a)(m,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(d.a)(m,"MISSING_SESSION_INFO","missing-verification-id"),Object(d.a)(m,"SESSION_EXPIRED","code-expired"),Object(d.a)(m,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(d.a)(m,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(d.a)(m,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(d.a)(m,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(d.a)(m,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(d.a)(m,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(d.a)(m,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(d.a)(m,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(d.a)(m,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(d.a)(m,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(d.a)(m,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),m),G=new V(3e4,6e4);function K(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function W(e,t,n,r){return H.apply(this,arguments)}function H(){return(H=Object(c.a)(_().mark(function e(t,n,r,i){var a,o=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Q(t,a,Object(c.a)(_().mark(function e(){var a,o,u,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(p.L)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",B.fetch()(J(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(c.a)(_().mark(function e(t,n,r){var i,a,o,u,c,l,f,h,d,v;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},q),n),e.prev=2,a=new Z(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ee(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=Object(s.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ee(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ee(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ee(t,"user-disabled",u);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw C(t,v,d);case 34:I(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof p.c)){e.next=41;break}throw e.t0;case 41:I(t,"network-request-failed");case 42:case"end":return e.stop()}},e,null,[[2,37]])}))).apply(this,arguments)}function Y(e,t,n,r){return X.apply(this,arguments)}function X(){return(X=Object(c.a)(_().mark(function e(t,n,r,i){var a,o,u=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,W(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&I(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?z(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Z=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(T(n.auth,"network-request-failed"))},G.get())})}return Object(f.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ee(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=T(e,t,r);return i.customData._tokenResponse=n,i}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function oe(){return(oe=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(p.u)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,A((a=se(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ae(ue(a.auth_time)),issuedAtTime:ae(ue(a.iat)),expirationTime:ae(ue(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e){return 1e3*Number(e)}function se(e){var t,n=e.split("."),r=Object(s.a)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return S("JWT malformed, contained fewer than 3 sections"),null;try{var u=Object(p.i)(a);return u?JSON.parse(u):(S("Failed to decode base64 JWT payload"),null)}catch(c){return S("Caught error parsing JWT payload as JSON",null===(t=c)||void 0===t?void 0:t.toString()),null}}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(c.a)(_().mark(function e(t,n){var r=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof p.c&&fe(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function fe(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var he=function(){function e(t){Object(l.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(f.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(c.a)(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),de=function(){function e(t,n){Object(l.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(f.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ae(this.lastLoginAt),this.creationTime=ae(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pe(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s,c,l,f,h;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ce(t,re(r,{idToken:i}));case 6:A(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=y(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],s=me(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new de(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(){return(ye=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.u)(t),e.next=3,pe(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(Object(h.a)(n),Object(h.a)(t))}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(c.a)(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,{},Object(c.a)(_().mark(function e(){var r,i,a,o,u,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.L)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=J(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",B.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ke=function(){function e(){Object(l.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(f.a)(e,[{key:"updateFromServerResponse",value:function(e){A(e.idToken,"internal-error"),A("undefined"!==typeof e.idToken,"internal-error"),A("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=se(e);return A(t,"internal-error"),A("undefined"!==typeof t.exp,"internal-error"),A("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],A(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(c.a)(_().mark(function e(t,n){var r,i,a,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return R("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(A("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(A("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(A("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function we(e,t){A("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _e=function(){function e(t){Object(l.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=y(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new he(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(h.a)(a.providerData):[],this.metadata=new de(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(f.a)(e,[{key:"getIdToken",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(A(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return oe.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ye.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pe(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ce(this,te(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,O=n.stsTokenManager;A(b&&O,t,"internal-error");var x=ke.fromJSON(this.name,O);A("string"===typeof b,t,"internal-error"),we(f,t.name),we(h,t.name),A("boolean"===typeof k,t,"internal-error"),A("boolean"===typeof w,t,"internal-error"),we(d,t.name),we(p,t.name),we(v,t.name),we(y,t.name),we(m,t.name),we(g,t.name);var j=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(j.providerData=_.map(function(e){return Object.assign({},e)})),y&&(j._redirectEventId=y),j}},{key:"_fromIdTokenResponse",value:function(){var t=Object(c.a)(_().mark(function t(n,r){var i,a,o,u=arguments;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ke).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pe(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Oe=function(){function e(){Object(l.a)(this,e),this.type="NONE",this.storage={}}return Object(f.a)(e,[{key:"_isAvailable",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Oe.type="NONE";var xe=Oe;function je(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ee=function(){function e(t,n,r){Object(l.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=je(this.userKey,a.apiKey,o),this.fullPersistenceKey=je("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(f.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_e._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(c.a)(_().mark(function t(n,r){var i,a,o,u,s,l,f,h,d,p,v,y=arguments;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(L(xe),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter(function(e){return e}),o=a[0]||L(xe),u=je(i,n.config.apiKey,n.name),s=null,l=k(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=_e._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(v=a.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}},t,null,[[10,31,34,37],[14,25]])}));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Se(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ne(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ie(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Re(t))return"Blackberry";if(Pe(t))return"Webos";if(Te(t))return"Safari";if((t.includes("chrome/")||Ce(t))&&!t.includes("edge/"))return"Chrome";if(Ae(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/firefox\//i.test(e)}function Te(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/crios\//i.test(e)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/iemobile/i.test(e)}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/android/i.test(e)}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/blackberry/i.test(e)}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/webos/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)();return De(e)||Ae(e)||Pe(e)||Re(e)||/windows phone/i.test(e)||Ne(e)}function Me(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Se(Object(p.v)());break;case"Worker":t="".concat(Se(Object(p.v)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(v.SDK_VERSION,"/").concat(r)}var Fe=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.queue=[]}return Object(f.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(i){r(i)}})};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s,c;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=k(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=k(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}},e,this,[[3,24],[5,16,19,22]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ue=function(){function e(t,n,r){Object(l.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ze(this),this.idTokenSubscription=new ze(this),this.beforeStateQueue=new Fe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(f.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=L(t)),this._initializationPromise=this.queue(Object(c.a)(_().mark(function r(){var i,a;return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ee.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||null===s||void 0===s||!s.user||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(e.t0)});case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return A(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}},e,this,[[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(p.u)(t):null)&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r=this,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&A(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}},e)}))));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(c.a)(_().mark(function n(){return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(L(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new p.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(c.a)(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return A(n=t&&L(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ee.create(this,[L(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(c.a)(_().mark(function e(t){var n=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Me(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(c.a)(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function Ve(e){return Object(p.u)(e)}var ze=function(){function e(t){var n=this;Object(l.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(p.o)(function(e){return n.observer=e})}return Object(f.a)(e,[{key:"next",get:function(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Be=function(){function e(t,n){Object(l.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(f.a)(e,[{key:"toJSON",value:function(){return R("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return R("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return R("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return R("not implemented")}}]),e}();function qe(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(e,t){return We.apply(this,arguments)}function We(){return(We=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithPassword",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Xe=function(e){function t(e,n,r){var i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(l.a)(this,t),(i=Object(a.a)(this,Object(o.a)(t).call(this,"password",r)))._email=e,i._password=n,i._tenantId=u,i}return Object(u.a)(t,e),Object(f.a)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ke(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",He(t,{email:this._email,oobCode:this._password}));case 5:I(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qe(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$e(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:I(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),t}(Be);function Je(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithIdp",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var et=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(a.a)(this,Object(o.a)(t).apply(this,arguments))).pendingToken=null,e}return Object(u.a)(t,e),Object(f.a)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Je(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Je(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(p.L)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):I("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=y(n,["providerId","signInMethod"]);if(!r||!i)return null;var o=new t(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),t}(Be);function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendVerificationCode",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(){return(rt=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function it(){return(it=Object(c.a)(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ee(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var at=Object(d.a)({},"USER_NOT_FOUND","user-not-found");function ot(){return(ot=Object(c.a)(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Y(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,r),at));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ut=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,"phone","phone"))).params=e,n}return Object(u.a)(t,e),Object(f.a)(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,i=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return i||r||a||o?new t({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),t}(Be);var st=function(){function e(t){var n,r,i,a,o,u;Object(l.a)(this,e);var s=Object(p.M)(Object(p.t)(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);A(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Object(f.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(p.M)(Object(p.t)(e)).link,n=t?Object(p.M)(Object(p.t)(t)).deep_link_id:null,r=Object(p.M)(Object(p.t)(e)).deep_link_id;return(r?Object(p.M)(Object(p.t)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var ct=function(){function e(){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(f.a)(e,null,[{key:"credential",value:function(e,t){return Xe._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=st.parseLink(t);return A(n,"argument-error"),Xe._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ct.PROVIDER_ID="password",ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var lt=function(){function e(t){Object(l.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(f.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ft=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(a.a)(this,Object(o.a)(t).apply(this,arguments))).scopes=[],e}return Object(u.a)(t,e),Object(f.a)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(h.a)(this.scopes)}}]),t}(lt),ht=function(e){function t(){return Object(l.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,"facebook.com"))}return Object(u.a)(t,e),Object(f.a)(t,null,[{key:"credential",value:function(e){return et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(ft);ht.FACEBOOK_SIGN_IN_METHOD="facebook.com",ht.PROVIDER_ID="facebook.com";var dt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(a.a)(this,Object(o.a)(t).call(this,"google.com"))).addScope("profile"),e}return Object(u.a)(t,e),Object(f.a)(t,null,[{key:"credential",value:function(e,n){return et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken;if(!r&&!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(ft);dt.GOOGLE_SIGN_IN_METHOD="google.com",dt.PROVIDER_ID="google.com";var pt=function(e){function t(){return Object(l.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,"github.com"))}return Object(u.a)(t,e),Object(f.a)(t,null,[{key:"credential",value:function(e){return et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(ft);pt.GITHUB_SIGN_IN_METHOD="github.com",pt.PROVIDER_ID="github.com";var vt=function(e){function t(){return Object(l.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,"twitter.com"))}return Object(u.a)(t,e),Object(f.a)(t,null,[{key:"credential",value:function(e,n){return et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,i=n.oauthTokenSecret;if(!r||!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(ft);vt.TWITTER_SIGN_IN_METHOD="twitter.com",vt.PROVIDER_ID="twitter.com";var yt=function(){function e(t){Object(l.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(f.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(c.a)(_().mark(function t(n,r,i){var a,o,u,s,c=arguments;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_e._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=mt(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(c.a)(_().mark(function t(n,r,i){var a;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=mt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function mt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var gt=function(e){function t(e,n,r,u){var s,c;return Object(l.a)(this,t),(s=Object(a.a)(this,Object(o.a)(t).call(this,n.code,n.message))).operationType=r,s.user=u,Object.setPrototypeOf(Object(i.a)(Object(i.a)(s)),t.prototype),s.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r},s}return Object(u.a)(t,e),Object(f.a)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,i){return new t(e,n,r,i)}}]),t}(p.c);function bt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw gt._fromErrorAndOperation(e,n,t,r);throw n})}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(c.a)(_().mark(function e(t,n){var r,i,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ce,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _t(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(c.a)(_().mark(function e(t,n){var r,i,a,o,u,s,c,l=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,ce(t,bt(a,o,n,t),r);case 6:return A((u=e.sent).idToken,a,"internal-error"),A(s=se(u.idToken),a,"internal-error"),c=s.sub,A(t.uid===c,a,"user-mismatch"),e.abrupt("return",yt._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&I(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function xt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(c.a)(_().mark(function e(t,n){var r,i,a,o,u=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bt(t,i,n);case 4:return a=e.sent,e.next=7,yt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Et(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:start",K(e,t))}new WeakMap;var St=function(){function e(t,n){Object(l.a)(this,e),this.storageRetriever=t,this.type=n}return Object(f.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var It=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(a.a)(this,Object(o.a)(t).call(this,function(){return window.localStorage},"LOCAL"))).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(p.v)();return Te(e)||De(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Le(),e._shouldAllowMigration=!0,e}return Object(u.a)(t,e),Object(f.a)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(p.B)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(c.a)(_().mark(function e(n,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(o.a)(t.prototype),"_set",this).call(this,n,i);case 2:this.localCache[n]=JSON.stringify(i);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(c.a)(_().mark(function e(n){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(o.a)(t.prototype),"_get",this).call(this,n);case 2:return i=e.sent,this.localCache[n]=JSON.stringify(i),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(c.a)(_().mark(function e(n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)(Object(o.a)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(St);It.type="LOCAL";var Tt=It,Ct=function(e){function t(){return Object(l.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,function(){return window.sessionStorage},"SESSION"))}return Object(u.a)(t,e),Object(f.a)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}(St);Ct.type="SESSION";var Nt=Ct;function At(e){return Promise.all(e.map(function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var Rt=function(){function e(t){Object(l.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(f.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s,l;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,At(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Pt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rt.receivers=[];var Dt=function(){function e(t){Object(l.a)(this,e),this.target=t,this.handlers=new Set}return Object(f.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(c.a)(_().mark(function e(t,n){var r,i,a,o,u=this,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var c=Pt("",20);i.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(function(){o&&u.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Lt(){return window}function Mt(){return"undefined"!==typeof Lt().WorkerGlobalScope&&"function"===typeof Lt().importScripts}function Ft(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function Vt(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var zt="firebaseLocalStorageDb",Bt=1,qt="firebaseLocalStorage",Gt="fbase_key",Kt=function(){function e(t){Object(l.a)(this,e),this.request=t}return Object(f.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Wt(e,t){return e.transaction([qt],t?"readwrite":"readonly").objectStore(qt)}function Ht(){var e=indexedDB.deleteDatabase(zt);return new Kt(e).toPromise()}function Qt(){var e=indexedDB.open(zt,Bt);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(qt,{keyPath:Gt})}catch(r){n(r)}}),e.addEventListener("success",Object(c.a)(_().mark(function n(){var r;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(qt)){n.next=12;break}return r.close(),n.next=5,Ht();case 5:return n.t0=t,n.next=8,Qt();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n)})))})}function $t(e,t,n){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(c.a)(_().mark(function e(t,n,r){var i,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wt(t,!0).put((i={},Object(d.a)(i,Gt,n),Object(d.a)(i,"value",r),i)),e.abrupt("return",new Kt(a).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(c.a)(_().mark(function e(t,n){var r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt(t,!1).get(n),e.next=3,new Kt(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e,t){var n=Wt(e,!0).delete(t);return new Kt(n).toPromise()}var en=function(){function e(){Object(l.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return Object(f.a)(e,[{key:"_openDb",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Qt();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(c.a)(_().mark(function e(){var t=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rt._getInstance(Mt()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(c.a)(_().mark(function e(n,r){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(c.a)(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(c.a)(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Dt(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Vt()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Qt();case 5:return t=e.sent,e.next=8,$t(t,"__sak","1");case 8:return e.next=10,Zt(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(c.a)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(c.a)(_().mark(function e(t,n){var r=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return $t(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return Xt(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(c.a)(_().mark(function e(t){var n=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return Zt(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(c.a)(_().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Wt(e,!1).getAll();return new Kt(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=k(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(c.a)(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();en.type="LOCAL";var tn=en;function nn(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:start",K(e,t))}function rn(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=T("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function an(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}an("rcb"),new V(3e4,6e4);var on="recaptcha";function un(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=Object(c.a)(_().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,A("string"===typeof a,t,"argument-error"),A(r.type===on,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return A("enroll"===u.type,t,"internal-error"),e.next=13,Et(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return A("signin"===u.type,t,"internal-error"),A(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,nn(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,tt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,null,[[3,,31,34]])}))).apply(this,arguments)}var cn=function(){function e(t){Object(l.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ve(t)}return Object(f.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return un(this.auth,e,Object(p.u)(t))}}],[{key:"credential",value:function(e,t){return ut._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ut._fromTokenResponse(n,r):null}}]),e}();function ln(e,t){return t?L(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cn.PROVIDER_ID="phone",cn.PHONE_SIGN_IN_METHOD="phone";var fn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,"custom","custom"))).params=e,n}return Object(u.a)(t,e),Object(f.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Je(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Je(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Je(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),t}(Be);function hn(e){return xt(e.auth,new fn(e),e.bypassAuthState)}function dn(e){var t=e.auth,n=e.user;return A(n,t,"internal-error"),_t(n,new fn(e),e.bypassAuthState)}function pn(e){return vn.apply(this,arguments)}function vn(){return(vn=Object(c.a)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,A(r=t.user,n,"internal-error"),e.abrupt("return",kt(r,new fn(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var yn=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(l.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(f.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(c.a)(_().mark(function t(n,r){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r,i,a,o,u,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hn;case"linkViaPopup":case"linkViaRedirect":return pn;case"reauthViaPopup":case"reauthViaRedirect":return dn;default:I(this.auth,"internal-error")}}},{key:"resolve",value:function(e){P(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){P(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),mn=new V(2e3,1e4);var gn=function(e){function t(e,n,r,u,s){var c;return Object(l.a)(this,t),(c=Object(a.a)(this,Object(o.a)(t).call(this,e,n,u,s))).provider=r,c.authWindow=null,c.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=Object(i.a)(Object(i.a)(c)),c}return Object(u.a)(t,e),Object(f.a)(t,[{key:"executeNotNull",value:function(){var e=Object(c.a)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return A(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(c.a)(_().mark(function e(){var t,n=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(1===this.filter.length,"Popup operations only handle one event"),t=Pt(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(T(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.reject(T(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(T(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,mn.get())}()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}}]),t}(yn);gn.currentPopupAction=null;var bn="pendingRedirect",kn=new Map,wn=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(l.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i))).eventId=null,r}return Object(u.a)(t,e),Object(f.a)(t,[{key:"execute",value:function(){var e=Object(c.a)(_().mark(function e(){var n,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=kn.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_n(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(r.a)(Object(o.a)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:i=e.t0,n=function(){return Promise.resolve(i)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:kn.set(this.auth._key(),n);case 21:return this.bypassAuthState||kn.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",n());case 23:case"end":return e.stop()}},e,this,[[2,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(c.a)(_().mark(function e(n){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",Object(r.a)(Object(o.a)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(i=e.sent)){e.next=16;break}return this.user=i,e.abrupt("return",Object(r.a)(Object(o.a)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(c.a)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),t}(yn);function _n(e,t){return On.apply(this,arguments)}function On(){return(On=Object(c.a)(_().mark(function e(t,n){var r,i,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=En(n),i=jn(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xn(e,t){kn.set(e._key(),t)}function jn(e){return L(e._redirectPersistence)}function En(e){return je(bn,e.config.apiKey,e.name)}function Sn(e,t){return In.apply(this,arguments)}function In(){return(In=Object(c.a)(_().mark(function e(t,n){var r,i,a,o,u,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ve(t),a=ln(i,n),o=new wn(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Tn=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(f.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nn(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Nn(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(T(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cn(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Cn(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Cn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function Nn(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function An(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(c.a)(_().mark(function e(t){var n,r=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",W(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Pn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dn=/^https?/;function Ln(){return(Ln=Object(c.a)(_().mark(function e(t){var n,r,i,a,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,An(t);case 4:n=e.sent,r=n.authorizedDomains,i=k(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Mn(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:I(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function Mn(e){var t=M(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Dn.test(r))return!1;if(Pn.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Fn=new V(3e4,6e4);function Un(){var e=Lt().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(h.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vn=null;function zn(e){return Vn=Vn||function(e){return new Promise(function(t,n){var r,i,a;function o(){Un(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Un(),n(T(e,"network-request-failed"))},timeout:Fn.get()})}if(null===(i=null===(r=Lt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(a=Lt().gapi)||void 0===a||!a.load){var u=an("iframefcb");return Lt()[u]=function(){gapi.load?o():n(T(e,"network-request-failed"))},rn("https://apis.google.com/js/api.js?onload=".concat(u)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw Vn=null,e})}(e)}var Bn=new V(5e3,15e3),qn="__/auth/iframe",Gn="emulator/auth/iframe",Kn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hn(e){var t=e.config;A(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?z(t,Gn):"https://".concat(e.config.authDomain,"/").concat(qn),r={apiKey:t.apiKey,appName:e.name,v:v.SDK_VERSION},i=Wn.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(p.L)(r).slice(1))}function Qn(e){return $n.apply(this,arguments)}function $n(){return($n=Object(c.a)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zn(t);case 2:return n=e.sent,A(r=Lt().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Hn(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kn,dontclear:!0},function(e){return new Promise(function(){var n=Object(c.a)(_().mark(function n(r,i){var a,o,u;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Lt().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=T(t,"network-request-failed"),o=Lt().setTimeout(function(){i(a)},Bn.get()),e.ping(u).then(u,function(){i(a)});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Yn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xn=500,Jn=600,Zn="_blank",er="http://localhost",tr=function(){function e(t){Object(l.a)(this,e),this.window=t,this.associatedEvent=null}return Object(f.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xn,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jn,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Yn),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Object(p.v)().toLowerCase();n&&(u=Ce(l)?Zn:n),Ie(l)&&(t=t||er,c.scrollbars="yes");var f=Object.entries(c).reduce(function(e,t){var n=Object(s.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e;return De(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.v)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new tr(null);var h=window.open(t||"",u,f);A(h,e,"popup-blocked");try{h.focus()}catch(d){}return new tr(h)}var rr="__/auth/handler",ir="emulator/auth/handler";function ar(e,t,n,r,i,a){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:v.SDK_VERSION,eventId:i};if(t instanceof lt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(p.A)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=Object(s.a)(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ft){var d=t.getScopes().filter(function(e){return""!==e});d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var y=o,m=0,g=Object.keys(y);m<g.length;m++){var b=g[m];void 0===y[b]&&delete y[b]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rr);return z(t,ir)}(e),"?").concat(Object(p.L)(y).slice(1))}var or=function(){function e(){Object(l.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=Sn,this._overrideRedirectResult=xn}return Object(f.a)(e,[{key:"_openPopup",value:function(){var e=Object(c.a)(_().mark(function e(t,n,r,i){var a,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ar(t,n,r,M(),i),e.abrupt("return",nr(t,o,Pt()));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(c.a)(_().mark(function e(t,n,r,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ar(t,n,r,M(),i),Lt().location.href=a,e.abrupt("return",new Promise(function(){}));case 4:case"end":return e.stop()}var a},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(P(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:function(){var e=Object(c.a)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(t);case 2:return n=e.sent,r=new Tn(t),n.register("authEvent",function(e){return A(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),I(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ln.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Le()||Te()||De()}}]),e}(),ur=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(a.a)(this,Object(o.a)(t).call(this,"phone"))).credential=e,n}return Object(u.a)(t,e),Object(f.a)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:finalize",K(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:finalize",K(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}]),t}(function(){function e(t){Object(l.a)(this,e),this.factorId=t}return Object(f.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return R("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,null,[{key:"assertion",value:function(e){return ur._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var sr,cr="@firebase/auth",lr="0.20.5",fr=function(){function e(t){Object(l.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(f.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(c.a)(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.getApp)(),t=Object(v._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){var n=Object(v._getProvider)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(Object(p.q)(i,null!==t&&void 0!==t?t:{}))return r;I(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:or,persistence:[tn,Tt,Nt]})}sr="Browser",Object(v._registerComponent)(new b.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){A(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),A(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:sr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Me(sr)},i=new Ue(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(L);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(v._registerComponent)(new b.a("auth-internal",function(e){return function(e){return new fr(e)}(Ve(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(v.registerVersion)(cr,lr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sr)),Object(v.registerVersion)(cr,lr,"esm2017"),n.d(t,"a",function(){return hr})},function(e,t,n){"use strict";var r=n(6),i=n(41);var a=n(42);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(53);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},,,,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var w=k.prototype=new b;w.constructor=k,y(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,O=Object.prototype.hasOwnProperty,x={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:r,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,_(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),C(o,t,n,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=u,t.PureComponent=k,t.StrictMode=o,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)O.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(5),i=n(85);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case _:return"Portal";case j:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case S:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case I:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ee(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Oe=null;function xe(e){if(e=hi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=pi(t),we(e.stateNode,e.type,t))}}function je(e){_e?Oe?Oe.push(e):Oe=[e]:_e=e}function Ee(){if(_e){var e=_e,t=Oe;if(Oe=_e=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Se(e,t){return e(t)}function Ie(){}var Te=!1;function Ce(e,t,n){if(Te)return e(t,n);Te=!0;try{return Se(e,t,n)}finally{Te=!1,(null!==_e||null!==Oe)&&(Ie(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Ae=!1}var Pe=!1,De=null,Le=!1,Me=null,Fe={onError:function(e){Pe=!0,De=e}};function Ue(e,t,n,r,i,a,o,u,s){Pe=!1,De=null,function(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,We=i.unstable_shouldYield,He=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,Xe=i.unstable_UserBlockingPriority,Je=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/at|0)|0},it=Math.log,at=Math.LN2;var ot=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=st(u):0!==(a&=o)&&(r=st(a))}else 0!==(o=n&~i)?r=st(o):0!==a&&(r=st(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var gt,bt,kt,wt,_t,Ot=!1,xt=[],jt=null,Et=null,St=null,It=new Map,Tt=new Map,Ct=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=hi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Pt(e){var t=fi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=hi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function Mt(){Ot=!1,null!==jt&&Dt(jt)&&(jt=null),null!==Et&&Dt(Et)&&(Et=null),null!==St&&Dt(St)&&(St=null),It.forEach(Lt),Tt.forEach(Lt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<xt.length){Ft(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Ft(jt,e),null!==Et&&Ft(Et,e),null!==St&&Ft(St,e),It.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Pt(n),null===n.blockedOn&&Ct.shift()}var Vt=k.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function qt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Gt(e,t,n,r){if(zt){var i=Wt(e,t,n,r);if(null===i)Mr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Rt(jt,e,t,n,r,i),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,i),!0;case"mouseover":return St=Rt(St,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Rt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Rt(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=hi(i);if(null!==a&&gt(a),null===(a=Wt(e,t,n,r))&&Mr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Mr(e,t,r,null,n)}}var Kt=null;function Wt(e,t,n,r){if(Kt=null,null!==(e=fi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Ht(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ye:return 1;case Xe:return 4;case Je:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Yt=null;function Xt(){if(Yt)return Yt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(on),sn=M({},on,{view:0,detail:0}),cn=tn(sn),ln=M({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(nn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=nn=0,an=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),hn=tn(M({},ln,{dataTransfer:0})),dn=tn(M({},sn,{relatedTarget:0})),pn=tn(M({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(M({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=tn(M({},on,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function wn(){return kn}var _n=tn(M({},sn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=tn(M({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=tn(M({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),jn=tn(M({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=tn(M({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=[9,13,27,32],In=l&&"CompositionEvent"in window,Tn=null;l&&"documentMode"in document&&(Tn=document.documentMode);var Cn=l&&"TextEvent"in window&&!Tn,Nn=l&&(!In||Tn&&8<Tn&&11>=Tn),An=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){je(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Bn(e){Nr(e,0)}function qn(e){if(W(di(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Wn;if(l){var Hn="oninput"in document;if(!Hn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Hn="function"===typeof Qn.oninput}Wn=Hn}else Wn=!1;Kn=Wn&&(!document.documentMode||9<document.documentMode)}function $n(){Vn&&(Vn.detachEvent("onpropertychange",Yn),zn=Vn=null)}function Yn(e){if("value"===e.propertyName&&qn(zn)){var t=[];Un(t,zn,e,ke(e)),Ce(Bn,t)}}function Xn(e,t,n){"focusin"===e?($n(),zn=n,(Vn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&$n()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(zn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ar(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=ar(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&or(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ir(n,a);var o=ir(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==cr||cr!==H(r)||("selectionStart"in(r=cr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Ur(lr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},yr={},mr={};function gr(e){if(yr[e])return yr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return yr[e]=n[t];return e}l&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=gr("animationend"),kr=gr("animationiteration"),wr=gr("animationstart"),_r=gr("transitionend"),Or=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Or.set(e,t),s(t,[e])}for(var Er=0;Er<xr.length;Er++){var Sr=xr[Er];jr(Sr.toLowerCase(),"on"+(Sr[0].toUpperCase()+Sr.slice(1)))}jr(br,"onAnimationEnd"),jr(kr,"onAnimationIteration"),jr(wr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(a(198));var l=De;Pe=!1,De=null,Le||(Le=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Le)throw e=Me,Le=!1,Me=null,e}function Ar(e,t){var n=t[si];void 0===n&&(n=t[si]=new Set);var r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Lr(n,e,r,t)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Pr]){e[Pr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Tr.has(t)||Rr(t,!1,e),Rr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pr]||(t[Pr]=!0,Rr("selectionchange",!1,t))}}function Lr(e,t,n,r){switch(Ht(t)){case 1:var i=Bt;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=fi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ce(function(){var r=a,i=ke(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=un,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=dn;break;case"focusout":c="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=xn;break;case br:case kr:case wr:s=pn;break;case _r:s=jn;break;case"scroll":s=cn;break;case"wheel":s=En;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fi(c)&&!c[ui])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?fi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=fn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:di(s),d=null==c?u:di(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,fi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&zr(o,u,s,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(s=(u=r?di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Gn;else if(Fn(u))if(Kn)y=er;else{y=Jn;var m=Xn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=Zn);switch(y&&(y=y(e,r))?Un(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&Z(u,"number",u.value)),m=r?di(r):window,e){case"focusin":(Fn(m)||"true"===m.contentEditable)&&(cr=m,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(o,n,i)}var g;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Pn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(g=Xt()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Ln=!0)),0<(m=Ur(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=Dn(n))&&(b.data=g))),(g=Cn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Rn=!0,An);case"textInput":return(e=t.data)===An&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!In&&Pn(e,t)?(e=Xt(),Yt=$t=Qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ne(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Br=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Br,"\n").replace(qr,"")}function Kr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(a(425))}function Wr(){}var Hr=null,Qr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Xr="function"===typeof clearTimeout?clearTimeout:void 0,Jr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Jr?function(e){return Jr.resolve(null).then(e).catch(ei)}:Yr;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),ai="__reactFiber$"+ii,oi="__reactProps$"+ii,ui="__reactContainer$"+ii,si="__reactEvents$"+ii,ci="__reactListeners$"+ii,li="__reactHandles$"+ii;function fi(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[ai]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[ai])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function hi(e){return!(e=e[ai]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function pi(e){return e[oi]||null}var vi=[],yi=-1;function mi(e){return{current:e}}function gi(e){0>yi||(e.current=vi[yi],vi[yi]=null,yi--)}function bi(e,t){vi[++yi]=e.current,e.current=t}var ki={},wi=mi(ki),_i=mi(!1),Oi=ki;function xi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){gi(_i),gi(wi)}function Si(e,t,n){if(wi.current!==ki)throw Error(a(168));bi(wi,t),bi(_i,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Oi=wi.current,bi(wi,e),bi(_i,_i.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ii(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,gi(_i),gi(wi),bi(wi,e)):gi(_i),bi(_i,n)}var Ni=null,Ai=!1,Ri=!1;function Pi(e){null===Ni?Ni=[e]:Ni.push(e)}function Di(){if(!Ri&&null!==Ni){Ri=!0;var e=0,t=yt;try{var n=Ni;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Ai=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ge(Ye,Di),i}finally{yt=t,Ri=!1}}return null}var Li=[],Mi=0,Fi=null,Ui=0,Vi=[],zi=0,Bi=null,qi=1,Gi="";function Ki(e,t){Li[Mi++]=Ui,Li[Mi++]=Fi,Fi=e,Ui=t}function Wi(e,t,n){Vi[zi++]=qi,Vi[zi++]=Gi,Vi[zi++]=Bi,Bi=e;var r=qi;e=Gi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qi=1<<32-rt(t)+i|n<<i|r,Gi=a+e}else qi=1<<a|n<<i|r,Gi=e}function Hi(e){null!==e.return&&(Ki(e,1),Wi(e,1,0))}function Qi(e){for(;e===Fi;)Fi=Li[--Mi],Li[Mi]=null,Ui=Li[--Mi],Li[Mi]=null;for(;e===Bi;)Bi=Vi[--zi],Vi[zi]=null,Gi=Vi[--zi],Vi[zi]=null,qi=Vi[--zi],Vi[zi]=null}var $i=null,Yi=null,Xi=!1,Ji=null;function Zi(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,Yi=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,Yi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Bi?{id:qi,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,Yi=null,!0);default:return!1}}function ta(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function na(e){if(Xi){var t=Yi;if(t){var n=t;if(!ea(e,t)){if(ta(e))throw Error(a(418));t=ni(n.nextSibling);var r=$i;t&&ea(e,t)?Zi(r,n):(e.flags=-4097&e.flags|2,Xi=!1,$i=e)}}else{if(ta(e))throw Error(a(418));e.flags=-4097&e.flags|2,Xi=!1,$i=e}}}function ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function ia(e){if(e!==$i)return!1;if(!Xi)return ra(e),Xi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Yi)){if(ta(e))throw aa(),Error(a(418));for(;t;)Zi(e,t),t=ni(t.nextSibling)}if(ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yi=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yi=null}}else Yi=$i?ni(e.stateNode.nextSibling):null;return!0}function aa(){for(var e=Yi;e;)e=ni(e.nextSibling)}function oa(){Yi=$i=null,Xi=!1}function ua(e){null===Ji?Ji=[e]:Ji.push(e)}var sa=k.ReactCurrentBatchConfig;function ca(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var la=mi(null),fa=null,ha=null,da=null;function pa(){da=ha=fa=null}function va(e){var t=la.current;gi(la),e._currentValue=t}function ya(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ma(e,t){fa=e,da=ha=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(lu=!0),e.firstContext=null)}function ga(e){var t=e._currentValue;if(da!==e)if(e={context:e,memoizedValue:t,next:null},null===ha){if(null===fa)throw Error(a(308));ha=e,fa.dependencies={lanes:0,firstContext:e}}else ha=ha.next=e;return t}var ba=null;function ka(e){null===ba?ba=[e]:ba.push(e)}function wa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ea(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ys)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ca(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Oa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=f}}function Na(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Aa=(new r.Component).refs;function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=Ea(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Sa(e,a,i))&&(Gs(t,e,i,r),Ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=Ea(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Sa(e,a,i))&&(Gs(t,e,i,r),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=Ea(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Sa(e,i,r))&&(Gs(t,e,r,n),Ia(t,e,r))}};function Da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,a))}function La(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=ga(a):(i=ji(t)?Oi:wi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?xi(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pa.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Aa,xa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ga(a):(a=ji(t)?Oi:wi.current,i.context=xi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ra(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Pa.enqueueReplaceState(i,i.state,null),Ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Aa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===O?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=gc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=bc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=gc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case _:return(t=_c(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(ee(t)||D(t))return(t=bc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(ee(n)||D(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Xi&&Ki(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Xi&&Ki(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(i,e)}),Xi&&Ki(i,v),c}function y(i,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),Xi&&Ki(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Xi&&Ki(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach(function(e){return t(i,e)}),Xi&&Ki(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===O&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===O){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===O?((a=bc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=gc(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=_c(o,r.mode,s)).return=r,r=a}return u(r);case A:return e(r,a,(l=o._init)(o._payload),s)}if(ee(o))return v(r,a,o,s);if(D(o))return y(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=wc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Ga=Ba(!1),Ka={},Wa=mi(Ka),Ha=mi(Ka),Qa=mi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(bi(Qa,t),bi(Ha,e),bi(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}gi(Wa),bi(Wa,t)}function Xa(){gi(Wa),gi(Ha),gi(Qa)}function Ja(e){$a(Qa.current);var t=$a(Wa.current),n=ue(t,e.type);t!==n&&(bi(Ha,e),bi(Wa,n))}function Za(e){Ha.current===e&&(gi(Wa),gi(Ha))}var eo=mi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Xo:Jo,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=Zo,e=n(r,i)}while(fo)}if(io.current=Yo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,xs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,tr(r,t.memoizedState)||(lu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,xs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);tr(o,t.memoizedState)||(lu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function jo(e,t){var n=uo,r=ko(),i=t(),o=!tr(r.memoizedState,i);if(o&&(r.memoizedState=i,lu=!0),r=r.queue,Mo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ao(9,So.bind(null,n,r,i,t),void 0,null),null===ms)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&Co(e)}function Io(e,t,n){return n(function(){To(t)&&Co(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function Co(e){var t=_a(e,1);null!==t&&Gs(t,e,1,-1)}function No(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,tr(u,o)){var s=t.interleaved;return null===s?(i.next=i,ka(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=wa(e,t,i,r))&&(i=Bs(),Gs(n,e,r,i),$o(n,t,r))}}.bind(null,uo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return ko().memoizedState}function Po(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}uo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Lo(e,t){return Po(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function Bo(){}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,lu=!0),e.memoizedState=n):(tr(n,t)||(n=ht(),uo.lanes|=n,xs|=n,e.baseState=!0),t)}function Wo(){return ko().memoizedState}function Ho(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Yo={readContext:ga,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Xo={readContext:ga,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:ga,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?Qo(t,n):null!==(n=wa(e,t,n,r))&&(Gs(n,e,r,Bs()),$o(n,t,r))}.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=function(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=n,ao.transition=r}}.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Xi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ms)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=ms.identifierPrefix;if(Xi){var n=Gi;t=":"+t+"R"+(n=(qi&~(1<<32-rt(qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:_o,useRef:Ro,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){return Ko(ko(),so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],ko().memoizedState]},useMutableSource:xo,useSyncExternalStore:jo,useId:Wo,unstable_isNewReconciler:!1},Zo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:Oo,useRef:Ro,useState:function(){return Oo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=ko();return null===so?t.memoizedState=e:Ko(t,so.memoizedState,e)},useTransition:function(){return[Oo(wo)[0],ko().memoizedState]},useMutableSource:xo,useSyncExternalStore:jo,useId:Wo,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function tu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ru="function"===typeof WeakMap?WeakMap:Map;function iu(e,t,n){(n=Ea(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Rs=r),nu(0,t)},n}function au(e,t,n){(n=Ea(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){nu(0,t),"function"!==typeof r&&(null===Ps?Ps=new Set([this]):Ps.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ru;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,ms===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Qe()-Ts?Zs(e,0):Es|=n),Ks(e,t)}.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function su(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ea(-1,1)).tag=2,Sa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var cu=k.ReactCurrentOwner,lu=!1;function fu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):qa(t,e.child,n,r)}function hu(e,t,n,r,i){n=n.render;var a=t.ref;return ma(t,i),r=mo(e,t,n,r,a,i),n=go(),null===e||lu?(Xi&&n&&Hi(t),t.flags|=1,fu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Du(e,t,i))}function du(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||yc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=gc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,pu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(o,r)&&e.ref===t.ref)return Du(e,t,i)}return t.flags|=1,(e=mc(a,r)).ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nr(a,r)&&e.ref===t.ref){if(lu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Du(e,t,i);0!==(131072&e.flags)&&(lu=!0)}}return mu(e,t,n,r,i)}function vu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(ws,ks),ks|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(ws,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,bi(ws,ks),ks|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bi(ws,ks),ks|=r;return fu(e,t,i,n),t.child}function yu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,n,r,i){var a=ji(n)?Oi:wi.current;return a=xi(t,a),ma(t,i),n=mo(e,t,n,r,a,i),r=go(),null===e||lu?(Xi&&r&&Hi(t),t.flags|=1,fu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Du(e,t,i))}function gu(e,t,n,r,i){if(ji(n)){var a=!0;Ti(t)}else a=!1;if(ma(t,i),null===t.stateNode)Pu(e,t),La(t,n,r),Fa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ga(c):c=xi(t,c=ji(n)?Oi:wi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ma(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,Ca(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Oa?("function"===typeof l&&(Ra(t,n,l,r),s=t.memoizedState),(u=Oa||Da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ca(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ga(s):s=xi(t,s=ji(n)?Oi:wi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ma(t,o,r,s),Oa=!1,h=t.memoizedState,o.state=h,Ca(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Oa?("function"===typeof d&&(Ra(t,n,d,r),p=t.memoizedState),(c=Oa||Da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,a,i)}function bu(e,t,n,r,i,a){yu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ci(t,n,!1),Du(e,t,a);r=t.stateNode,cu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):fu(e,t,u,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Ya(e,t.containerInfo)}function wu(e,t,n,r,i){return oa(),ua(i),t.flags|=256,fu(e,t,n,r),t.child}var _u,Ou,xu,ju,Eu={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Iu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),bi(eo,1&o),null===e)return na(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=kc(s,i,0,null),e=bc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Su(n),t.memoizedState=Eu,e):Tu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,r=tu(Error(a(422))),Cu(e,t,u,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=kc({mode:"visible",children:r.children},i,0,null),(o=bc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&qa(t,e.child,null,u),t.child.memoizedState=Su(u),t.memoizedState=Eu,o);if(0===(1&t.mode))return Cu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,o=Error(a(419)),r=tu(o,r,void 0),Cu(e,t,u,r)}if(s=0!==(u&e.childLanes),lu||s){if(null!==(r=ms)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),Gs(r,e,i,-1))}return nc(),r=tu(Error(a(421))),Cu(e,t,u,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yi=ni(i.nextSibling),$i=t,Xi=!0,Ji=null,null!==e&&(Vi[zi++]=qi,Vi[zi++]=Gi,Vi[zi++]=Bi,qi=e.id,Gi=e.overflow,Bi=t),(t=Tu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=mc(r,u):(u=bc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Su(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Eu,i}return e=(u=e.child).sibling,i=mc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Tu(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Cu(e,t,n,r){return null!==r&&ua(r),qa(t,e.child,null,n),(e=Tu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Nu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ya(e.return,t,n)}function Au(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ru(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(fu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Nu(e,n,t);else if(19===e.tag)Nu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Au(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Au(t,!0,n,null,a);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Du(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Lu(e,t){if(!Xi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fu(e,t,n){var r=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mu(t),null;case 1:return ji(t.type)&&Ei(),Mu(t),null;case 3:return r=t.stateNode,Xa(),gi(_i),gi(wi),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ia(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ji&&(Hs(Ji),Ji=null))),Ou(e,t),Mu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)xu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Mu(t),null}if(e=$a(Wa.current),ia(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ai]=t,r[oi]=o,e=0!==(1&t.mode),n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Ar(Ir[i],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":$(r,o),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ar("invalid",r);break;case"textarea":re(r,o),Ar("invalid",r)}for(var s in me(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ar("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Wr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ai]=t,e[oi]=r,_u(e,t,!1,!1),t.stateNode=e;e:{switch(s=ge(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),i=r;break;case"iframe":case"object":case"embed":Ar("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Ar(Ir[i],e);i=r;break;case"source":Ar("error",e),i=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),i=r;break;case"details":Ar("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ar("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Ar("invalid",e);break;default:i=r}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ar("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Wr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Mu(t),null;case 6:if(e&&null!=t.stateNode)ju(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Wa.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(o=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ai]=t,t.stateNode=r}return Mu(t),null;case 13:if(gi(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Xi&&null!==Yi&&0!==(1&t.mode)&&0===(128&t.flags))aa(),oa(),t.flags|=98560,o=!1;else if(o=ia(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ai]=t}else oa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Mu(t),o=!1}else null!==Ji&&(Hs(Ji),Ji=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):nc())),null!==t.updateQueue&&(t.flags|=4),Mu(t),null);case 4:return Xa(),Ou(e,t),null===e&&Dr(t.stateNode.containerInfo),Mu(t),null;case 10:return va(t.type._context),Mu(t),null;case 17:return ji(t.type)&&Ei(),Mu(t),null;case 19:if(gi(eo),null===(o=t.memoizedState))return Mu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Lu(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,Lu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Cs&&(t.flags|=128,r=!0,Lu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Lu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Xi)return Mu(t),null}else 2*Qe()-o.renderingStartTime>Cs&&1073741824!==n&&(t.flags|=128,r=!0,Lu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=eo.current,bi(eo,r?1&n|2:1&n),t):(Mu(t),null);case 22:case 23:return Js(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ks)&&(Mu(t),6&t.subtreeFlags&&(t.flags|=8192)):Mu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Uu(e,t){switch(Qi(t),t.tag){case 1:return ji(t.type)&&Ei(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),gi(_i),gi(wi),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(gi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return gi(eo),null;case 4:return Xa(),null;case 10:return va(t.type._context),null;case 22:case 23:return Js(),null;case 24:default:return null}}_u=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},xu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Wa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),r=ne(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Wr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ar("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vu=!1,zu=!1,Bu="function"===typeof WeakSet?WeakSet:Set,qu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Wu=!1;function Hu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ku(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Yu(e){var t=e.alternate;null!==t&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ai],delete t[oi],delete t[si],delete t[ci],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xu(e){return 5===e.tag||3===e.tag||4===e.tag}function Ju(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Xu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zu=null,es=!1;function ts(e,t,n){for(n=n.child;null!==n;)ns(e,t,n),n=n.sibling}function ns(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:zu||Gu(n,t);case 6:var r=Zu,i=es;Zu=null,ts(e,t,n),es=i,null!==(Zu=r)&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zu.removeChild(n.stateNode));break;case 18:null!==Zu&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ut(e)):ti(Zu,n.stateNode));break;case 4:r=Zu,i=es,Zu=n.stateNode.containerInfo,es=!0,ts(e,t,n),Zu=r,es=i;break;case 0:case 11:case 14:case 15:if(!zu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)?Ku(n,t,o):0!==(4&a)&&Ku(n,t,o)),i=i.next}while(i!==r)}ts(e,t,n);break;case 1:if(!zu&&(Gu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fc(n,t,u)}ts(e,t,n);break;case 21:ts(e,t,n);break;case 22:1&n.mode?(zu=(r=zu)||null!==n.memoizedState,ts(e,t,n),zu=r):ts(e,t,n);break;default:ts(e,t,n)}}function rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Bu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),hc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function is(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:Zu=s.stateNode,es=!1;break e;case 3:case 4:Zu=s.stateNode.containerInfo,es=!0;break e}s=s.return}if(null===Zu)throw Error(a(160));ns(o,u,i),Zu=null,es=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){fc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)as(t,e),t=t.sibling}function as(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),os(e),4&r){try{Hu(3,e,e.return),Qu(3,e)}catch(y){fc(e,e.return,y)}try{Hu(5,e,e.return)}catch(y){fc(e,e.return,y)}}break;case 1:is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return);break;case 5:if(is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){fc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ge(s,u);var l=ge(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?le(i,h):"children"===f?fe(i,h):b(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ie(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?te(i,!!o.multiple,o.defaultValue,!0):te(i,!!o.multiple,o.multiple?[]:"",!1))}i[oi]=o}catch(y){fc(e,e.return,y)}}break;case 6:if(is(t,e),os(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){fc(e,e.return,y)}}break;case 3:if(is(t,e),os(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(y){fc(e,e.return,y)}break;case 4:is(t,e),os(e);break;case 13:is(t,e),os(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ts=Qe())),4&r&&rs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(zu=(l=zu)||f,is(t,e),zu=l):is(t,e),os(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(qu=e,f=e.child;null!==f;){for(h=qu=f;null!==qu;){switch(p=(d=qu).child,d.tag){case 0:case 11:case 14:case 15:Hu(4,d,d.return);break;case 1:Gu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){fc(r,n,y)}}break;case 5:Gu(d,d.return);break;case 22:if(null!==d.memoizedState){cs(h);continue}}null!==p?(p.return=d,qu=p):cs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(y){fc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){fc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(t,e),os(e),4&r&&rs(e);break;case 21:break;default:is(t,e),os(e)}}function os(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Xu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Ju(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Wr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Ju(e),o);break;default:throw Error(a(161))}}catch(u){fc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function us(e,t,n){qu=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==qu;){var a=qu,o=a.child;if(22===a.tag&&i){var u=null!==a.memoizedState||Vu;if(!u){var s=a.alternate,c=null!==s&&null!==s.memoizedState||zu;s=Vu;var l=zu;if(Vu=u,(zu=c)&&!l)for(qu=a;null!==qu;)c=(u=qu).child,22===u.tag&&null!==u.memoizedState?ls(a):null!==c?(c.return=u,qu=c):ls(a);for(;null!==o;)qu=o,e(o,n,r),o=o.sibling;qu=a,Vu=s,zu=l}ss(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,qu=o):ss(t)}}(e,t,n)}function ss(e){for(;null!==qu;){var t=qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Na(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Na(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}zu||512&t.flags&&$u(t)}catch(d){fc(t,t.return,d)}}if(t===e){qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,qu=n;break}qu=t.return}}function cs(e){for(;null!==qu;){var t=qu;if(t===e){qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qu=n;break}qu=t.return}}function ls(e){for(;null!==qu;){var t=qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){fc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){fc(t,i,s)}}var a=t.return;try{$u(t)}catch(s){fc(t,a,s)}break;case 5:var o=t.return;try{$u(t)}catch(s){fc(t,o,s)}}}catch(s){fc(t,t.return,s)}if(t===e){qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,qu=u;break}qu=t.return}}var fs,hs=Math.ceil,ds=k.ReactCurrentDispatcher,ps=k.ReactCurrentOwner,vs=k.ReactCurrentBatchConfig,ys=0,ms=null,gs=null,bs=0,ks=0,ws=mi(0),_s=0,Os=null,xs=0,js=0,Es=0,Ss=null,Is=null,Ts=0,Cs=1/0,Ns=null,As=!1,Rs=null,Ps=null,Ds=!1,Ls=null,Ms=0,Fs=0,Us=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ys)?Qe():-1!==Vs?Vs:Vs=Qe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==sa.transition?(0===zs&&(zs=ht()),zs):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Ht(e.type)}function Gs(e,t,n,r){if(50<Fs)throw Fs=0,Us=null,Error(a(185));pt(e,n,r),0!==(2&ys)&&e===ms||(e===ms&&(0===(2&ys)&&(js|=n),4===_s&&Qs(e,bs)),Ks(e,r),1===n&&0===ys&&0===(1&t.mode)&&(Cs=Qe()+500,Ai&&Di()))}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=lt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ct(e,e===ms?bs:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ai=!0,Pi(e)}($s.bind(null,e)):Pi($s.bind(null,e)),Zr(function(){0===(6&ys)&&Di()}),n=null;else{switch(mt(r)){case 1:n=Ye;break;case 4:n=Xe;break;case 16:n=Je;break;case 536870912:n=et;break;default:n=Je}n=dc(n,function e(t,n){Vs=-1;zs=0;if(0!==(6&ys))throw Error(a(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var i=ct(t,t===ms?bs:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=rc(t,i);else{n=i;var o=ys;ys|=2;var u=tc();for(ms===t&&bs===n||(Ns=null,Cs=Qe()+500,Zs(t,n));;)try{ac();break}catch(c){ec(t,c)}pa(),ds.current=u,ys=o,null!==gs?n=0:(ms=null,bs=0,n=_s)}if(0!==n){if(2===n&&(0!==(o=ft(t))&&(i=o,n=Ws(t,o))),1===n)throw r=Os,Zs(t,0),Qs(t,i),Ks(t,Qe()),r;if(6===n)Qs(t,i);else{if(o=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(n=rc(t,i))&&(0!==(u=ft(t))&&(i=u,n=Ws(t,u))),1===n))throw r=Os,Zs(t,0),Qs(t,i),Ks(t,Qe()),r;switch(t.finishedWork=o,t.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:sc(t,Is,Ns);break;case 3:if(Qs(t,i),(130023424&i)===i&&10<(n=Ts+500-Qe())){if(0!==ct(t,0))break;if(((o=t.suspendedLanes)&i)!==i){Bs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Yr(sc.bind(null,t,Is,Ns),n);break}sc(t,Is,Ns);break;case 4:if(Qs(t,i),(4194240&i)===i)break;for(n=t.eventTimes,o=-1;0<i;){var s=31-rt(i);u=1<<s,(s=n[s])>o&&(o=s),i&=~u}if(i=o,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hs(i/1960))-i)){t.timeoutHandle=Yr(sc.bind(null,t,Is,Ns),i);break}sc(t,Is,Ns);break;case 5:sc(t,Is,Ns);break;default:throw Error(a(329))}}}Ks(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ws(e,t){var n=Ss;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),2!==(e=rc(e,t))&&(t=Is,Is=n,null!==t&&Hs(t)),e}function Hs(e){null===Is?Is=e:Is.push.apply(Is,e)}function Qs(e,t){for(t&=~Es,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function $s(e){if(0!==(6&ys))throw Error(a(327));cc();var t=ct(e,0);if(0===(1&t))return Ks(e,Qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Ws(e,r))}if(1===n)throw n=Os,Zs(e,0),Qs(e,t),Ks(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,Is,Ns),Ks(e,Qe()),null}function Ys(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Cs=Qe()+500,Ai&&Di())}}function Xs(e){null!==Ls&&0===Ls.tag&&0===(6&ys)&&cc();var t=ys;ys|=1;var n=vs.transition,r=yt;try{if(vs.transition=null,yt=1,e)return e()}finally{yt=r,vs.transition=n,0===(6&(ys=t))&&Di()}}function Js(){ks=ws.current,gi(ws)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xr(n)),null!==gs)for(n=gs.return;null!==n;){var r=n;switch(Qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Xa(),gi(_i),gi(wi),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:gi(eo);break;case 10:va(r.type._context);break;case 22:case 23:Js()}n=n.return}if(ms=e,gs=e=mc(e.current,null),bs=ks=t,_s=0,Os=null,Es=js=xs=0,Is=Ss=null,null!==ba){for(t=0;t<ba.length;t++)if(null!==(r=(n=ba[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ba=null}return e}function ec(e,t){for(;;){var n=gs;try{if(pa(),io.current=Yo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){_s=1,Os=t,gs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(u);if(null!==p){p.flags&=-257,su(p,u,s,0,t),1&p.mode&&ou(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ou(o,l,t),nc();break e}c=Error(a(426))}else if(Xi&&1&s.mode){var m=uu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),su(m,u,s,0,t),ua(eu(c,s));break e}}o=c=eu(c,s),4!==_s&&(_s=2),null===Ss?Ss=[o]:Ss.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,iu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ps||!Ps.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,au(o,s,t));break e}}o=o.return}while(null!==o)}uc(n)}catch(k){t=k,gs===n&&null!==n&&(gs=n=n.return);continue}break}}function tc(){var e=ds.current;return ds.current=Yo,null===e?Yo:e}function nc(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===ms||0===(268435455&xs)&&0===(268435455&js)||Qs(ms,bs)}function rc(e,t){var n=ys;ys|=2;var r=tc();for(ms===e&&bs===t||(Ns=null,Zs(e,t));;)try{ic();break}catch(i){ec(e,i)}if(pa(),ys=n,ds.current=r,null!==gs)throw Error(a(261));return ms=null,bs=0,_s}function ic(){for(;null!==gs;)oc(gs)}function ac(){for(;null!==gs&&!We();)oc(gs)}function oc(e){var t=fs(e.alternate,e,ks);e.memoizedProps=e.pendingProps,null===t?uc(e):gs=t,ps.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fu(n,t,ks)))return void(gs=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(gs=n);if(null===e)return _s=6,void(gs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gs=t);gs=t=e}while(null!==t);0===_s&&(_s=5)}function sc(e,t,n){var r=yt,i=vs.transition;try{vs.transition=null,yt=1,function(e,t,n,r){do{cc()}while(null!==Ls);if(0!==(6&ys))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ms&&(gs=ms=null,bs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ds||(Ds=!0,dc(Je,function(){return cc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=vs.transition,vs.transition=null;var u=yt;yt=1;var s=ys;ys|=4,ps.current=null,function(e,t){if(Hr=zt,or(e=ar())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},zt=!1,qu=t;null!==qu;)if(e=(t=qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qu=e;else for(;null!==qu;){t=qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ca(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(w){fc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qu=e;break}qu=t.return}v=Wu,Wu=!1}(e,n),as(n,e),ur(Qr),zt=!!Hr,Qr=Hr=null,e.current=n,us(n,e,i),He(),ys=s,yt=u,vs.transition=o}else e.current=n;if(Ds&&(Ds=!1,Ls=e,Ms=i),0===(o=e.pendingLanes)&&(Ps=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ks(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(As)throw As=!1,e=Rs,Rs=null,e;0!==(1&Ms)&&0!==e.tag&&cc(),0!==(1&(o=e.pendingLanes))?e===Us?Fs++:(Fs=0,Us=e):Fs=0,Di()}(e,t,n,r)}finally{vs.transition=i,yt=r}return null}function cc(){if(null!==Ls){var e=mt(Ms),t=vs.transition,n=yt;try{if(vs.transition=null,yt=16>e?16:e,null===Ls)var r=!1;else{if(e=Ls,Ls=null,Ms=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,qu=e.current;null!==qu;){var o=qu,u=o.child;if(0!==(16&qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(qu=l;null!==qu;){var f=qu;switch(f.tag){case 0:case 11:case 15:Hu(8,f,o)}var h=f.child;if(null!==h)h.return=f,qu=h;else for(;null!==qu;){var d=(f=qu).sibling,p=f.return;if(Yu(f),f===l){qu=null;break}if(null!==d){d.return=p,qu=d;break}qu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,qu=u;else e:for(;null!==qu;){if(0!==(2048&(o=qu).flags))switch(o.tag){case 0:case 11:case 15:Hu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,qu=g;break e}qu=o.return}}var b=e.current;for(qu=b;null!==qu;){var k=(u=qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,qu=k;else e:for(u=b;null!==qu;){if(0!==(2048&(s=qu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(_){fc(s,s.return,_)}if(s===u){qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,qu=w;break e}qu=s.return}}if(ys=i,Di(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(_){}r=!0}return r}finally{yt=n,vs.transition=t}}return!1}function lc(e,t,n){e=Sa(e,t=iu(0,t=eu(n,t),1),1),t=Bs(),null!==e&&(pt(e,1,t),Ks(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ps||!Ps.has(r))){t=Sa(t,e=au(t,e=eu(n,e),1),1),e=Bs(),null!==t&&(pt(t,1,e),Ks(t,e));break}}t=t.return}}function hc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Bs();null!==(e=_a(e,t))&&(pt(e,t,n),Ks(e,n))}function dc(e,t){return Ge(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new pc(e,t,n,r)}function yc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function mc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)yc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case O:return bc(n.children,i,o,t);case x:u=8,i|=8;break;case j:return(e=vc(12,n,t,2|i)).elementType=j,e.lanes=o,e;case T:return(e=vc(13,n,t,i)).elementType=T,e.lanes=o,e;case C:return(e=vc(19,n,t,i)).elementType=C,e.lanes=o,e;case R:return kc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case S:u=9;break e;case I:u=11;break e;case N:u=14;break e;case A:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=vc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function bc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function _c(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xc(e,t,n,r,i,a,o,u,s){return e=new Oc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=vc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xa(a),e}function jc(e){if(!e)return ki;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Ii(e,n,t)}return t}function Ec(e,t,n,r,i,a,o,u,s){return(e=xc(n,r,!0,e,0,a,0,u,s)).context=jc(null),n=e.current,(a=Ea(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,Sa(n,a,i),e.current.lanes=i,pt(e,i,r),Ks(e,r),e}function Sc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ea(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Sa(i,t,o))&&(Gs(e,i,o,a),Ia(e,i,o)),o}function Ic(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cc(e,t){Tc(e,t),(e=e.alternate)&&Tc(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)lu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return lu=!1,function(e,t,n){switch(t.tag){case 3:ku(t),oa();break;case 5:Ja(t);break;case 1:ji(t.type)&&Ti(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(la,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Iu(e,t,n):(bi(eo,1&eo.current),null!==(e=Du(e,t,n))?e.sibling:null);bi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ru(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Du(e,t,n)}(e,t,n);lu=0!==(131072&e.flags)}else lu=!1,Xi&&0!==(1048576&t.flags)&&Wi(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pu(e,t),e=t.pendingProps;var i=xi(t,wi.current);ma(t,n),i=mo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Ti(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xa(t),i.updater=Pa,t.stateNode=i,i._reactInternals=t,Fa(t,r,e,n),t=bu(null,t,r,!0,o,n)):(t.tag=0,Xi&&o&&Hi(t),fu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return yc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ca(r,e),i){case 0:t=mu(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=du(null,t,r,ca(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,mu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 1:return r=t.type,i=t.pendingProps,gu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 3:e:{if(ku(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Ca(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=wu(e,t,r,n,i=eu(Error(a(423)),t));break e}if(r!==i){t=wu(e,t,r,n,i=eu(Error(a(424)),t));break e}for(Yi=ni(t.stateNode.containerInfo.firstChild),$i=t,Xi=!0,Ji=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oa(),r===i){t=Du(e,t,n);break e}fu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==o&&$r(r,o)&&(t.flags|=32),yu(e,t),fu(e,t,u,n),t.child;case 6:return null===e&&na(t),null;case 13:return Iu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):fu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,hu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 7:return fu(e,t,t.pendingProps,n),t.child;case 8:case 12:return fu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,bi(la,r._currentValue),r._currentValue=u,null!==o)if(tr(o.value,u)){if(o.children===i.children&&!_i.current){t=Du(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ea(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ya(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ya(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}fu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ma(t,n),r=r(i=ga(i)),t.flags|=1,fu(e,t,r,n),t.child;case 14:return i=ca(r=t.type,t.pendingProps),du(e,t,r,i=ca(r.type,i),n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ca(r,i),Pu(e,t),t.tag=1,ji(r)?(e=!0,Ti(t)):e=!1,ma(t,n),La(t,r,i),Fa(t,r,i,n),bu(null,t,r,!0,e,n);case 19:return Ru(e,t,n);case 22:return vu(e,t,n)}throw Error(a(156,t.tag))};var Nc="function"===typeof reportError?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}function Rc(e){this._internalRoot=e}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Dc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Lc(){}function Mc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Ic(o);u.call(e)}}Sc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Ic(o);a.call(e)}}var o=Ec(t,r,e,0,null,!1,0,"",Lc);return e._reactRootContainer=o,e[ui]=o.current,Dr(8===e.nodeType?e.parentNode:e),Xs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Ic(s);u.call(e)}}var s=xc(e,0,!1,null,0,!1,0,"",Lc);return e._reactRootContainer=s,e[ui]=s.current,Dr(8===e.nodeType?e.parentNode:e),Xs(function(){Sc(t,s,n,r)}),s}(n,t,e,i,r);return Ic(o)}Rc.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Sc(e,t,null,null)},Rc.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xs(function(){Sc(null,e,null,null)}),t[ui]=null}},Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Pt(e)}},gt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Ks(t,Qe()),0===(6&ys)&&(Cs=Qe()+500,Di()))}break;case 13:Xs(function(){var t=_a(e,1);if(null!==t){var n=Bs();Gs(t,e,1,n)}}),Cc(e,1)}},bt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)Gs(t,e,134217728,Bs());Cc(e,134217728)}},kt=function(e){if(13===e.tag){var t=qs(e),n=_a(e,t);if(null!==n)Gs(n,e,t,Bs());Cc(e,t)}},wt=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(a(90));W(r),X(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Se=Ys,Ie=Xs;var Fc={usingClientEntryPoint:!1,Events:[hi,di,pi,je,Ee,Ys]},Uc={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vc={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tt=zc.inject(Vc),nt=zc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Pc(e))throw Error(a(299));var n=!1,r="",i=Nc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=xc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Dr(8===e.nodeType?e.parentNode:e),new Ac(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Xs(e)},t.hydrate=function(e,t,n){if(!Dc(t))throw Error(a(200));return Mc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Nc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ec(t,null,e,1,null!=n?n:null,i,0,o,u),e[ui]=t.current,Dr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Rc(t)},t.render=function(e,t,n){if(!Dc(t))throw Error(a(200));return Mc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Dc(e))throw Error(a(40));return!!e._reactRootContainer&&(Xs(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},t.unstable_batchedUpdates=Ys,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Mc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(86)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,x=!1,j=null,E=-1,S=5,I=-1;function T(){return!(t.unstable_now()-I<S)}function C(){if(null!==j){var e=t.unstable_now();I=e;var n=!0;try{n=j(!0,e)}finally{n?O():(x=!1,j=null)}}else x=!1}if("function"===typeof b)O=function(){b(C)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=C,O=function(){A.postMessage(null)}}else O=function(){m(C,0)};function R(e){j=e,x||(x=!0,O())}function P(e,n){E=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(E),E=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(87).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(88),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(48))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},s.clearImmediate=c}function c(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(48),n(55))},function(e,t,n){},function(e,t,n){"use strict";var r=n(5),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";e.exports=n(92)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||_(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===u},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},,function(e,t,n){"use strict";var r,i=n(11),a=n(0),o=n(2),u=n(4),s=n(3),c=n(13),l=n(20),f=n(1),h=n(18),d=n(14),p=n(51);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=1e4,b="w:".concat("0.5.12"),k="FIS_v2",w="https://firebaseinstallations.googleapis.com/v1",_=36e5,O=(r={},Object(u.a)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(u.a)(r,"not-registered","Firebase Installation is not registered."),Object(u.a)(r,"installation-not-found","Firebase Installation not found."),Object(u.a)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Object(u.a)(r,"app-offline","Could not process request. Application offline."),Object(u.a)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),x=new f.b("installations","Installations",O);function j(e){return e instanceof f.c&&e.code.includes("request-failed")}function E(e){var t=e.projectId;return"".concat(w,"/projects/").concat(t,"/installations")}function S(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function I(e,t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(v().mark(function e(t,n){var r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",x.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N(e,t){var n=t.refreshToken,r=C(e);return r.append("Authorization",function(e){return"".concat(k," ").concat(e)}(n)),r}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(v().mark(function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=E(r),u=C(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:k,appId:r.appId,sdkVersion:b},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,A(function(){return fetch(o,f)});case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:S(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,I("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return new Promise(function(t){setTimeout(t,e)})}var M=/^[cdef][\w-]{21}$/,F="";function U(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(d.a)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return M.test(t)?t:F}catch(n){return F}}function V(e){return"".concat(e.appName,"!").concat(e.appId)}var z=new Map;function B(e,t){var n=V(e);q(n,t),function(e,t){var n=K();n&&n.postMessage({key:e,fid:t});W()}(n,t)}function q(e,t){var n=z.get(e);if(n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var G=null;function K(){return!G&&"BroadcastChannel"in self&&((G=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){q(e.data.key,e.data.fid)}),G}function W(){0===z.size&&G&&(G.close(),G=null)}var H="firebase-installations-database",Q=1,$="firebase-installations-store",Y=null;function X(){return Y||(Y=Object(p.a)(H,Q,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore($)}}})),Y}function J(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(s.a)(v().mark(function e(t,n){var r,i,a,o,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,X();case 3:return i=e.sent,a=i.transaction($,"readwrite"),o=a.objectStore($),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||B(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(s.a)(v().mark(function e(t){var n,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=V(t),e.next=3,X();case 3:return r=e.sent,i=r.transaction($,"readwrite"),e.next=7,i.objectStore($).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(s.a)(v().mark(function e(t,n){var r,i,a,o,u,s;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,X();case 3:return i=e.sent,a=i.transaction($,"readwrite"),o=a.objectStore($),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||B(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(s.a)(v().mark(function e(t){var n,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t.appConfig,function(e){var r=oe(e),i=ue(t,r);return n=i.registrationPromise,i.installationEntry});case 2:if((r=e.sent).fid!==F){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e){return he(e||{fid:U(),registrationStatus:0})}function ue(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(x.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return se.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ce(e)}:{installationEntry:t}}function se(){return(se=Object(s.a)(v().mark(function e(t,n){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n);case 3:return r=e.sent,e.abrupt("return",J(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!j(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,ee(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,J(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(s.a)(v().mark(function e(t){var n,r,i,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,L(100);case 6:return e.next=8,fe(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ie(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(e){return ne(e,function(e){if(!e)throw x.create("installation-not-found");return he(e)})}function he(e){return 1===(t=e).registrationStatus&&t.registrationTime+g<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(s.a)(v().mark(function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ve(r,n),o=N(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:b,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,A(function(){return fetch(a,l)});case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=S(h),e.abrupt("return",d);case 22:return e.next=24,I("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e,t){var n=t.fid;return"".concat(E(e),"/").concat(n,"/authTokens:generate")}function ye(e){return me.apply(this,arguments)}function me(){return(me=Object(s.a)(v().mark(function e(t){var n,r,i,a,o=arguments;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ne(t.appConfig,function(e){if(!Oe(e))throw x.create("not-registered");var i,a=e.authToken;if(n||2!==(i=a).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_}(i)){if(1===a.requestStatus)return r=ge(t,n),e;if(!navigator.onLine)throw x.create("app-offline");var o=xe(e);return r=we(t,o),o}return e});case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(s.a)(v().mark(function e(t,n){var r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,L(100);case 6:return e.next=8,ke(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ye(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(e){return ne(e,function(e){if(!Oe(e))throw x.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+g<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function we(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(s.a)(v().mark(function e(t,n){var r,i,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,J(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!j(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,ee(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,J(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function Oe(e){return void 0!==e&&2===e.registrationStatus}function xe(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function je(){return(je=Object(s.a)(v().mark(function e(t){var n,r,i,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ie(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):ye(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(){return(Ee=Object(s.a)(v().mark(function e(t){var n,r,i,a=arguments;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Se(r);case 4:return e.next=6,ye(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(s.a)(v().mark(function e(t){var n,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e){return x.create("missing-app-config-values",{valueName:e})}var Ce,Ne="installations",Ae="installations-internal",Re=function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw Te("App Configuration");if(!e.name)throw Te("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Te(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Object(c._getProvider)(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Pe=function(e){var t=e.getProvider("app").getImmediate(),n=Object(c._getProvider)(t,Ne).getImmediate();return{getId:function(){return function(e){return je.apply(this,arguments)}(n)},getToken:function(e){return function(e){return Ee.apply(this,arguments)}(n,e)}}};function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(){Me=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}Object(c._registerComponent)(new h.a(Ne,Re,"PUBLIC")),Object(c._registerComponent)(new h.a(Ae,Pe,"PRIVATE")),Object(c.registerVersion)("@firebase/installations","0.5.12"),Object(c.registerVersion)("@firebase/installations","0.5.12","esm2017");var Fe="analytics",Ue="firebase_id",Ve="origin",ze=6e4,Be="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qe="https://www.googletagmanager.com/gtag/js",Ge=new l.b("@firebase/analytics");function Ke(e){return Promise.all(e.map(function(e){return e.catch(function(e){return e})}))}function We(e,t){var n=document.createElement("script");n.src="".concat(qe,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function He(e,t,n,r,i,a){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(s.a)(Me().mark(function e(t,n,r,i,a,o){var u,s,c;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Ke(r);case 9:if(s=e.sent,!(c=s.find(function(e){return e.measurementId===a}))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Ge.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function $e(e,t,n,r,i){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(s.a)(Me().mark(function e(t,n,r,i,a){var o,u,s,c,l,f;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Ke(r);case 7:s=e.sent,c=De(u),e.prev=9,f=function(){var e=l.value,t=s.find(function(t){return t.measurementId===e}),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Ge.error(e.t1);case 35:case"end":return e.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function Xe(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Object(s.a)(Me().mark(function i(a,o,u){return Me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,$e(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,He(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Ge.error(i.t0);case 17:case"end":return i.stop()}},i,null,[[0,14]])}))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Je(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(qe))return r}return null}var Ze=(Ce={},Object(u.a)(Ce,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Object(u.a)(Ce,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Object(u.a)(Ce,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Object(u.a)(Ce,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Object(u.a)(Ce,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(u.a)(Ce,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(u.a)(Ce,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Object(u.a)(Ce,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Object(u.a)(Ce,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Object(u.a)(Ce,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Ce),et=new f.b("analytics","Analytics",Ze),tt=30,nt=1e3,rt=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;Object(a.a)(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Object(o.a)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function it(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function at(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(s.a)(Me().mark(function e(t){var n,r,i,a,o,u,s,c;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:it(i)},o=Be.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw et.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}},e,null,[[8,15]])}))).apply(this,arguments)}function ut(e){return st.apply(this,arguments)}function st(){return(st=Object(s.a)(Me().mark(function e(t){var n,r,i,a,o,u,c,l,f=arguments;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:rt,r=f.length>2?f[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw et.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw et.create("no-api-key");case 9:return c=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new vt,setTimeout(Object(s.a)(Me().mark(function e(){return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}},e)})),void 0!==r?r:ze),e.abrupt("return",ct({appId:a,apiKey:o,measurementId:u},c,l,n));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e,t,n){return lt.apply(this,arguments)}function lt(){return(lt=Object(s.a)(Me().mark(function e(t,n,r){var i,a,o,u,s,c,l,h,d,p,v,y=arguments;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=y.length>3&&void 0!==y[3]?y[3]:rt,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,ft(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return Ge.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,at(t);case 17:return h=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",h);case 22:if(e.prev=22,e.t1=e.catch(14),ht(d=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return Ge.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===d||void 0===d?void 0:d.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return p=503===Number(null===(s=null===d||void 0===d?void 0:d.customData)||void 0===s?void 0:s.httpStatus)?Object(f.l)(a,o.intervalMillis,tt):Object(f.l)(a,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:a+1},o.setThrottleMetadata(c,v),Ge.debug("Calling attemptFetch again in ".concat(p," millis")),e.abrupt("return",ct(t,v,r,o));case 38:case"end":return e.stop()}},e,null,[[3,8],[14,22]])}))).apply(this,arguments)}function ft(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(et.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ht(e){if(!(e instanceof f.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var dt,pt,vt=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function yt(){return(yt=Object(s.a)(Me().mark(function e(t,n,r,i,a){var o,u;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(e){pt=e}function gt(e){dt=e}function bt(){return kt.apply(this,arguments)}function kt(){return(kt=Object(s.a)(Me().mark(function e(){var t;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.C)()){e.next=5;break}return Ge.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Object(f.R)();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Ge.warn(et.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,null,[[5,10]])}))).apply(this,arguments)}function wt(){return(wt=Object(s.a)(Me().mark(function e(t,n,r,a,o,u,s){var c,l,f,h,d,p,v,y;return Me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(l=ut(t)).then(function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ge.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return Ge.error(e)}),n.push(l),f=bt().then(function(e){return e?a.getId():void 0}),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=Object(i.a)(h,2),p=d[0],v=d[1],Je()||We(u,p.measurementId),pt&&(o("consent","default",pt),mt(void 0)),o("js",new Date),(y=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{})[Ve]="firebase",y.update=!0,null!=v&&(y[Ue]=v),o("config",p.measurementId,y),dt&&(o("set",dt),gt(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _t,Ot,xt=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"_delete",value:function(){return delete jt[this.app.options.appId],Promise.resolve()}}]),e}(),jt={},Et=[],St={},It="dataLayer",Tt="gtag",Ct=!1;function Nt(e,t,n){!function(){var e=[];if(Object(f.y)()&&e.push("This is a browser extension environment."),Object(f.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"(".concat(t+1,") ").concat(e)}).join(" "),n=et.create("invalid-analytics-context",{errorInfo:t});Ge.warn(n.message)}}();var r=e.options.appId;if(!r)throw et.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw et.create("no-api-key");Ge.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jt[r])throw et.create("already-exists",{id:r});if(!Ct){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(It);var i=Xe(jt,Et,St,It,Tt),a=i.wrappedGtag,o=i.gtagCore;Ot=a,_t=o,Ct=!0}return jt[r]=function(e,t,n,r,i,a,o){return wt.apply(this,arguments)}(e,Et,St,t,_t,It,n),new xt(e)}function At(e,t,n,r){e=Object(f.u)(e),function(e,t,n,r,i){return yt.apply(this,arguments)}(Ot,jt[e.app.options.appId],t,n,r).catch(function(e){return Ge.error(e)})}var Rt="@firebase/analytics",Pt="0.8.0";Object(c._registerComponent)(new h.a(Fe,function(e,t){var n=t.options;return Nt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Object(c._registerComponent)(new h.a("analytics-internal",function(e){try{var t=e.getProvider(Fe).getImmediate();return{logEvent:function(e,n,r){return At(t,e,n,r)}}}catch(n){throw et.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Object(c.registerVersion)(Rt,Pt),Object(c.registerVersion)(Rt,Pt,"esm2017")},function(e,t,n){"use strict";var r=n(42),i=n(8),a=n(6),o=n(7),u=n(0),s=n(2),c=n(40),l=n(9),f=n(1),h=n(18);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v="@firebase/firestore-compat",y="0.1.23";function m(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function g(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function b(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var k=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return b(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return g(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return b(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return g(),new e(l.b.fromUint8Array(t))}}]),e}();function w(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),O=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"collection",value:function(e){try{return new M(this,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new I(this,Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new P(this,Object(l.z)(this._delegate,e))}catch(t){throw T(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,function(n){return e(new j(t,n))})}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new E(new l.l(this._delegate,function(t){return Object(l.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then(function(e){return e?new P(t,e):null})}},{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}}]),e}(),x=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(a.a)(t).call(this))).firestore=e,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"convertBytes",value:function(e){return new k(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return I.forKey(t,this.firestore,null)}}]),t}(l.a);var j=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=F(e);return this._delegate.get(n).then(function(e){return new A(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=F(e);return n?(m("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}}]),e}(),E=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=F(e);return n?(m("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),S=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new x(t),n),i.set(n,a)),a}}]),e}();S.INSTANCES=new WeakMap;var I=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"collection",value:function(e){try{return new M(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.u)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=m("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw T(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw T(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=N(n,function(t){return new A(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then(function(e){return new A(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function T(e,t,n){return e.message=e.message.replace(t,n),e}function C(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!w(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function N(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=w(e[0])?e[0]:w(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var A=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"ref",get:function(){return new I(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}}]),e}(),R=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),t}(A),P=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw T(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw T(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw T(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw T(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw T(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw T(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw T(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw T(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then(function(e){return new L(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=N(n,function(t){return new L(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new R(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),L=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new D(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new R(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"query",get:function(){return new P(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new R(e._firestore,t)})}}]),e}(),M=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,n))).firestore=e,r._delegate=n,r}return Object(o.a)(t,e),Object(s.a)(t,[{key:"doc",value:function(e){try{return new I(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then(function(e){return new I(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(S.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new I(this.firestore,e):null}}]),t}(P);function F(e){return Object(l.p)(e,l.d)}var U=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.u)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),V=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),z={Firestore:O,GeoPoint:l.h,Timestamp:l.k,Blob:k,Transaction:j,WriteBatch:E,DocumentReference:I,DocumentSnapshot:A,Query:P,QueryDocumentSnapshot:R,QuerySnapshot:L,CollectionReference:M,FieldPath:U,FieldValue:V,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new O(e,t,new _)},e.INTERNAL.registerComponent(new h.a("firestore-compat",function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},z))),e.registerVersion(v,y)}(c.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(97),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.a.generate(e),"-").concat(t)}},function(e,t,n){"use strict";var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();t.a=i},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return f});var r=n(53);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(r.a)(10,i))}else o=o.split(",");return{type:n,values:o=o.map(function(e){return parseFloat(e)}),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map(function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach(function(i){r[i]=e[i].reduce(function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e},[]).join(" ")}),r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(96);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach(function(t){i[t]=Object(r.a)(e,t,n)}),i}},function(e,t,n){"use strict";var r=n(4),i=n(35),a=n(50),o=n(24);var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b,t=Object.keys(e).reduce(function(t,n){return e[n].filterProps.forEach(function(r){t[r]=e[n]}),t},{});function n(e,n,i){var a,o=(a={},Object(r.a)(a,e,n),Object(r.a)(a,"theme",i),a),u=t[e];return u?u(o):Object(r.a)({},e,n)}return function e(a){var u=a||{},s=u.sx,c=u.theme,l=void 0===c?{}:c;if(!s)return null;function f(a){var u=a;if("function"===typeof a)u=a(l);else if("object"!==typeof a)return a;if(!u)return null;var s=Object(o.a)(l.breakpoints),c=Object.keys(s),f=s;return Object.keys(u).forEach(function(a){var s,c,h=(s=u[a],c=l,"function"===typeof s?s(c):s);if(null!==h&&void 0!==h)if("object"===typeof h)if(t[a])f=Object(i.a)(f,n(a,h,l));else{var d=Object(o.b)({theme:l},h,function(e){return Object(r.a)({},a,e)});!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e.concat(Object.keys(t))},[]),i=new Set(r);return t.every(function(e){return i.size===Object.keys(e).length})}(d,h)?f=Object(i.a)(f,d):f[a]=e({sx:h,theme:l})}else f=Object(i.a)(f,n(a,h,l))}),Object(o.c)(c,f)}return Array.isArray(s)?s.map(f):f(s)}}();u.filterProps=["sx"],t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),i=n(49);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(10);function i(e,t){var n=Object(r.a)({},t);return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(14),i=n(10),a=n(15),o=n(62),u=n(50),s=["sx"],c=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(function(n){u.a[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function l(e){var t,n=e.sx,u=Object(a.a)(e,s),l=c(u),f=l.systemProps,h=l.otherProps;return t=Array.isArray(n)?[f].concat(Object(r.a)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Object(o.b)(e)?Object(i.a)({},f,e):f}:Object(i.a)({},f,n),Object(i.a)({},h,{sx:t})}},function(e,t,n){"use strict";var r=n(4),i=n(15),a=n(10),o=n(5),u=n.n(o),s=n(17),c=n(114),l=n(110),f=n(109),h=n(21),d=n(27),p=n(11),v=n(45),y="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var m=function(e){var t=o.useRef(e);return y(function(){t.current=e}),o.useCallback(function(){return t.current.apply(void 0,arguments)},[])},g=n(52),b=n(14);function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _=u.a.createContext(null);function O(e,t){var n=Object.create(null);return e&&o.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)}),n}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function j(e,t,n){var r=O(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach(function(a){var u=i[a];if(Object(o.isValidElement)(u)){var s=a in t,c=a in r,l=t[a],f=Object(o.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:x(u,"exit",e),enter:x(u,"enter",e)})):i[a]=Object(o.cloneElement)(u,{in:!1}):i[a]=Object(o.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:x(u,"exit",e),enter:x(u,"enter",e)})}}),i}var E=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},S=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n);var s=r.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,O(n.children,function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:x(e,"appear",n),enter:x(e,"enter",n),exit:x(e,"exit",n)})})):j(e,i,a),firstRender:!1}},s.handleExited=function(e,t){var n=O(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}}))},s.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(i.a)(e,["component","childFactory"]),a=this.state.contextValue,o=E(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(_.Provider,{value:a},o):u.a.createElement(_.Provider,{value:a},u.a.createElement(t,r,o))},r}(u.a.Component);S.propTypes={},S.defaultProps={component:"div",childFactory:function(e){return e}};var I=S,T=n(39),C=n(16);var N=function(e){var t=e.className,n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,u=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=o.useState(!1),v=Object(p.a)(d,2),y=v[0],m=v[1],g=Object(s.a)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),b={width:c,height:c,top:-c/2+u,left:-c/2+a},k=Object(s.a)(n.child,y&&n.childLeaving,i&&n.childPulsate);return l||y||m(!0),o.useEffect(function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}},[f,l,h]),Object(C.jsx)("span",{className:g,style:b,children:Object(C.jsx)("span",{className:k})})},A=n(96),R=n(111);var P,D,L,M,F,U,V,z,B=Object(R.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),q=["center","classes","className"],G=function(e){return e},K=Object(T.a)(F||(F=G(P||(P=k(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))))),W=Object(T.a)(U||(U=G(D||(D=k(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))))),H=Object(T.a)(V||(V=G(L||(L=k(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))))),Q=Object(h.a)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$=Object(h.a)(N,{name:"MuiTouchRipple",slot:"Ripple"})(z||(z=G(M||(M=k(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])))),B.rippleVisible,K,550,function(e){return e.theme.transitions.easing.easeInOut},B.ripplePulsate,function(e){return e.theme.transitions.duration.shorter},B.child,B.childLeaving,W,550,function(e){return e.theme.transitions.easing.easeInOut},B.childPulsate,H,function(e){return e.theme.transitions.easing.easeInOut}),Y=o.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiTouchRipple"}),r=n.center,u=void 0!==r&&r,c=n.classes,l=void 0===c?{}:c,f=n.className,h=Object(i.a)(n,q),v=o.useState([]),y=Object(p.a)(v,2),m=y[0],g=y[1],k=o.useRef(0),w=o.useRef(null);o.useEffect(function(){w.current&&(w.current(),w.current=null)},[m]);var _=o.useRef(!1),O=o.useRef(null),x=o.useRef(null),j=o.useRef(null);o.useEffect(function(){return function(){clearTimeout(O.current)}},[]);var E=o.useCallback(function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;g(function(e){return[].concat(Object(b.a)(e),[Object(C.jsx)($,{classes:{ripple:Object(s.a)(l.ripple,B.ripple),rippleVisible:Object(s.a)(l.rippleVisible,B.rippleVisible),ripplePulsate:Object(s.a)(l.ripplePulsate,B.ripplePulsate),child:Object(s.a)(l.child,B.child),childLeaving:Object(s.a)(l.childLeaving,B.childLeaving),childPulsate:Object(s.a)(l.childPulsate,B.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},k.current)])}),k.current+=1,w.current=a},[l]),S=o.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?u||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&_.current)_.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(_.current=!0);var l,f,h,d=c?null:j.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,y=v.clientX,m=v.clientY;l=Math.round(y-p.left),f=Math.round(m-p.top)}if(o)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){E({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},O.current=setTimeout(function(){x.current&&(x.current(),x.current=null)},80)):E({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}},[u,E]),T=o.useCallback(function(){S({},{pulsate:!0})},[S]),N=o.useCallback(function(e,t){if(clearTimeout(O.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(O.current=setTimeout(function(){N(e,t)}));x.current=null,g(function(e){return e.length>0?e.slice(1):e}),w.current=t},[]);return o.useImperativeHandle(t,function(){return{pulsate:T,start:S,stop:N}},[T,S,N]),Object(C.jsx)(Q,Object(a.a)({className:Object(s.a)(B.root,l.root,f),ref:j},h,{children:Object(C.jsx)(I,{component:null,exit:!0,children:m})}))});function X(e){return Object(A.a)("MuiButtonBase",e)}var J,Z=Object(R.a)("MuiButtonBase",["root","disabled","focusVisible"]),ee=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],te=Object(h.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((J={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(r.a)(J,"&.".concat(Z.disabled),{pointerEvents:"none",cursor:"default"}),Object(r.a)(J,"@media print",{colorAdjust:"exact"}),J)),ne=o.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiButtonBase"}),r=n.action,u=n.centerRipple,c=void 0!==u&&u,f=n.children,h=n.className,y=n.component,b=void 0===y?"button":y,k=n.disabled,w=void 0!==k&&k,_=n.disableRipple,O=void 0!==_&&_,x=n.disableTouchRipple,j=void 0!==x&&x,E=n.focusRipple,S=void 0!==E&&E,I=n.LinkComponent,T=void 0===I?"a":I,N=n.onBlur,A=n.onClick,R=n.onContextMenu,P=n.onDragLeave,D=n.onFocus,L=n.onFocusVisible,M=n.onKeyDown,F=n.onKeyUp,U=n.onMouseDown,V=n.onMouseLeave,z=n.onMouseUp,B=n.onTouchEnd,q=n.onTouchMove,G=n.onTouchStart,K=n.tabIndex,W=void 0===K?0:K,H=n.TouchRippleProps,Q=n.touchRippleRef,$=n.type,J=Object(i.a)(n,ee),Z=o.useRef(null),ne=o.useRef(null),re=Object(v.a)(ne,Q),ie=Object(g.a)(),ae=ie.isFocusVisibleRef,oe=ie.onFocus,ue=ie.onBlur,se=ie.ref,ce=o.useState(!1),le=Object(p.a)(ce,2),fe=le[0],he=le[1];w&&fe&&he(!1),o.useImperativeHandle(r,function(){return{focusVisible:function(){he(!0),Z.current.focus()}}},[]);var de=o.useState(!1),pe=Object(p.a)(de,2),ve=pe[0],ye=pe[1];o.useEffect(function(){ye(!0)},[]);var me=ve&&!O&&!w;function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;return m(function(r){return t&&t(r),!n&&ne.current&&ne.current[e](r),!0})}o.useEffect(function(){fe&&S&&!O&&ve&&ne.current.pulsate()},[O,S,fe,ve]);var be=ge("start",U),ke=ge("stop",R),we=ge("stop",P),_e=ge("stop",z),Oe=ge("stop",function(e){fe&&e.preventDefault(),V&&V(e)}),xe=ge("start",G),je=ge("stop",B),Ee=ge("stop",q),Se=ge("stop",function(e){ue(e),!1===ae.current&&he(!1),N&&N(e)},!1),Ie=m(function(e){Z.current||(Z.current=e.currentTarget),oe(e),!0===ae.current&&(he(!0),L&&L(e)),D&&D(e)}),Te=function(){var e=Z.current;return b&&"button"!==b&&!("A"===e.tagName&&e.href)},Ce=o.useRef(!1),Ne=m(function(e){S&&!Ce.current&&fe&&ne.current&&" "===e.key&&(Ce.current=!0,ne.current.stop(e,function(){ne.current.start(e)})),e.target===e.currentTarget&&Te()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&Te()&&"Enter"===e.key&&!w&&(e.preventDefault(),A&&A(e))}),Ae=m(function(e){S&&" "===e.key&&ne.current&&fe&&!e.defaultPrevented&&(Ce.current=!1,ne.current.stop(e,function(){ne.current.pulsate(e)})),F&&F(e),A&&e.target===e.currentTarget&&Te()&&" "===e.key&&!e.defaultPrevented&&A(e)}),Re=b;"button"===Re&&(J.href||J.to)&&(Re=T);var Pe={};"button"===Re?(Pe.type=void 0===$?"button":$,Pe.disabled=w):(J.href||J.to||(Pe.role="button"),w&&(Pe["aria-disabled"]=w));var De=Object(v.a)(se,Z),Le=Object(v.a)(t,De);var Me=Object(a.a)({},n,{centerRipple:c,component:b,disabled:w,disableRipple:O,disableTouchRipple:j,focusRipple:S,tabIndex:W,focusVisible:fe}),Fe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=Object(l.a)(a,X,i);return n&&r&&(o.root+=" ".concat(r)),o}(Me);return Object(C.jsxs)(te,Object(a.a)({as:Re,className:Object(s.a)(Fe.root,h),ownerState:Me,onBlur:Se,onClick:A,onContextMenu:ke,onFocus:Ie,onKeyDown:Ne,onKeyUp:Ae,onMouseDown:be,onMouseLeave:Oe,onMouseUp:_e,onDragLeave:we,onTouchEnd:je,onTouchMove:Ee,onTouchStart:xe,ref:Le,tabIndex:w?-1:W,type:$},Pe,J,{children:[f,me?Object(C.jsx)(Y,Object(a.a)({ref:re,center:c},H)):null]}))}),re=n(25);function ie(e){return Object(A.a)("MuiButton",e)}var ae=Object(R.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var oe=o.createContext({}),ue=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],se=["root"],ce=function(e){return Object(a.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},le=Object(h.a)(ne,{shouldForwardProp:function(e){return Object(h.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(re.a)(n.color))],t["size".concat(Object(re.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(re.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(function(e){var t,n,i,o=e.theme,u=e.ownerState;return Object(a.a)({},o.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":Object(a.a)({textDecoration:"none",backgroundColor:o.vars?"rgba(".concat(o.vars.palette.text.primaryChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===u.variant&&"inherit"!==u.color&&{backgroundColor:o.vars?"rgba(".concat(o.vars.palette[u.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette[u.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===u.variant&&"inherit"!==u.color&&{border:"1px solid ".concat((o.vars||o).palette[u.color].main),backgroundColor:o.vars?"rgba(".concat(o.vars.palette[u.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette[u.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===u.variant&&{backgroundColor:(o.vars||o).palette.grey.A100,boxShadow:(o.vars||o).shadows[4],"@media (hover: none)":{boxShadow:(o.vars||o).shadows[2],backgroundColor:(o.vars||o).palette.grey[300]}},"contained"===u.variant&&"inherit"!==u.color&&{backgroundColor:(o.vars||o).palette[u.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[u.color].main}}),"&:active":Object(a.a)({},"contained"===u.variant&&{boxShadow:(o.vars||o).shadows[8]})},Object(r.a)(t,"&.".concat(ae.focusVisible),Object(a.a)({},"contained"===u.variant&&{boxShadow:(o.vars||o).shadows[6]})),Object(r.a)(t,"&.".concat(ae.disabled),Object(a.a)({color:(o.vars||o).palette.action.disabled},"outlined"===u.variant&&{border:"1px solid ".concat((o.vars||o).palette.action.disabledBackground)},"outlined"===u.variant&&"secondary"===u.color&&{border:"1px solid ".concat((o.vars||o).palette.action.disabled)},"contained"===u.variant&&{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground})),t),"text"===u.variant&&{padding:"6px 8px"},"text"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].main},"outlined"===u.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].main,border:o.vars?"1px solid rgba(".concat(o.vars.palette[u.color].mainChannel," / 0.5)"):"1px solid ".concat(Object(f.a)(o.palette[u.color].main,.5))},"contained"===u.variant&&{color:o.vars?o.vars.palette.text.primary:null==(n=(i=o.palette).getContrastText)?void 0:n.call(i,o.palette.grey[300]),backgroundColor:(o.vars||o).palette.grey[300],boxShadow:(o.vars||o).shadows[2]},"contained"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].contrastText,backgroundColor:(o.vars||o).palette[u.color].main},"inherit"===u.color&&{color:"inherit",borderColor:"currentColor"},"small"===u.size&&"text"===u.variant&&{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"text"===u.variant&&{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},"small"===u.size&&"outlined"===u.variant&&{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"outlined"===u.variant&&{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},"small"===u.size&&"contained"===u.variant&&{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"contained"===u.variant&&{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},u.fullWidth&&{width:"100%"})},function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(ae.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(ae.disabled),{boxShadow:"none"}),t)}),fe=Object(h.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(re.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ce(t))}),he=Object(h.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(re.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ce(t))}),de=o.forwardRef(function(e,t){var n=o.useContext(oe),r=Object(c.a)(n,e),u=Object(d.a)({props:r,name:"MuiButton"}),f=u.children,h=u.color,p=void 0===h?"primary":h,v=u.component,y=void 0===v?"button":v,m=u.className,g=u.disabled,b=void 0!==g&&g,k=u.disableElevation,w=void 0!==k&&k,_=u.disableFocusRipple,O=void 0!==_&&_,x=u.endIcon,j=u.focusVisibleClassName,E=u.fullWidth,S=void 0!==E&&E,I=u.size,T=void 0===I?"medium":I,N=u.startIcon,A=u.type,R=u.variant,P=void 0===R?"text":R,D=Object(i.a)(u,ue),L=Object(a.a)({},u,{color:p,component:y,disabled:b,disableElevation:w,disableFocusRipple:O,fullWidth:S,size:T,type:A,variant:P}),M=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,u=e.classes,s={root:["root",o,"".concat(o).concat(Object(re.a)(t)),"size".concat(Object(re.a)(i)),"".concat(o,"Size").concat(Object(re.a)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(re.a)(i))],endIcon:["endIcon","iconSize".concat(Object(re.a)(i))]},c=Object(l.a)(s,ie,u);return Object(a.a)({},u,c)}(L),F=M.root,U=Object(i.a)(M,se),V=N&&Object(C.jsx)(fe,{className:U.startIcon,ownerState:L,children:N}),z=x&&Object(C.jsx)(he,{className:U.endIcon,ownerState:L,children:x});return Object(C.jsxs)(le,Object(a.a)({ownerState:L,className:Object(s.a)(n.className,F,m),component:y,disabled:b,focusRipple:!O,focusVisibleClassName:Object(s.a)(U.focusVisible,j),ref:t,type:A},D,{classes:U,children:[V,f,z]}))});t.a=de},function(e,t,n){"use strict";var r=n(10),i=n(15),a=n(62),o=n(4),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map(function(t){return{key:t,val:e[t]}})||[];return t.sort(function(e,t){return e.val-t.val}),t.reduce(function(e,t){return Object(r.a)({},e,Object(o.a)({},t.key,t.val))},{})};var c={borderRadius:4},l=n(29);var f=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,h=void 0===o?{}:o,d=e.spacing,p=e.shape,v=void 0===p?{}:p,y=Object(i.a)(e,f),m=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=Object(i.a)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function y(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return Object(r.a)({keys:d,values:h,up:p,down:v,between:y,only:function(e){return d.indexOf(e)+1<d.length?y(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):y(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(l.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(d),b=Object(a.a)({breakpoints:m,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},h),spacing:g,shape:Object(r.a)({},c,v)},y),k=arguments.length,w=new Array(k>1?k-1:0),_=1;_<k;_++)w[_-1]=arguments[_];return b=w.reduce(function(e,t){return Object(a.a)(e,t)},b)}},function(e,t,n){"use strict";var r=n(10),i=n(15),a=n(5),o=n(17),u=n(110),s=n(21),c=n(27),l=n(109),f=n(96),h=n(111);function d(e){return Object(f.a)("MuiPaper",e)}Object(h.a)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p=n(16),v=["className","component","elevation","square","variant"],y=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},m=Object(s.a)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(function(e){var t,n=e.theme,i=e.ownerState;return Object(r.a)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!i.square&&{borderRadius:n.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===i.variant&&Object(r.a)({boxShadow:(n.vars||n).shadows[i.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Object(l.a)("#fff",y(i.elevation)),", ").concat(Object(l.a)("#fff",y(i.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[i.elevation]}))}),g=a.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiPaper"}),a=n.className,s=n.component,l=void 0===s?"div":s,f=n.elevation,h=void 0===f?1:f,y=n.square,g=void 0!==y&&y,b=n.variant,k=void 0===b?"elevation":b,w=Object(i.a)(n,v),_=Object(r.a)({},n,{component:l,elevation:h,square:g,variant:k}),O=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return Object(u.a)(a,d,i)}(_);return Object(p.jsx)(m,Object(r.a)({as:l,ownerState:_,className:Object(o.a)(O.root,a),ref:t},w))});function b(e){return Object(f.a)("MuiCard",e)}Object(h.a)("MuiCard",["root"]);var k=["className","raised"],w=Object(s.a)(g,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})(function(){return{overflow:"hidden"}}),_=a.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiCard"}),a=n.className,s=n.raised,l=void 0!==s&&s,f=Object(i.a)(n,k),h=Object(r.a)({},n,{raised:l}),d=function(e){var t=e.classes;return Object(u.a)({root:["root"]},b,t)}(h);return Object(p.jsx)(w,Object(r.a)({className:Object(o.a)(d.root,a),elevation:l?8:void 0,ref:t,ownerState:h},f))});t.a=_},function(e,t,n){"use strict";var r=n(14),i=n(11),a=n(4),o=n(15),u=n(10),s=n(5),c=n(17),l=n(110),f=n(25),h=n(21),d=n(27),p=n(52),v=n(45),y=n(122),m=n(96),g=n(111);function b(e){return Object(m.a)("MuiLink",e)}var k=Object(g.a)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),w=n(12),_=n(109),O={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=function(e){var t=e.theme,n=e.ownerState,r=function(e){return O[e]||e}(n.color),i=Object(w.b)(t,"palette.".concat(r),!1)||n.color,a=Object(w.b)(t,"palette.".concat(r,"Channel"));return"vars"in t&&a?"rgba(".concat(a," / 0.4)"):Object(_.a)(i,.4)},j=n(16),E=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],S=Object(h.a)(y.a,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat(Object(f.a)(n.underline))],"button"===n.component&&t.button]}})(function(e){var t=e.theme,n=e.ownerState;return Object(u.a)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&Object(u.a)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:x({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&Object(a.a)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(k.focusVisible),{outline:"auto"}))}),I=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiLink"}),a=n.className,h=n.color,y=void 0===h?"primary":h,m=n.component,g=void 0===m?"a":m,k=n.onBlur,w=n.onFocus,_=n.TypographyClasses,x=n.underline,I=void 0===x?"always":x,T=n.variant,C=void 0===T?"inherit":T,N=n.sx,A=Object(o.a)(n,E),R=Object(p.a)(),P=R.isFocusVisibleRef,D=R.onBlur,L=R.onFocus,M=R.ref,F=s.useState(!1),U=Object(i.a)(F,2),V=U[0],z=U[1],B=Object(v.a)(t,M),q=Object(u.a)({},n,{color:y,component:g,focusVisible:V,underline:I,variant:C}),G=function(e){var t=e.classes,n=e.component,r=e.focusVisible,i=e.underline,a={root:["root","underline".concat(Object(f.a)(i)),"button"===n&&"button",r&&"focusVisible"]};return Object(l.a)(a,b,t)}(q);return Object(j.jsx)(S,Object(u.a)({color:y,className:Object(c.a)(G.root,a),classes:_,component:g,onBlur:function(e){D(e),!1===P.current&&z(!1),k&&k(e)},onFocus:function(e){L(e),!0===P.current&&z(!0),w&&w(e)},ref:B,ownerState:q,variant:C,sx:[].concat(Object(r.a)(Object.keys(O).includes(y)?[]:[{color:y}]),Object(r.a)(Array.isArray(N)?N:[N]))},A))});t.a=I},function(e,t,n){"use strict";var r=n(5),i=n(10),a=n(49),o=n(113),u="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",s=n(16);var c=function(e){var t=e.children,n=e.theme,c=Object(o.a)(),l=r.useMemo(function(){var e=null===c?n:function(e,t){return"function"===typeof t?t(e):Object(i.a)({},e,t)}(c,n);return null!=e&&(e[u]=null!==c),e},[n,c]);return Object(s.jsx)(a.a.Provider,{value:l,children:t})},l=n(23),f=n(38);function h(e){var t=Object(f.a)();return Object(s.jsx)(l.b.Provider,{value:"object"===typeof t?t:{},children:e.children})}t.a=function(e){var t=e.children,n=e.theme;return Object(s.jsx)(c,{theme:n,children:Object(s.jsx)(h,{children:t})})}},function(e,t,n){"use strict";var r=n(14),i=n(4),a=n(15),o=n(10),u=n(5),s=n(17),c=n(24),l=n(115),f=n(110),h=n(21),d=n(27),p=n(59);var v=u.createContext(),y=n(96),m=n(111);function g(e){return Object(y.a)("MuiGrid",e)}var b=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],k=Object(m.a)("MuiGrid",["root","container","item","zeroMinWidth"].concat(Object(r.a)([0,1,2,3,4,5,6,7,8,9,10].map(function(e){return"spacing-xs-".concat(e)})),Object(r.a)(["column-reverse","column","row-reverse","row"].map(function(e){return"direction-xs-".concat(e)})),Object(r.a)(["nowrap","wrap-reverse","wrap"].map(function(e){return"wrap-xs-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-xs-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-sm-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-md-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-lg-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-xl-".concat(e)})))),w=n(16),_=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function O(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function x(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach(function(e){""===r&&0!==n[e]&&(r=e)});var i=Object.keys(t).sort(function(e,n){return t[e]-t[n]});return i.slice(0,i.indexOf(r))}var j=Object(h.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,i=n.container,a=n.direction,o=n.item,u=n.spacing,s=n.wrap,c=n.zeroMinWidth,l=n.breakpoints,f=[];i&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach(function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])}),r}(u,l,t));var h=[];return l.forEach(function(e){var r=n[e];r&&h.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,i&&t.container,o&&t.item,c&&t.zeroMinWidth].concat(Object(r.a)(f),["row"!==a&&t["direction-xs-".concat(String(a))],"wrap"!==s&&t["wrap-xs-".concat(String(s))]],h)}})(function(e){var t=e.ownerState;return Object(o.a)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){var t=e.theme,n=e.ownerState,r=Object(c.d)({values:n.direction,breakpoints:t.breakpoints.values});return Object(c.b)({theme:t},r,function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(k.item)]={maxWidth:"none"}),t})},function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.rowSpacing,o={};if(r&&0!==a){var u,s=Object(c.d)({values:a,breakpoints:t.breakpoints.values});"object"===typeof s&&(u=x({breakpoints:t.breakpoints.values,values:s})),o=Object(c.b)({theme:t},s,function(e,n){var r,a=t.spacing(e);return"0px"!==a?Object(i.a)({marginTop:"-".concat(O(a))},"& > .".concat(k.item),{paddingTop:O(a)}):null!=(r=u)&&r.includes(n)?{}:Object(i.a)({marginTop:0},"& > .".concat(k.item),{paddingTop:0})})}return o},function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.columnSpacing,o={};if(r&&0!==a){var u,s=Object(c.d)({values:a,breakpoints:t.breakpoints.values});"object"===typeof s&&(u=x({breakpoints:t.breakpoints.values,values:s})),o=Object(c.b)({theme:t},s,function(e,n){var r,a=t.spacing(e);return"0px"!==a?Object(i.a)({width:"calc(100% + ".concat(O(a),")"),marginLeft:"-".concat(O(a))},"& > .".concat(k.item),{paddingLeft:O(a)}):null!=(r=u)&&r.includes(n)?{}:Object(i.a)({width:"100%",marginLeft:0},"& > .".concat(k.item),{paddingLeft:0})})}return o},function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce(function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var u=Object(c.d)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof u?u[i]:u;if(void 0===s||null===s)return e;var l="".concat(Math.round(t/s*1e8)/1e6,"%"),f={};if(r.container&&r.item&&0!==r.columnSpacing){var h=n.spacing(r.columnSpacing);if("0px"!==h){var d="calc(".concat(l," + ").concat(O(h),")");f={flexBasis:d,maxWidth:d}}}a=Object(o.a)({flexBasis:l,flexGrow:0,maxWidth:l},f)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e},{})});var E=function(e){var t=e.classes,n=e.container,i=e.direction,a=e.item,o=e.spacing,u=e.wrap,s=e.zeroMinWidth,c=e.breakpoints,l=[];n&&(l=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach(function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}}),n}(o,c));var h=[];c.forEach(function(t){var n=e[t];n&&h.push("grid-".concat(t,"-").concat(String(n)))});var d={root:["root",n&&"container",a&&"item",s&&"zeroMinWidth"].concat(Object(r.a)(l),["row"!==i&&"direction-xs-".concat(String(i)),"wrap"!==u&&"wrap-xs-".concat(String(u))],h)};return Object(f.a)(d,g,t)},S=u.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiGrid"}),r=Object(p.a)().breakpoints,i=Object(l.a)(n),c=i.className,f=i.columns,h=i.columnSpacing,y=i.component,m=void 0===y?"div":y,g=i.container,b=void 0!==g&&g,k=i.direction,O=void 0===k?"row":k,x=i.item,S=void 0!==x&&x,I=i.rowSpacing,T=i.spacing,C=void 0===T?0:T,N=i.wrap,A=void 0===N?"wrap":N,R=i.zeroMinWidth,P=void 0!==R&&R,D=Object(a.a)(i,_),L=I||C,M=h||C,F=u.useContext(v),U=b?f||12:F,V={},z=Object(o.a)({},D);r.keys.forEach(function(e){null!=D[e]&&(V[e]=D[e],delete z[e])});var B=Object(o.a)({},i,{columns:U,container:b,direction:O,item:S,rowSpacing:L,columnSpacing:M,wrap:A,zeroMinWidth:P,spacing:C},V,{breakpoints:r.keys}),q=E(B);return Object(w.jsx)(v.Provider,{value:U,children:Object(w.jsx)(j,Object(o.a)({ownerState:B,className:Object(s.a)(q.root,c),as:m,ref:t},z))})});t.a=S},function(e,t,n){"use strict";var r=n(15),i=n(10),a=n(5),o=n(17),u=n(115),s=n(110),c=n(21),l=n(27),f=n(25),h=n(96),d=n(111);function p(e){return Object(h.a)("MuiTypography",e)}Object(d.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=n(16),y=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],m=Object(c.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Object(f.a)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},k=a.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiTypography"}),a=function(e){return b[e]||e}(n.color),c=Object(u.a)(Object(i.a)({},n,{color:a})),h=c.align,d=void 0===h?"inherit":h,k=c.className,w=c.component,_=c.gutterBottom,O=void 0!==_&&_,x=c.noWrap,j=void 0!==x&&x,E=c.paragraph,S=void 0!==E&&E,I=c.variant,T=void 0===I?"body1":I,C=c.variantMapping,N=void 0===C?g:C,A=Object(r.a)(c,y),R=Object(i.a)({},c,{align:d,color:a,className:k,component:w,gutterBottom:O,noWrap:j,paragraph:S,variant:T,variantMapping:N}),P=w||(S?"p":N[T]||g[T])||"span",D=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat(Object(f.a)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Object(s.a)(u,p,o)}(R);return Object(v.jsx)(m,Object(i.a)({as:P,ref:t,ownerState:R,className:Object(o.a)(D.root,k)},A))});t.a=k},function(e,t,n){"use strict";var r=n(10),i=n(15),a=n(5),o=n(17),u=n(44),s=n(112),c=n(115),l=n(38),f=n(16),h=["className","component"];var d=n(97),p=n(72),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,d=void 0===n?"MuiBox-root":n,p=e.generateClassName,v=e.styleFunctionSx,y=void 0===v?s.a:v,m=Object(u.a)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(y);return a.forwardRef(function(e,n){var a=Object(l.a)(t),u=Object(c.a)(e),s=u.className,v=u.component,y=void 0===v?"div":v,g=Object(i.a)(u,h);return Object(f.jsx)(m,Object(r.a)({as:y,ref:n,className:Object(o.a)(s,p?p(d):d),theme:a},g))})}({defaultTheme:Object(p.a)(),defaultClassName:"MuiBox-root",generateClassName:d.a.generate});t.a=v}]]);
//# sourceMappingURL=2.da1b66da.chunk.js.map